var fd={exports:{}},al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function FS(){if(d_)return al;d_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var p in l)p!=="key"&&(h[p]=l[p])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return al.Fragment=t,al.jsx=i,al.jsxs=i,al}var m_;function QS(){return m_||(m_=1,fd.exports=FS()),fd.exports}var At=QS(),dd={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function YS(){if(g_)return vt;g_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=x&&V[x]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Z={};function ct(V,Y,tt){this.props=V,this.context=Y,this.refs=Z,this.updater=tt||W}ct.prototype.isReactComponent={},ct.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ct.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function yt(){}yt.prototype=ct.prototype;function mt(V,Y,tt){this.props=V,this.context=Y,this.refs=Z,this.updater=tt||W}var Ht=mt.prototype=new yt;Ht.constructor=mt,et(Ht,ct.prototype),Ht.isPureReactComponent=!0;var te=Array.isArray;function It(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function A(V,Y,tt){var it=tt.ref;return{$$typeof:s,type:V,key:Y,ref:it!==void 0?it:null,props:tt}}function O(V,Y){return A(V.type,Y,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function M(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(tt){return Y[tt]})}var w=/\/+/g;function ft(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Y.toString(36)}function kt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(It,It):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function q(V,Y,tt,it,pt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var xt=!1;if(V===null)xt=!0;else switch(bt){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(V.$$typeof){case s:case t:xt=!0;break;case S:return xt=V._init,q(xt(V._payload),Y,tt,it,pt)}}if(xt)return pt=pt(V),xt=it===""?"."+ft(V,0):it,te(pt)?(tt="",xt!=null&&(tt=xt.replace(w,"$&/")+"/"),q(pt,Y,tt,"",function(Jr){return Jr})):pt!=null&&(D(pt)&&(pt=O(pt,tt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+xt)),Y.push(pt)),1;xt=0;var Ce=it===""?".":it+":";if(te(V))for(var re=0;re<V.length;re++)it=V[re],bt=Ce+ft(it,re),xt+=q(it,Y,tt,bt,pt);else if(re=G(V),typeof re=="function")for(V=re.call(V),re=0;!(it=V.next()).done;)it=it.value,bt=Ce+ft(it,re++),xt+=q(it,Y,tt,bt,pt);else if(bt==="object"){if(typeof V.then=="function")return q(kt(V),Y,tt,it,pt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return xt}function $(V,Y,tt){if(V==null)return V;var it=[],pt=0;return q(V,it,"","",function(bt){return Y.call(tt,bt,pt++)}),it}function lt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=tt)},function(tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=tt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Pt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ft={map:$,forEach:function(V,Y,tt){$(V,function(){Y.apply(this,arguments)},tt)},count:function(V){var Y=0;return $(V,function(){Y++}),Y},toArray:function(V){return $(V,function(Y){return Y})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return vt.Activity=R,vt.Children=Ft,vt.Component=ct,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=mt,vt.StrictMode=a,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return I.H.useMemoCache(V)}},vt.cache=function(V){return function(){return V.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(V,Y,tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var it=et({},V.props),pt=V.key;if(Y!=null)for(bt in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(it[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)it.children=tt;else if(1<bt){for(var xt=Array(bt),Ce=0;Ce<bt;Ce++)xt[Ce]=arguments[Ce+2];it.children=xt}return A(V.type,pt,it)},vt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},vt.createElement=function(V,Y,tt){var it,pt={},bt=null;if(Y!=null)for(it in Y.key!==void 0&&(bt=""+Y.key),Y)b.call(Y,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=Y[it]);var xt=arguments.length-2;if(xt===1)pt.children=tt;else if(1<xt){for(var Ce=Array(xt),re=0;re<xt;re++)Ce[re]=arguments[re+2];pt.children=Ce}if(V&&V.defaultProps)for(it in xt=V.defaultProps,xt)pt[it]===void 0&&(pt[it]=xt[it]);return A(V,bt,pt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(V){return{$$typeof:p,render:V}},vt.isValidElement=D,vt.lazy=function(V){return{$$typeof:S,_payload:{_status:-1,_result:V},_init:lt}},vt.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},vt.startTransition=function(V){var Y=I.T,tt={};I.T=tt;try{var it=V(),pt=I.S;pt!==null&&pt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(It,Pt)}catch(bt){Pt(bt)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),I.T=Y}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(V){return I.H.use(V)},vt.useActionState=function(V,Y,tt){return I.H.useActionState(V,Y,tt)},vt.useCallback=function(V,Y){return I.H.useCallback(V,Y)},vt.useContext=function(V){return I.H.useContext(V)},vt.useDebugValue=function(){},vt.useDeferredValue=function(V,Y){return I.H.useDeferredValue(V,Y)},vt.useEffect=function(V,Y){return I.H.useEffect(V,Y)},vt.useEffectEvent=function(V){return I.H.useEffectEvent(V)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(V,Y,tt){return I.H.useImperativeHandle(V,Y,tt)},vt.useInsertionEffect=function(V,Y){return I.H.useInsertionEffect(V,Y)},vt.useLayoutEffect=function(V,Y){return I.H.useLayoutEffect(V,Y)},vt.useMemo=function(V,Y){return I.H.useMemo(V,Y)},vt.useOptimistic=function(V,Y){return I.H.useOptimistic(V,Y)},vt.useReducer=function(V,Y,tt){return I.H.useReducer(V,Y,tt)},vt.useRef=function(V){return I.H.useRef(V)},vt.useState=function(V){return I.H.useState(V)},vt.useSyncExternalStore=function(V,Y,tt){return I.H.useSyncExternalStore(V,Y,tt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.0",vt}var p_;function im(){return p_||(p_=1,dd.exports=YS()),dd.exports}var Fn=im(),md={exports:{}},ol={},gd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y_;function KS(){return y_||(y_=1,(function(s){function t(q,$){var lt=q.length;q.push($);t:for(;0<lt;){var Pt=lt-1>>>1,Ft=q[Pt];if(0<l(Ft,$))q[Pt]=$,q[lt]=Ft,lt=Pt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var $=q[0],lt=q.pop();if(lt!==$){q[0]=lt;t:for(var Pt=0,Ft=q.length,V=Ft>>>1;Pt<V;){var Y=2*(Pt+1)-1,tt=q[Y],it=Y+1,pt=q[it];if(0>l(tt,lt))it<Ft&&0>l(pt,tt)?(q[Pt]=pt,q[it]=lt,Pt=it):(q[Pt]=tt,q[Y]=lt,Pt=Y);else if(it<Ft&&0>l(pt,lt))q[Pt]=pt,q[it]=lt,Pt=it;else break t}}return $}function l(q,$){var lt=q.sortIndex-$.sortIndex;return lt!==0?lt:q.id-$.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],S=1,R=null,x=3,G=!1,W=!1,et=!1,Z=!1,ct=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ht(q){for(var $=i(_);$!==null;){if($.callback===null)a(_);else if($.startTime<=q)a(_),$.sortIndex=$.expirationTime,t(v,$);else break;$=i(_)}}function te(q){if(et=!1,Ht(q),!W)if(i(v)!==null)W=!0,It||(It=!0,M());else{var $=i(_);$!==null&&kt(te,$.startTime-q)}}var It=!1,I=-1,b=5,A=-1;function O(){return Z?!0:!(s.unstable_now()-A<b)}function D(){if(Z=!1,It){var q=s.unstable_now();A=q;var $=!0;try{t:{W=!1,et&&(et=!1,yt(I),I=-1),G=!0;var lt=x;try{e:{for(Ht(q),R=i(v);R!==null&&!(R.expirationTime>q&&O());){var Pt=R.callback;if(typeof Pt=="function"){R.callback=null,x=R.priorityLevel;var Ft=Pt(R.expirationTime<=q);if(q=s.unstable_now(),typeof Ft=="function"){R.callback=Ft,Ht(q),$=!0;break e}R===i(v)&&a(v),Ht(q)}else a(v);R=i(v)}if(R!==null)$=!0;else{var V=i(_);V!==null&&kt(te,V.startTime-q),$=!1}}break t}finally{R=null,x=lt,G=!1}$=void 0}}finally{$?M():It=!1}}}var M;if(typeof mt=="function")M=function(){mt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ft=w.port2;w.port1.onmessage=D,M=function(){ft.postMessage(null)}}else M=function(){ct(D,0)};function kt(q,$){I=ct(function(){q(s.unstable_now())},$)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(q){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var lt=x;x=$;try{return q()}finally{x=lt}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var lt=x;x=q;try{return $()}finally{x=lt}},s.unstable_scheduleCallback=function(q,$,lt){var Pt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?Pt+lt:Pt):lt=Pt,q){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=lt+Ft,q={id:S++,callback:$,priorityLevel:q,startTime:lt,expirationTime:Ft,sortIndex:-1},lt>Pt?(q.sortIndex=lt,t(_,q),i(v)===null&&q===i(_)&&(et?(yt(I),I=-1):et=!0,kt(te,lt-Pt))):(q.sortIndex=Ft,t(v,q),W||G||(W=!0,It||(It=!0,M()))),q},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(q){var $=x;return function(){var lt=x;x=$;try{return q.apply(this,arguments)}finally{x=lt}}}})(pd)),pd}var __;function XS(){return __||(__=1,gd.exports=KS()),gd.exports}var yd={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function ZS(){if(v_)return Qe;v_=1;var s=im();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,_,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:v,containerInfo:_,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,S)},Qe.flushSync=function(v){var _=d.T,S=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=S,a.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,R=p(S,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:x,fetchPriority:G}):S==="script"&&a.d.X(v,{crossOrigin:R,integrity:x,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=p(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,R=p(S,_.crossOrigin);a.d.L(v,S,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=p(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},Qe.requestFormReset=function(v){a.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,S){return d.H.useFormState(v,_,S)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.0",Qe}var E_;function JS(){if(E_)return yd.exports;E_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),yd.exports=ZS(),yd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function $S(){if(T_)return ol;T_=1;var s=XS(),t=im(),i=JS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return v(c),e;if(f===o)return v(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var g=!1,E=c.child;E;){if(E===r){g=!0,r=c,o=f;break}if(E===o){g=!0,o=c,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=c;break}if(E===o){g=!0,o=f,r=c;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,x=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ht=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case Z:return"StrictMode";case te:return"Suspense";case It:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Ht:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ft(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ft(e(n))}catch{}}return null}var kt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function V(e){return{current:e}}function Y(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function tt(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var it=V(null),pt=V(null),bt=V(null),xt=V(null);function Ce(e,n){switch(tt(bt,n),tt(pt,e),tt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ly(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ly(n),e=ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(it),tt(it,e)}function re(){Y(it),Y(pt),Y(bt)}function Jr(e){e.memoizedState!==null&&tt(xt,e);var n=it.current,r=ky(n,e.type);n!==r&&(tt(pt,e),tt(it,r))}function js(e){pt.current===e&&(Y(it),Y(pt)),xt.current===e&&(Y(xt),nl._currentValue=lt)}var qs,Hs;function Xn(e){if(qs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);qs=n&&n[1]||"",Hs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qs+e+Hs}var eo=!1;function $r(e,n){if(!e||eo)return"";eo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var z=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){z=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){z=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(c=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===C.length||c===P.length)for(o=C.length-1,c=P.length-1;1<=o&&0<=c&&C[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(C[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||C[o]!==P[c]){var H=`
`+C[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{eo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Xn(r):""}function no(e,n){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==n&&n!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return $r(e.type,!1);case 11:return $r(e.type.render,!1);case 1:return $r(e.type,!0);case 31:return Xn("Activity");default:return""}}function io(e){try{var n="",r=null;do n+=no(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ie=s.unstable_scheduleCallback,nr=s.unstable_cancelCallback,dh=s.unstable_shouldYield,Bl=s.unstable_requestPaint,Je=s.unstable_now,Wr=s.unstable_getCurrentPriorityLevel,ro=s.unstable_ImmediatePriority,so=s.unstable_UserBlockingPriority,ir=s.unstable_NormalPriority,mh=s.unstable_LowPriority,jl=s.unstable_IdlePriority,ql=s.log,Hl=s.unstable_setDisableYieldValue,Mn=null,ke=null;function _n(e){if(typeof ql=="function"&&Hl(e),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Mn,e)}catch{}}var he=Math.clz32?Math.clz32:Fl,Gl=Math.log,Gs=Math.LN2;function Fl(e){return e>>>=0,e===0?32:31-(Gl(e)/Gs|0)|0}var Zn=256,ts=262144,ye=4194304;function Jn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function $n(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Jn(o):(g&=E,g!==0?c=Jn(g):r||(r=E&~e,r!==0&&(c=Jn(r))))):(E=o&~f,E!==0?c=Jn(E):g!==0?c=Jn(g):r||(r=o&~e,r!==0&&(c=Jn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Un(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function gh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function Wn(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function es(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ph(e,n,r,o,c,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var H=31-he(r),Q=1<<H;E[H]=0,C[H]=-1;var z=P[H];if(z!==null)for(P[H]=null,H=0;H<z.length;H++){var j=z[H];j!==null&&(j.lane&=-536870913)}r&=~Q}o!==0&&ns(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ns(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function ao(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function oo(e,n){var r=n&-n;return r=(r&42)!==0?1:is(r),(r&(e.suspendedLanes|n))!==0?0:r}function is(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yl(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:a_(e.type))}function xn(e,n){var r=$.p;try{return $.p=e,n()}finally{$.p=r}}var Ln=Math.random().toString(36).slice(2),_e="__reactFiber$"+Ln,Ve="__reactProps$"+Ln,ti="__reactContainer$"+Ln,Fs="__reactEvents$"+Ln,yh="__reactListeners$"+Ln,Kl="__reactHandles$"+Ln,Xl="__reactResources$"+Ln,ei="__reactMarker$"+Ln;function Qs(e){delete e[_e],delete e[Ve],delete e[Fs],delete e[yh],delete e[Kl]}function ni(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ti]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Gy(e);e!==null;){if(r=e[_e])return r;e=Gy(e)}return n}e=r,r=e.parentNode}return null}function vn(e){if(e=e[_e]||e[ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function un(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ii(e){var n=e[Xl];return n||(n=e[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ei]=!0}var lo=new Set,uo={};function ri(e,n){si(e,n),si(e+"Capture",n)}function si(e,n){for(uo[e]=n,e=0;e<n.length;e++)lo.add(n[e])}var co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ho={},fo={};function Zl(e){return pe.call(fo,e)?!0:pe.call(ho,e)?!1:co.test(e)?fo[e]=!0:(ho[e]=!0,!1)}function Ys(e,n,r){if(Zl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function cn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Me(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mo(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=rr(e)?"checked":"value";e._valueTracker=mo(e,n,""+e[n])}}function rs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rr(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ss=/[\n"\\]/g;function tn(e){return e.replace(ss,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ks(e,n,r,o,c,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Me(n)):e.value!==""+Me(n)&&(e.value=""+Me(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?go(e,g,Me(n)):r!=null?go(e,g,Me(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Me(E):e.removeAttribute("name")}function Jl(e,n,r,o,c,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}r=r!=null?""+Me(r):"",n=n!=null?""+Me(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function go(e,n,r){n==="number"&&ai(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function sr(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Me(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function $l(e,n,r){if(n!=null&&(n=""+Me(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Me(r):""}function ar(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(kt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Me(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Qt(e)}function en(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Wl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function po(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Wl.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function yo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&po(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&po(e,f,n[f])}function Xs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(e){return or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function kn(){}var _o=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lr=null,oi=null;function as(e){var n=vn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(Ks(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[Ve]||null;if(!c)throw Error(a(90));Ks(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&rs(o)}break t;case"textarea":$l(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&sr(e,!!r.multiple,n,!1)}}}var Js=!1;function ur(e,n,r){if(Js)return e(n,r);Js=!0;try{var o=e(n);return o}finally{if(Js=!1,(lr!==null||oi!==null)&&(Yu(),lr&&(n=lr,e=oi,oi=lr=null,as(n),e)))for(n=0;n<e.length;n++)as(e[n])}}function Pn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(Tn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){os=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{os=!1}var li=null,vo=null,ls=null;function Eo(){if(ls)return ls;var e,n=vo,r=n.length,o,c="value"in li?li.value:li.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===c[f-o];o++);return ls=c.slice(e,1<o?1-o:void 0)}function us(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function zn(){return!1}function Pe(e){function n(r,o,c,f,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:zn,this.isPropagationStopped=zn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ui=Pe(Oi),cr=R({},Oi,{view:0,detail:0}),To=Pe(cr),hr,$s,ci,Ws=R({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(hr=e.screenX-ci.screenX,$s=e.screenY-ci.screenY):$s=hr=0,ci=e),hr)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),So=Pe(Ws),cs=R({},Ws,{dataTransfer:0}),eu=Pe(cs),nu=R({},cr,{relatedTarget:0}),hs=Pe(nu),Ao=R({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),iu=Pe(Ao),ta=R({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ru=Pe(ta),su=R({},Oi,{data:0}),hi=Pe(su),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ou={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lu[e])?!!n[e]:!1}function fr(){return uu}var $e=R({},cr,{key:function(e){if(e.key){var n=au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ou[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fr,charCode:function(e){return e.type==="keypress"?us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cu=Pe($e),hu=R({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=Pe(hu),u=R({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fr}),m=Pe(u),y=R({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Pe(y),L=R({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Pe(L),J=R({},Oi,{newState:0,oldState:0}),Tt=Pe(J),fe=[9,13,27,32],jt=Tn&&"CompositionEvent"in window,se=null;Tn&&"documentMode"in document&&(se=document.documentMode);var Sn=Tn&&"TextEvent"in window&&!se,fi=Tn&&(!jt||se&&8<se&&11>=se),Bn=" ",jn=!1;function fs(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var na=!1;function g0(e,n){switch(e){case"compositionend":return ea(n);case"keypress":return n.which!==32?null:(jn=!0,Bn);case"textInput":return e=n.data,e===Bn&&jn?null:e;default:return null}}function p0(e,n){if(na)return e==="compositionend"||!jt&&fs(e,n)?(e=Eo(),ls=vo=li=null,na=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fi&&n.locale!=="ko"?null:n.data;default:return null}}var y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!y0[e.type]:n==="textarea"}function Km(e,n,r,o){lr?oi?oi.push(o):oi=[o]:lr=o,n=tc(n,"onChange"),0<n.length&&(r=new ui("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var bo=null,wo=null;function _0(e){Oy(e,0)}function fu(e){var n=un(e);if(rs(n))return e}function Xm(e,n){if(e==="change")return n}var Zm=!1;if(Tn){var _h;if(Tn){var vh="oninput"in document;if(!vh){var Jm=document.createElement("div");Jm.setAttribute("oninput","return;"),vh=typeof Jm.oninput=="function"}_h=vh}else _h=!1;Zm=_h&&(!document.documentMode||9<document.documentMode)}function $m(){bo&&(bo.detachEvent("onpropertychange",Wm),wo=bo=null)}function Wm(e){if(e.propertyName==="value"&&fu(wo)){var n=[];Km(n,wo,e,En(e)),ur(_0,n)}}function v0(e,n,r){e==="focusin"?($m(),bo=n,wo=r,bo.attachEvent("onpropertychange",Wm)):e==="focusout"&&$m()}function E0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fu(wo)}function T0(e,n){if(e==="click")return fu(n)}function S0(e,n){if(e==="input"||e==="change")return fu(n)}function A0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:A0;function Ro(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!pe.call(n,c)||!hn(e[c],n[c]))return!1}return!0}function tg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function eg(e,n){var r=tg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=tg(r)}}function ng(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ng(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ig(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ai(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ai(e.document)}return n}function Eh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var b0=Tn&&"documentMode"in document&&11>=document.documentMode,ia=null,Th=null,Co=null,Sh=!1;function rg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sh||ia==null||ia!==ai(o)||(o=ia,"selectionStart"in o&&Eh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Co&&Ro(Co,o)||(Co=o,o=tc(Th,"onSelect"),0<o.length&&(n=new ui("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ia)))}function ds(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ra={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Ah={},sg={};Tn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function ms(e){if(Ah[e])return Ah[e];if(!ra[e])return e;var n=ra[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in sg)return Ah[e]=n[r];return e}var ag=ms("animationend"),og=ms("animationiteration"),lg=ms("animationstart"),w0=ms("transitionrun"),R0=ms("transitionstart"),C0=ms("transitioncancel"),ug=ms("transitionend"),cg=new Map,bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bh.push("scrollEnd");function qn(e,n){cg.set(e,n),ri(n,[e])}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},An=[],sa=0,wh=0;function mu(){for(var e=sa,n=wh=sa=0;n<e;){var r=An[n];An[n++]=null;var o=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&hg(r,c,f)}}function gu(e,n,r,o){An[sa++]=e,An[sa++]=n,An[sa++]=r,An[sa++]=o,wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Rh(e,n,r,o){return gu(e,n,r,o),pu(e)}function gs(e,n){return gu(e,null,null,n),pu(e)}function hg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-he(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function pu(e){if(50<Xo)throw Xo=0,Lf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var aa={};function I0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,n,r,o){return new I0(e,n,r,o)}function Ch(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=fn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function fg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function yu(e,n,r,o,c,f){var g=0;if(o=e,typeof e=="function")Ch(e)&&(g=1);else if(typeof e=="string")g=MS(e,r,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case A:return e=fn(31,r,n,c),e.elementType=A,e.lanes=f,e;case et:return ps(r.children,c,f,n);case Z:g=8,c|=24;break;case ct:return e=fn(12,r,n,c|2),e.elementType=ct,e.lanes=f,e;case te:return e=fn(13,r,n,c),e.elementType=te,e.lanes=f,e;case It:return e=fn(19,r,n,c),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case yt:g=9;break t;case Ht:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=fn(g,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function ps(e,n,r,o){return e=fn(7,e,o,n),e.lanes=r,e}function Ih(e,n,r){return e=fn(6,e,null,n),e.lanes=r,e}function dg(e){var n=fn(18,null,null,0);return n.stateNode=e,n}function Dh(e,n,r){return n=fn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var mg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var r=mg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:io(n)},mg.set(e,n),n)}return{value:e,source:n,stack:io(n)}}var oa=[],la=0,_u=null,Io=0,wn=[],Rn=0,dr=null,di=1,mi="";function Mi(e,n){oa[la++]=Io,oa[la++]=_u,_u=e,Io=n}function gg(e,n,r){wn[Rn++]=di,wn[Rn++]=mi,wn[Rn++]=dr,dr=e;var o=di;e=mi;var c=32-he(o)-1;o&=~(1<<c),r+=1;var f=32-he(n)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,di=1<<32-he(n)+c|r<<c|o,mi=f+e}else di=1<<f|r<<c|o,mi=e}function Oh(e){e.return!==null&&(Mi(e,1),gg(e,1,0))}function Nh(e){for(;e===_u;)_u=oa[--la],oa[la]=null,Io=oa[--la],oa[la]=null;for(;e===dr;)dr=wn[--Rn],wn[Rn]=null,mi=wn[--Rn],wn[Rn]=null,di=wn[--Rn],wn[Rn]=null}function pg(e,n){wn[Rn++]=di,wn[Rn++]=mi,wn[Rn++]=dr,di=n.id,mi=n.overflow,dr=e}var ze=null,ee=null,Ut=!1,mr=null,Cn=!1,Vh=Error(a(519));function gr(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Do(bn(n,e)),Vh}function yg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Jo.length;r++)Ct(Jo[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Jl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ar(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Uy(n.textContent,r)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=kn),n=!0):n=!1,n||gr(e,!0)}function _g(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:ze=ze.return}}function ua(e){if(e!==ze)return!1;if(!Ut)return _g(e),Ut=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Jf(e.type,e.memoizedProps)),r=!r),r&&ee&&gr(e),_g(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=Hy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=Hy(e)}else n===27?(n=ee,Dr(e.type)?(e=nd,nd=null,ee=e):ee=n):ee=ze?Dn(e.stateNode.nextSibling):null;return!0}function ys(){ee=ze=null,Ut=!1}function Mh(){var e=mr;return e!==null&&(an===null?an=e:an.push.apply(an,e),mr=null),e}function Do(e){mr===null?mr=[e]:mr.push(e)}var Uh=V(null),_s=null,Ui=null;function pr(e,n,r){tt(Uh,n._currentValue),n._currentValue=r}function xi(e){e._currentValue=Uh.current,Y(Uh)}function xh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Lh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),xh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),xh(g,r,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ca(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=c.type;hn(c.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(c===xt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(nl):e=[nl])}c=c.return}e!==null&&Lh(n,e,r,o),n.flags|=262144}function vu(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return vg(_s,e)}function Eu(e,n){return _s===null&&vs(e),vg(e,n)}function vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ui===null){if(e===null)throw Error(a(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return r}var D0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},O0=s.unstable_scheduleCallback,N0=s.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new D0,data:new Map,refCount:0}}function Oo(e){e.refCount--,e.refCount===0&&O0(N0,function(){e.controller.abort()})}var No=null,Ph=0,ha=0,fa=null;function V0(e,n){if(No===null){var r=No=[];Ph=0,ha=qf(),fa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Ph++,n.then(Eg,Eg),n}function Eg(){if(--Ph===0&&No!==null){fa!==null&&(fa.status="fulfilled");var e=No;No=null,ha=0,fa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function M0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Tg=q.S;q.S=function(e,n){ry=Je(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&V0(e,n),Tg!==null&&Tg(e,n)};var Es=V(null);function zh(){var e=Es.current;return e!==null?e:Wt.pooledCache}function Tu(e,n){n===null?tt(Es,Es.current):tt(Es,n.pool)}function Sg(){var e=zh();return e===null?null:{parent:Te._currentValue,pool:e}}var da=Error(a(460)),Bh=Error(a(474)),Su=Error(a(542)),Au={then:function(){}};function Ag(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(kn,kn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e;default:if(typeof n.status=="string")n.then(kn,kn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rg(e),e}throw Ss=n,da}}function Ts(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ss=r,da):r}}var Ss=null;function wg(){if(Ss===null)throw Error(a(459));var e=Ss;return Ss=null,e}function Rg(e){if(e===da||e===Su)throw Error(a(483))}var ma=null,Vo=0;function bu(e){var n=Vo;return Vo+=1,ma===null&&(ma=[]),bg(ma,e,n)}function Mo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Cg(e){function n(U,N){if(e){var k=U.deletions;k===null?(U.deletions=[N],U.flags|=16):k.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=Vi(U,N),U.index=0,U.sibling=null,U}function f(U,N,k){return U.index=k,e?(k=U.alternate,k!==null?(k=k.index,k<N?(U.flags|=67108866,N):k):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,k,F){return N===null||N.tag!==6?(N=Ih(k,U.mode,F),N.return=U,N):(N=c(N,k),N.return=U,N)}function C(U,N,k,F){var ot=k.type;return ot===et?H(U,N,k.props.children,F,k.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Ts(ot)===N.type)?(N=c(N,k.props),Mo(N,k),N.return=U,N):(N=yu(k.type,k.key,k.props,null,U.mode,F),Mo(N,k),N.return=U,N)}function P(U,N,k,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Dh(k,U.mode,F),N.return=U,N):(N=c(N,k.children||[]),N.return=U,N)}function H(U,N,k,F,ot){return N===null||N.tag!==7?(N=ps(k,U.mode,F,ot),N.return=U,N):(N=c(N,k),N.return=U,N)}function Q(U,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ih(""+N,U.mode,k),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return k=yu(N.type,N.key,N.props,null,U.mode,k),Mo(k,N),k.return=U,k;case W:return N=Dh(N,U.mode,k),N.return=U,N;case b:return N=Ts(N),Q(U,N,k)}if(kt(N)||M(N))return N=ps(N,U.mode,k,null),N.return=U,N;if(typeof N.then=="function")return Q(U,bu(N),k);if(N.$$typeof===mt)return Q(U,Eu(U,N),k);wu(U,N)}return null}function z(U,N,k,F){var ot=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(U,N,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case G:return k.key===ot?C(U,N,k,F):null;case W:return k.key===ot?P(U,N,k,F):null;case b:return k=Ts(k),z(U,N,k,F)}if(kt(k)||M(k))return ot!==null?null:H(U,N,k,F,null);if(typeof k.then=="function")return z(U,N,bu(k),F);if(k.$$typeof===mt)return z(U,N,Eu(U,k),F);wu(U,k)}return null}function j(U,N,k,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(k)||null,E(N,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?k:F.key)||null,C(N,U,F,ot);case W:return U=U.get(F.key===null?k:F.key)||null,P(N,U,F,ot);case b:return F=Ts(F),j(U,N,k,F,ot)}if(kt(F)||M(F))return U=U.get(k)||null,H(N,U,F,ot,null);if(typeof F.then=="function")return j(U,N,k,bu(F),ot);if(F.$$typeof===mt)return j(U,N,k,Eu(N,F),ot);wu(N,F)}return null}function rt(U,N,k,F){for(var ot=null,zt=null,st=N,wt=N=0,Ot=null;st!==null&&wt<k.length;wt++){st.index>wt?(Ot=st,st=null):Ot=st.sibling;var Bt=z(U,st,k[wt],F);if(Bt===null){st===null&&(st=Ot);break}e&&st&&Bt.alternate===null&&n(U,st),N=f(Bt,N,wt),zt===null?ot=Bt:zt.sibling=Bt,zt=Bt,st=Ot}if(wt===k.length)return r(U,st),Ut&&Mi(U,wt),ot;if(st===null){for(;wt<k.length;wt++)st=Q(U,k[wt],F),st!==null&&(N=f(st,N,wt),zt===null?ot=st:zt.sibling=st,zt=st);return Ut&&Mi(U,wt),ot}for(st=o(st);wt<k.length;wt++)Ot=j(st,U,wt,k[wt],F),Ot!==null&&(e&&Ot.alternate!==null&&st.delete(Ot.key===null?wt:Ot.key),N=f(Ot,N,wt),zt===null?ot=Ot:zt.sibling=Ot,zt=Ot);return e&&st.forEach(function(Ur){return n(U,Ur)}),Ut&&Mi(U,wt),ot}function ht(U,N,k,F){if(k==null)throw Error(a(151));for(var ot=null,zt=null,st=N,wt=N=0,Ot=null,Bt=k.next();st!==null&&!Bt.done;wt++,Bt=k.next()){st.index>wt?(Ot=st,st=null):Ot=st.sibling;var Ur=z(U,st,Bt.value,F);if(Ur===null){st===null&&(st=Ot);break}e&&st&&Ur.alternate===null&&n(U,st),N=f(Ur,N,wt),zt===null?ot=Ur:zt.sibling=Ur,zt=Ur,st=Ot}if(Bt.done)return r(U,st),Ut&&Mi(U,wt),ot;if(st===null){for(;!Bt.done;wt++,Bt=k.next())Bt=Q(U,Bt.value,F),Bt!==null&&(N=f(Bt,N,wt),zt===null?ot=Bt:zt.sibling=Bt,zt=Bt);return Ut&&Mi(U,wt),ot}for(st=o(st);!Bt.done;wt++,Bt=k.next())Bt=j(st,U,wt,Bt.value,F),Bt!==null&&(e&&Bt.alternate!==null&&st.delete(Bt.key===null?wt:Bt.key),N=f(Bt,N,wt),zt===null?ot=Bt:zt.sibling=Bt,zt=Bt);return e&&st.forEach(function(GS){return n(U,GS)}),Ut&&Mi(U,wt),ot}function $t(U,N,k,F){if(typeof k=="object"&&k!==null&&k.type===et&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case G:t:{for(var ot=k.key;N!==null;){if(N.key===ot){if(ot=k.type,ot===et){if(N.tag===7){r(U,N.sibling),F=c(N,k.props.children),F.return=U,U=F;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Ts(ot)===N.type){r(U,N.sibling),F=c(N,k.props),Mo(F,k),F.return=U,U=F;break t}r(U,N);break}else n(U,N);N=N.sibling}k.type===et?(F=ps(k.props.children,U.mode,F,k.key),F.return=U,U=F):(F=yu(k.type,k.key,k.props,null,U.mode,F),Mo(F,k),F.return=U,U=F)}return g(U);case W:t:{for(ot=k.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){r(U,N.sibling),F=c(N,k.children||[]),F.return=U,U=F;break t}else{r(U,N);break}else n(U,N);N=N.sibling}F=Dh(k,U.mode,F),F.return=U,U=F}return g(U);case b:return k=Ts(k),$t(U,N,k,F)}if(kt(k))return rt(U,N,k,F);if(M(k)){if(ot=M(k),typeof ot!="function")throw Error(a(150));return k=ot.call(k),ht(U,N,k,F)}if(typeof k.then=="function")return $t(U,N,bu(k),F);if(k.$$typeof===mt)return $t(U,N,Eu(U,k),F);wu(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(r(U,N.sibling),F=c(N,k),F.return=U,U=F):(r(U,N),F=Ih(k,U.mode,F),F.return=U,U=F),g(U)):r(U,N)}return function(U,N,k,F){try{Vo=0;var ot=$t(U,N,k,F);return ma=null,ot}catch(st){if(st===da||st===Su)throw st;var zt=fn(29,st,null,U.mode);return zt.lanes=F,zt.return=U,zt}finally{}}}var As=Cg(!0),Ig=Cg(!1),yr=!1;function jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=pu(e),hg(e,null,r),n}return gu(e,o,n,r),pu(e)}function Uo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ao(e,r)}}function Hh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Gh=!1;function xo(){if(Gh){var e=fa;if(e!==null)throw e}}function Lo(e,n,r,o){Gh=!1;var c=e.updateQueue;yr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==g&&(E===null?H.firstBaseUpdate=P:E.next=P,H.lastBaseUpdate=C))}if(f!==null){var Q=c.baseState;g=0,H=P=C=null,E=f;do{var z=E.lane&-536870913,j=z!==E.lane;if(j?(Dt&z)===z:(o&z)===z){z!==0&&z===ha&&(Gh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,ht=E;z=n;var $t=r;switch(ht.tag){case 1:if(rt=ht.payload,typeof rt=="function"){Q=rt.call($t,Q,z);break t}Q=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=ht.payload,z=typeof rt=="function"?rt.call($t,Q,z):rt,z==null)break t;Q=R({},Q,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[z]:j.push(z))}else j={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(P=H=j,C=Q):H=H.next=j,g|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);H===null&&(C=Q),c.baseState=C,c.firstBaseUpdate=P,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=Q}}function Dg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Og(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Dg(r[e],n)}var ga=V(null),Ru=V(0);function Ng(e,n){e=Gi,tt(Ru,e),tt(ga,n),Gi=e|n.baseLanes}function Fh(){tt(Ru,Gi),tt(ga,ga.current)}function Qh(){Gi=Ru.current,Y(ga),Y(Ru)}var dn=V(null),In=null;function Er(e){var n=e.alternate;tt(de,de.current&1),tt(dn,e),In===null&&(n===null||ga.current!==null||n.memoizedState!==null)&&(In=e)}function Yh(e){tt(de,de.current),tt(dn,e),In===null&&(In=e)}function Vg(e){e.tag===22?(tt(de,de.current),tt(dn,e),In===null&&(In=e)):Tr()}function Tr(){tt(de,de.current),tt(dn,dn.current)}function mn(e){Y(dn),In===e&&(In=null),Y(de)}var de=V(0);function Cu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||td(r)||ed(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,St=null,Zt=null,Se=null,Iu=!1,pa=!1,bs=!1,Du=0,ko=0,ya=null,U0=0;function ue(){throw Error(a(321))}function Kh(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!hn(e[r],n[r]))return!1;return!0}function Xh(e,n,r,o,c,f){return Li=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?gp:hf,bs=!1,f=r(o,c),bs=!1,pa&&(f=Ug(n,r,o,c)),Mg(e),f}function Mg(e){q.H=Bo;var n=Zt!==null&&Zt.next!==null;if(Li=0,Se=Zt=St=null,Iu=!1,ko=0,ya=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&vu(e)&&(Ae=!0))}function Ug(e,n,r,o){St=e;var c=0;do{if(pa&&(ya=null),ko=0,pa=!1,25<=c)throw Error(a(301));if(c+=1,Se=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=pp,f=n(r,o)}while(pa);return f}function x0(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?Po(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function Zh(){var e=Du!==0;return Du=0,e}function Jh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function $h(e){if(Iu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Iu=!1}Li=0,Se=Zt=St=null,pa=!1,ko=Du=0,ya=null}function We(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?St.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Se===null?St.memoizedState:Se.next;if(n!==null)Se=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Se===null?St.memoizedState=Se=e:Se=Se.next=e}return Se}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var n=ko;return ko+=1,ya===null&&(ya=[]),e=bg(ya,e,n),n=St,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?gp:hf),e}function Nu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===mt)return Be(e)}throw Error(a(438,String(e)))}function Wh(e){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ou(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=O;return n.index++,r}function ki(e,n){return typeof n=="function"?n(e):n}function Vu(e){var n=me();return tf(n,Zt,e)}function tf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=g=null,C=null,P=n,H=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Dt&Q)===Q:(Li&Q)===Q){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===ha&&(H=!0);else if((Li&z)===z){P=P.next,z===ha&&(H=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Q,g=f):C=C.next=Q,St.lanes|=z,br|=z;Q=P.action,bs&&r(f,Q),f=P.hasEagerState?P.eagerState:r(f,Q)}else z={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,St.lanes|=Q,br|=Q;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=E,!hn(f,e.memoizedState)&&(Ae=!0,H&&(r=fa,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ef(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);hn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function xg(e,n,r){var o=St,c=me(),f=Ut;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!hn((Zt||c).memoizedState,r);if(g&&(c.memoizedState=r,Ae=!0),c=c.queue,sf(Pg.bind(null,o,c,e),[e]),c.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,_a(9,{destroy:void 0},kg.bind(null,o,c,r,n),null),Wt===null)throw Error(a(349));f||(Li&127)!==0||Lg(o,n,r)}return r}function Lg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Ou(),St.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function kg(e,n,r,o){n.value=r,n.getSnapshot=o,zg(n)&&Bg(e)}function Pg(e,n,r){return r(function(){zg(n)&&Bg(e)})}function zg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!hn(e,r)}catch{return!0}}function Bg(e){var n=gs(e,2);n!==null&&on(n,e,2)}function nf(e){var n=We();if(typeof e=="function"){var r=e;if(e=r(),bs){_n(!0);try{r()}finally{_n(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n}function jg(e,n,r,o){return e.baseState=r,tf(e,Zt,typeof o=="function"?o:ki)}function L0(e,n,r,o,c){if(xu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,qg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function qg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var E=r(c,o),C=q.S;C!==null&&C(g,E),Hg(e,n,E)}catch(P){rf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=r(c,o),Hg(e,n,f)}catch(P){rf(e,n,P)}}function Hg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Gg(e,n,o)},function(o){return rf(e,n,o)}):Gg(e,n,r)}function Gg(e,n,r){n.status="fulfilled",n.value=r,Fg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,qg(e,r)))}function rf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Fg(n),n=n.next;while(n!==o)}e.action=null}function Fg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Qg(e,n){return n}function Yg(e,n){if(Ut){var r=Wt.formState;if(r!==null){t:{var o=St;if(Ut){if(ee){e:{for(var c=ee,f=Cn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Dn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ee=Dn(c.nextSibling),o=c.data==="F!";break t}}gr(o)}o=!1}o&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qg,lastRenderedState:n},r.queue=o,r=fp.bind(null,St,o),o.dispatch=r,o=nf(!1),f=cf.bind(null,St,!1,o.queue),o=We(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=L0.bind(null,St,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function Kg(e){var n=me();return Xg(n,Zt,e)}function Xg(e,n,r){if(n=tf(e,n,Qg)[0],e=Vu(ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Po(n)}catch(g){throw g===da?Su:g}else o=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,_a(9,{destroy:void 0},k0.bind(null,c,r),null)),[o,f,e]}function k0(e,n){e.action=n}function Zg(e){var n=me(),r=Zt;if(r!==null)return Xg(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function _a(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Ou(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Jg(){return me().memoizedState}function Mu(e,n,r,o){var c=We();St.flags|=e,c.memoizedState=_a(1|n,{destroy:void 0},r,o===void 0?null:o)}function Uu(e,n,r,o){var c=me();o=o===void 0?null:o;var f=c.memoizedState.inst;Zt!==null&&o!==null&&Kh(o,Zt.memoizedState.deps)?c.memoizedState=_a(n,f,r,o):(St.flags|=e,c.memoizedState=_a(1|n,f,r,o))}function $g(e,n){Mu(8390656,8,e,n)}function sf(e,n){Uu(2048,8,e,n)}function P0(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Ou(),St.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Wg(e){var n=me().memoizedState;return P0({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function tp(e,n){return Uu(4,2,e,n)}function ep(e,n){return Uu(4,4,e,n)}function np(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ip(e,n,r){r=r!=null?r.concat([e]):null,Uu(4,4,np.bind(null,n,e),r)}function af(){}function rp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&Kh(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function sp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&Kh(n,o[1]))return o[0];if(o=e(),bs){_n(!0);try{e()}finally{_n(!1)}}return r.memoizedState=[o,n],o}function of(e,n,r){return r===void 0||(Li&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=ay(),St.lanes|=e,br|=e,r)}function ap(e,n,r,o){return hn(r,n)?r:ga.current!==null?(e=of(e,r,o),hn(e,n)||(Ae=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=r):(e=ay(),St.lanes|=e,br|=e,n)}function op(e,n,r,o,c){var f=$.p;$.p=f!==0&&8>f?f:8;var g=q.T,E={};q.T=E,cf(e,!1,n,r);try{var C=c(),P=q.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var H=M0(C,o);zo(e,n,H,yn(e))}else zo(e,n,o,yn(e))}catch(Q){zo(e,n,{then:function(){},status:"rejected",reason:Q},yn())}finally{$.p=f,g!==null&&E.types!==null&&(g.types=E.types),q.T=g}}function z0(){}function lf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=lp(e).queue;op(e,c,n,lt,r===null?z0:function(){return up(e),r(o)})}function lp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:lt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function up(e){var n=lp(e);n.next===null&&(n=e.alternate.memoizedState),zo(e,n.next.queue,{},yn())}function uf(){return Be(nl)}function cp(){return me().memoizedState}function hp(){return me().memoizedState}function B0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=yn();e=_r(r);var o=vr(n,e,r);o!==null&&(on(o,n,r),Uo(o,n,r)),n={cache:kh()},e.payload=n;return}n=n.return}}function j0(e,n,r){var o=yn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xu(e)?dp(n,r):(r=Rh(e,n,r,o),r!==null&&(on(r,e,o),mp(r,n,o)))}function fp(e,n,r){var o=yn();zo(e,n,r,o)}function zo(e,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xu(e))dp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(c.hasEagerState=!0,c.eagerState=E,hn(E,g))return gu(e,n,c,0),Wt===null&&mu(),!1}catch{}finally{}if(r=Rh(e,n,c,o),r!==null)return on(r,e,o),mp(r,n,o),!0}return!1}function cf(e,n,r,o){if(o={lane:2,revertLane:qf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xu(e)){if(n)throw Error(a(479))}else n=Rh(e,r,o,2),n!==null&&on(n,e,2)}function xu(e){var n=e.alternate;return e===St||n!==null&&n===St}function dp(e,n){pa=Iu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function mp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,ao(e,r)}}var Bo={readContext:Be,use:Nu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Bo.useEffectEvent=ue;var gp={readContext:Be,use:Nu,useCallback:function(e,n){return We().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:$g,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Mu(4194308,4,np.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Mu(4194308,4,e,n)},useInsertionEffect:function(e,n){Mu(4,2,e,n)},useMemo:function(e,n){var r=We();n=n===void 0?null:n;var o=e();if(bs){_n(!0);try{e()}finally{_n(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=We();if(r!==void 0){var c=r(n);if(bs){_n(!0);try{r(n)}finally{_n(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=j0.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=We();return e={current:e},n.memoizedState=e},useState:function(e){e=nf(e);var n=e.queue,r=fp.bind(null,St,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:af,useDeferredValue:function(e,n){var r=We();return of(r,e,n)},useTransition:function(){var e=nf(!1);return e=op.bind(null,St,e.queue,!0,!1),We().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=St,c=We();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Dt&127)!==0||Lg(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,$g(Pg.bind(null,o,f,e),[e]),o.flags|=2048,_a(9,{destroy:void 0},kg.bind(null,o,f,r,n),null),r},useId:function(){var e=We(),n=Wt.identifierPrefix;if(Ut){var r=mi,o=di;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Du++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=U0++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:uf,useFormState:Yg,useActionState:Yg,useOptimistic:function(e){var n=We();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=cf.bind(null,St,!0,r),r.dispatch=n,[e,n]},useMemoCache:Wh,useCacheRefresh:function(){return We().memoizedState=B0.bind(null,St)},useEffectEvent:function(e){var n=We(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},hf={readContext:Be,use:Nu,useCallback:rp,useContext:Be,useEffect:sf,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:Vu,useRef:Jg,useState:function(){return Vu(ki)},useDebugValue:af,useDeferredValue:function(e,n){var r=me();return ap(r,Zt.memoizedState,e,n)},useTransition:function(){var e=Vu(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:xg,useId:cp,useHostTransitionStatus:uf,useFormState:Kg,useActionState:Kg,useOptimistic:function(e,n){var r=me();return jg(r,Zt,e,n)},useMemoCache:Wh,useCacheRefresh:hp};hf.useEffectEvent=Wg;var pp={readContext:Be,use:Nu,useCallback:rp,useContext:Be,useEffect:sf,useImperativeHandle:ip,useInsertionEffect:tp,useLayoutEffect:ep,useMemo:sp,useReducer:ef,useRef:Jg,useState:function(){return ef(ki)},useDebugValue:af,useDeferredValue:function(e,n){var r=me();return Zt===null?of(r,e,n):ap(r,Zt.memoizedState,e,n)},useTransition:function(){var e=ef(ki)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:xg,useId:cp,useHostTransitionStatus:uf,useFormState:Zg,useActionState:Zg,useOptimistic:function(e,n){var r=me();return Zt!==null?jg(r,Zt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Wh,useCacheRefresh:hp};pp.useEffectEvent=Wg;function ff(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:R({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var df={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=yn(),c=_r(o);c.payload=n,r!=null&&(c.callback=r),n=vr(e,c,o),n!==null&&(on(n,e,o),Uo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=yn(),c=_r(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=vr(e,c,o),n!==null&&(on(n,e,o),Uo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=yn(),o=_r(r);o.tag=2,n!=null&&(o.callback=n),n=vr(e,o,r),n!==null&&(on(n,e,r),Uo(n,e,r))}};function yp(e,n,r,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ro(r,o)||!Ro(c,f):!0}function _p(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&df.enqueueReplaceState(n,n.state,null)}function ws(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=R({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function vp(e){du(e)}function Ep(e){console.error(e)}function Tp(e){du(e)}function Lu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Sp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function mf(e,n,r){return r=_r(r),r.tag=3,r.payload={element:null},r.callback=function(){Lu(e,n)},r}function Ap(e){return e=_r(e),e.tag=3,e}function bp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Sp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Sp(n,r,o),typeof c!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function q0(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ca(n,r,c,!0),r=dn.current,r!==null){switch(r.tag){case 31:case 13:return In===null?Ku():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Au?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),zf(e,o,c)),!1;case 22:return r.flags|=65536,o===Au?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),zf(e,o,c)),!1}throw Error(a(435,r.tag))}return zf(e,o,c),Ku(),!1}if(Ut)return n=dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Vh&&(e=Error(a(422),{cause:o}),Do(bn(e,r)))):(o!==Vh&&(n=Error(a(423),{cause:o}),Do(bn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=bn(o,r),c=mf(e.stateNode,o,c),Hh(e,c),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=bn(f,r),Ko===null?Ko=[f]:Ko.push(f),ce!==4&&(ce=2),n===null)return!0;o=bn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=mf(r.stateNode,o,e),Hh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(wr===null||!wr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Ap(c),bp(c,e,r,o),Hh(r,c),!1}r=r.return}while(r!==null);return!1}var gf=Error(a(461)),Ae=!1;function je(e,n,r,o){n.child=e===null?Ig(n,null,r,o):As(n,e.child,r,o)}function wp(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return vs(n),o=Xh(e,n,r,g,f,c),E=Zh(),e!==null&&!Ae?(Jh(e,n,c),Pi(e,n,c)):(Ut&&E&&Oh(n),n.flags|=1,je(e,n,o,c),n.child)}function Rp(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Ch(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Cp(e,n,f,o,c)):(e=yu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Af(e,c)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Ro,r(g,o)&&e.ref===n.ref)return Pi(e,n,c)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(Ro(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Af(e,c))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,Pi(e,n,c)}return pf(e,n,r,o,c)}function Ip(e,n,r,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Dp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(n,f!==null?f.cachePool:null),f!==null?Ng(n,f):Fh(),Vg(n);else return o=n.lanes=536870912,Dp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Tu(n,f.cachePool),Ng(n,f),Tr(),n.memoizedState=null):(e!==null&&Tu(n,null),Fh(),Tr());return je(e,n,c,r),n.child}function jo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Dp(e,n,r,o,c){var f=zh();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Tu(n,null),Fh(),Vg(n),e!==null&&ca(e,n,o,!0),n.childLanes=c,null}function ku(e,n){return n=zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Op(e,n,r){return As(n,e.child,null,r),e=ku(n,n.pendingProps),e.flags|=2,mn(n),n.memoizedState=null,e}function H0(e,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=ku(n,o),n.lanes=536870912,jo(null,e);if(Yh(n),(e=ee)?(e=qy(e,Cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},r=dg(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw gr(n);return n.lanes=536870912,null}return ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Yh(n),c)if(n.flags&256)n.flags&=-257,n=Op(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||ca(e,n,r,!1),c=(r&e.childLanes)!==0,Ae||c){if(o=Wt,o!==null&&(g=oo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,gs(e,g),on(o,e,g),gf;Ku(),n=Op(e,n,r)}else e=f.treeContext,ee=Dn(g.nextSibling),ze=n,Ut=!0,mr=null,Cn=!1,e!==null&&pg(n,e),n=ku(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Pu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function pf(e,n,r,o,c){return vs(n),r=Xh(e,n,r,o,void 0,c),o=Zh(),e!==null&&!Ae?(Jh(e,n,c),Pi(e,n,c)):(Ut&&o&&Oh(n),n.flags|=1,je(e,n,r,c),n.child)}function Np(e,n,r,o,c,f){return vs(n),n.updateQueue=null,r=Ug(n,o,r,c),Mg(e),o=Zh(),e!==null&&!Ae?(Jh(e,n,f),Pi(e,n,f)):(Ut&&o&&Oh(n),n.flags|=1,je(e,n,r,f),n.child)}function Vp(e,n,r,o,c){if(vs(n),n.stateNode===null){var f=aa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},jh(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):aa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(ff(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&df.enqueueReplaceState(f,f.state,null),Lo(n,o,f,c),xo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=ws(r,E);f.props=C;var P=f.context,H=r.contextType;g=aa,typeof H=="object"&&H!==null&&(g=Be(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&_p(n,f,o,g),yr=!1;var z=n.memoizedState;f.state=z,Lo(n,o,f,c),xo(),P=n.memoizedState,E||z!==P||yr?(typeof Q=="function"&&(ff(n,r,Q,o),P=n.memoizedState),(C=yr||yp(n,r,C,o,z,P,g))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,qh(e,n),g=n.memoizedProps,H=ws(r,g),f.props=H,Q=n.pendingProps,z=f.context,P=r.contextType,C=aa,typeof P=="object"&&P!==null&&(C=Be(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==C)&&_p(n,f,o,C),yr=!1,z=n.memoizedState,f.state=z,Lo(n,o,f,c),xo();var j=n.memoizedState;g!==Q||z!==j||yr||e!==null&&e.dependencies!==null&&vu(e.dependencies)?(typeof E=="function"&&(ff(n,r,E,o),j=n.memoizedState),(H=yr||yp(n,r,H,o,z,j,C)||e!==null&&e.dependencies!==null&&vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=C,o=H):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Pu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=As(n,e.child,null,c),n.child=As(n,null,r,c)):je(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Pi(e,n,c),e}function Mp(e,n,r,o){return ys(),n.flags|=256,je(e,n,r,o),n.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:Sg()}}function vf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=pn),e}function Up(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(c?Er(n):Tr(),(e=ee)?(e=qy(e,Cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:dr!==null?{id:di,overflow:mi}:null,retryLane:536870912,hydrationErrors:null},r=dg(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw gr(n);return ed(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,c?(Tr(),c=n.mode,E=zu({mode:"hidden",children:E},c),o=ps(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=_f(r),o.childLanes=vf(e,g,r),n.memoizedState=yf,jo(null,o)):(Er(n),Ef(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Er(n),n.flags&=-257,n=Tf(e,n,r)):n.memoizedState!==null?(Tr(),n.child=e.child,n.flags|=128,n=null):(Tr(),E=o.fallback,c=n.mode,o=zu({mode:"visible",children:o.children},c),E=ps(E,c,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,As(n,e.child,null,r),o=n.child,o.memoizedState=_f(r),o.childLanes=vf(e,g,r),n.memoizedState=yf,n=jo(null,o));else if(Er(n),ed(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Do({value:o,source:null,stack:null}),n=Tf(e,n,r)}else if(Ae||ca(e,n,r,!1),g=(r&e.childLanes)!==0,Ae||g){if(g=Wt,g!==null&&(o=oo(g,r),o!==0&&o!==C.retryLane))throw C.retryLane=o,gs(e,o),on(g,e,o),gf;td(E)||Ku(),n=Tf(e,n,r)}else td(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ee=Dn(E.nextSibling),ze=n,Ut=!0,mr=null,Cn=!1,e!==null&&pg(n,e),n=Ef(n,o.children),n.flags|=4096);return n}return c?(Tr(),E=o.fallback,c=n.mode,C=e.child,P=C.sibling,o=Vi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Vi(P,E):(E=ps(E,c,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,jo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=_f(r):(c=E.cachePool,c!==null?(C=Te._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Sg(),E={baseLanes:E.baseLanes|r,cachePool:c}),o.memoizedState=E,o.childLanes=vf(e,g,r),n.memoizedState=yf,jo(e.child,o)):(Er(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Ef(e,n){return n=zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function zu(e,n){return e=fn(22,e,null,n),e.lanes=0,e}function Tf(e,n,r){return As(n,e.child,null,r),e=Ef(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function xp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),xh(e.return,n,r)}function Sf(e,n,r,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=f)}function Lp(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(de,g),je(e,n,o,r),o=Ut?Io:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xp(e,r,n);else if(e.tag===19)xp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Cu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Sf(n,!1,c,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Cu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Sf(n,!0,r,null,f,o);break;case"together":Sf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Pi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),br|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ca(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Af(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&vu(e)))}function G0(e,n,r){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),pr(n,Te,e.memoizedState.cache),ys();break;case 27:case 5:Jr(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Yh(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Up(e,n,r):(Er(n),e=Pi(e,n,r),e!==null?e.sibling:null);Er(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ca(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Lp(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),tt(de,de.current),o)break;return null;case 22:return n.lanes=0,Ip(e,n,r,n.pendingProps);case 24:pr(n,Te,e.memoizedState.cache)}return Pi(e,n,r)}function kp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Af(e,r)&&(n.flags&128)===0)return Ae=!1,G0(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,Ut&&(n.flags&1048576)!==0&&gg(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ts(n.elementType),n.type=e,typeof e=="function")Ch(e)?(o=ws(e,o),n.tag=1,n=Vp(null,n,e,o,r)):(n.tag=0,n=pf(null,n,e,o,r));else{if(e!=null){var c=e.$$typeof;if(c===Ht){n.tag=11,n=wp(null,n,e,o,r);break t}else if(c===I){n.tag=14,n=Rp(null,n,e,o,r);break t}}throw n=ft(e)||e,Error(a(306,n,""))}}return n;case 0:return pf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=ws(o,n.pendingProps),Vp(e,n,o,c,r);case 3:t:{if(Ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,qh(e,n),Lo(n,o,null,r);var g=n.memoizedState;if(o=g.cache,pr(n,Te,o),o!==f.cache&&Lh(n,[Te],r,!0),xo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Mp(e,n,o,r);break t}else if(o!==c){c=bn(Error(a(424)),n),Do(c),n=Mp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ee=Dn(e.firstChild),ze=n,Ut=!0,mr=null,Cn=!0,r=Ig(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(ys(),o===c){n=Pi(e,n,r);break t}je(e,n,o,r)}n=n.child}return n;case 26:return Pu(e,n),e===null?(r=Ky(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,e=n.pendingProps,o=ec(bt.current).createElement(r),o[_e]=n,o[Ve]=e,qe(o,r,e),ve(o),n.stateNode=o):n.memoizedState=Ky(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jr(n),e===null&&Ut&&(o=n.stateNode=Fy(n.type,n.pendingProps,bt.current),ze=n,Cn=!0,c=ee,Dr(n.type)?(nd=c,ee=Dn(o.firstChild)):ee=c),je(e,n,n.pendingProps.children,r),Pu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((c=o=ee)&&(o=ES(o,n.type,n.pendingProps,Cn),o!==null?(n.stateNode=o,ze=n,ee=Dn(o.firstChild),Cn=!1,c=!0):c=!1),c||gr(n)),Jr(n),c=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Jf(c,f)?o=null:g!==null&&Jf(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Xh(e,n,x0,null,null,r),nl._currentValue=c),Pu(e,n),je(e,n,o,r),n.child;case 6:return e===null&&Ut&&((e=r=ee)&&(r=TS(r,n.pendingProps,Cn),r!==null?(n.stateNode=r,ze=n,ee=null,e=!0):e=!1),e||gr(n)),null;case 13:return Up(e,n,r);case 4:return Ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=As(n,null,o,r):je(e,n,o,r),n.child;case 11:return wp(e,n,n.type,n.pendingProps,r);case 7:return je(e,n,n.pendingProps,r),n.child;case 8:return je(e,n,n.pendingProps.children,r),n.child;case 12:return je(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,pr(n,n.type,o.value),je(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,vs(n),c=Be(c),o=o(c),n.flags|=1,je(e,n,o,r),n.child;case 14:return Rp(e,n,n.type,n.pendingProps,r);case 15:return Cp(e,n,n.type,n.pendingProps,r);case 19:return Lp(e,n,r);case 31:return H0(e,n,r);case 22:return Ip(e,n,r,n.pendingProps);case 24:return vs(n),o=Be(Te),e===null?(c=zh(),c===null&&(c=Wt,f=kh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},jh(n),pr(n,Te,c)):((e.lanes&r)!==0&&(qh(e,n),Lo(n,null,null,r),xo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),pr(n,Te,o)):(o=f.cache,pr(n,Te,o),o!==c.cache&&Lh(n,[Te],r,!0))),je(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function zi(e){e.flags|=4}function bf(e,n,r,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(cy())e.flags|=8192;else throw Ss=Au,Bh}else e.flags&=-16777217}function Pp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wy(n))if(cy())e.flags|=8192;else throw Ss=Au,Bh}function Bu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ql():536870912,e.lanes|=n,Sa|=n)}function qo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function F0(e,n,r){var o=n.pendingProps;switch(Nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),xi(Te),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ua(n)?zi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mh())),ne(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(zi(n),f!==null?(ne(n),Pp(n,f)):(ne(n),bf(n,c,null,o,r))):f?f!==e.memoizedState?(zi(n),ne(n),Pp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&zi(n),ne(n),bf(n,c,e,o,r)),null;case 27:if(js(n),r=bt.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=it.current,ua(n)?yg(n):(e=Fy(c,o,r),n.stateNode=e,zi(n))}return ne(n),null;case 5:if(js(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=it.current,ua(n))yg(n);else{var g=ec(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[_e]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(qe(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&zi(n)}}return ne(n),bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&zi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ua(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=ze,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Uy(e.nodeValue,r)),e||gr(n,!0)}else e=ec(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ua(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Mh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(mn(n),n):(mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ua(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else ys(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Mh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(mn(n),n):(mn(n),null)}return mn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Bu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&Qf(n.stateNode.containerInfo),ne(n),null;case 10:return xi(n.type),ne(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ne(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)qo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Cu(e),f!==null){for(n.flags|=128,qo(o,!1),e=f.updateQueue,n.updateQueue=e,Bu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)fg(r,e),r=r.sibling;return tt(de,de.current&1|2),Ut&&Mi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Je()>Fu&&(n.flags|=128,c=!0,qo(o,!1),n.lanes=4194304)}else{if(!c)if(e=Cu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Bu(n,e),qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return ne(n),null}else 2*Je()-o.renderingStartTime>Fu&&r!==536870912&&(n.flags|=128,c=!0,qo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Je(),e.sibling=null,r=de.current,tt(de,c?r&1|2:r&1),Ut&&Mi(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return mn(n),Qh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Bu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),xi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Q0(e,n){switch(Nh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return xi(Te),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return js(n),null;case 31:if(n.memoizedState!==null){if(mn(n),n.alternate===null)throw Error(a(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ys()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return xi(n.type),null;case 22:case 23:return mn(n),Qh(),e!==null&&Y(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return xi(Te),null;case 25:return null;default:return null}}function zp(e,n){switch(Nh(n),n.tag){case 3:xi(Te),re();break;case 26:case 27:case 5:js(n);break;case 4:re();break;case 31:n.memoizedState!==null&&mn(n);break;case 13:mn(n);break;case 19:Y(de);break;case 10:xi(n.type);break;case 22:case 23:mn(n),Qh(),e!==null&&Y(Es);break;case 24:xi(Te)}}function Ho(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function Sr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var C=r,P=E;try{P()}catch(H){Kt(c,C,H)}}}o=o.next}while(o!==f)}}catch(H){Kt(n,n.return,H)}}function Bp(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Og(n,r)}catch(o){Kt(e,e.return,o)}}}function jp(e,n,r){r.props=ws(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function Go(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Kt(e,n,c)}}function gi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Kt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(e,n,c)}else r.current=null}function qp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Kt(e,e.return,c)}}function wf(e,n,r){try{var o=e.stateNode;mS(o,e.type,r,n),o[Ve]=n}catch(c){Kt(e,e.return,c)}}function Hp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Dr(e.type)||e.tag===4}function Rf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Dr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=kn));else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Cf(e,n,r),e=e.sibling;e!==null;)Cf(e,n,r),e=e.sibling}function ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Dr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ju(e,n,r),e=e.sibling;e!==null;)ju(e,n,r),e=e.sibling}function Gp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);qe(n,o,r),n[_e]=e,n[Ve]=r}catch(f){Kt(e,e.return,f)}}var Bi=!1,be=!1,If=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Y0(e,n){if(e=e.containerInfo,Xf=lc,e=ig(e),Eh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,C=-1,P=0,H=0,Q=e,z=null;e:for(;;){for(var j;Q!==r||c!==0&&Q.nodeType!==3||(E=g+c),Q!==f||o!==0&&Q.nodeType!==3||(C=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(j=Q.firstChild)!==null;)z=Q,Q=j;for(;;){if(Q===e)break e;if(z===r&&++P===c&&(E=g),z===f&&++H===o&&(C=g),(j=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=j}r=E===-1||C===-1?null:{start:E,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zf={focusedElem:e,selectionRange:r},lc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var rt=ws(r.type,c);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ht){Kt(r,r.return,ht)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Wf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function Qp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:qi(e,r),o&4&&Ho(5,r);break;case 1:if(qi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(r,r.return,g)}else{var c=ws(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(r,r.return,g)}}o&64&&Bp(r),o&512&&Go(r,r.return);break;case 3:if(qi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Og(e,n)}catch(g){Kt(r,r.return,g)}}break;case 27:n===null&&o&4&&Gp(r);case 26:case 5:qi(e,r),n===null&&o&4&&qp(r),o&512&&Go(r,r.return);break;case 12:qi(e,r);break;case 31:qi(e,r),o&4&&Xp(e,r);break;case 13:qi(e,r),o&4&&Zp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=nS.bind(null,r),SS(e,r))));break;case 22:if(o=r.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||be,c=Bi;var f=be;Bi=o,(be=n)&&!f?Hi(e,r,(r.subtreeFlags&8772)!==0):qi(e,r),Bi=c,be=f}break;case 30:break;default:qi(e,r)}}function Yp(e){var n=e.alternate;n!==null&&(e.alternate=null,Yp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Qs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,nn=!1;function ji(e,n,r){for(r=r.child;r!==null;)Kp(e,n,r),r=r.sibling}function Kp(e,n,r){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Mn,r)}catch{}switch(r.tag){case 26:be||gi(r,n),ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||gi(r,n);var o=ae,c=nn;Dr(r.type)&&(ae=r.stateNode,nn=!1),ji(e,n,r),Wo(r.stateNode),ae=o,nn=c;break;case 5:be||gi(r,n);case 6:if(o=ae,c=nn,ae=null,ji(e,n,r),ae=o,nn=c,ae!==null)if(nn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Kt(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Kt(r,n,f)}break;case 18:ae!==null&&(nn?(e=ae,By(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Oa(e)):By(ae,r.stateNode));break;case 4:o=ae,c=nn,ae=r.stateNode.containerInfo,nn=!0,ji(e,n,r),ae=o,nn=c;break;case 0:case 11:case 14:case 15:Sr(2,r,n),be||Sr(4,r,n),ji(e,n,r);break;case 1:be||(gi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&jp(r,n,o)),ji(e,n,r);break;case 21:ji(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,ji(e,n,r),be=o;break;default:ji(e,n,r)}}function Xp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(r){Kt(n,n.return,r)}}}function Zp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(r){Kt(n,n.return,r)}}function K0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fp),n;default:throw Error(a(435,e.tag))}}function qu(e,n){var r=K0(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=iS.bind(null,e,o);o.then(c,c)}})}function rn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Dr(E.type)){ae=E.stateNode,nn=!1;break t}break;case 5:ae=E.stateNode,nn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,nn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));Kp(f,g,c),ae=null,nn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Jp(n,e),n=n.sibling}var Hn=null;function Jp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(n,e),sn(e),o&4&&(Sr(3,e,e.return),Ho(3,e),Sr(5,e,e.return));break;case 1:rn(n,e),sn(e),o&512&&(be||r===null||gi(r,r.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Hn;if(rn(n,e),sn(e),o&512&&(be||r===null||gi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[ei]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),qe(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var g=Jy("link","href",c).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;case"meta":if(g=Jy("meta","content",c).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=c.createElement(o),qe(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else $y(c,e.type,e.stateNode);else e.stateNode=Zy(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?$y(c,e.type,e.stateNode):Zy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&wf(e,e.memoizedProps,r.memoizedProps)}break;case 27:rn(n,e),sn(e),o&512&&(be||r===null||gi(r,r.return)),r!==null&&o&4&&wf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(rn(n,e),sn(e),o&512&&(be||r===null||gi(r,r.return)),e.flags&32){c=e.stateNode;try{en(c,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,wf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(If=!0);break;case 6:if(rn(n,e),sn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(rc=null,c=Hn,Hn=nc(n.containerInfo),rn(n,e),Hn=c,sn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}If&&(If=!1,$p(e));break;case 4:o=Hn,Hn=nc(e.stateNode.containerInfo),rn(n,e),sn(e),Hn=o;break;case 12:rn(n,e),sn(e);break;case 31:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 13:rn(n,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Gu=Je()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 22:c=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,P=Bi,H=be;if(Bi=P||c,be=H||C,rn(n,e),be=H,Bi=P,sn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||C||Bi||be||Rs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){C=r=n;try{if(f=C.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Kt(C,C.return,rt)}}}else if(n.tag===6){if(r===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(rt){Kt(C,C.return,rt)}}}else if(n.tag===18){if(r===null){C=n;try{var j=C.stateNode;c?jy(j,!0):jy(C.stateNode,!1)}catch(rt){Kt(C,C.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,qu(e,r))));break;case 19:rn(n,e),sn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qu(e,o)));break;case 30:break;case 21:break;default:rn(n,e),sn(e)}}function sn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Hp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Rf(e);ju(e,f,c);break;case 5:var g=r.stateNode;r.flags&32&&(en(g,""),r.flags&=-33);var E=Rf(e);ju(e,E,g);break;case 3:case 4:var C=r.stateNode.containerInfo,P=Rf(e);Cf(e,P,C);break;default:throw Error(a(161))}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Qp(e,n.alternate,n),n=n.sibling}function Rs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Sr(4,n,n.return),Rs(n);break;case 1:gi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&jp(n,n.return,r),Rs(n);break;case 27:Wo(n.stateNode);case 26:case 5:gi(n,n.return),Rs(n);break;case 22:n.memoizedState===null&&Rs(n);break;case 30:Rs(n);break;default:Rs(n)}e=e.sibling}}function Hi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Hi(c,f,r),Ho(4,f);break;case 1:if(Hi(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)Dg(C[c],E)}catch(P){Kt(o,o.return,P)}}r&&g&64&&Bp(f),Go(f,f.return);break;case 27:Gp(f);case 26:case 5:Hi(c,f,r),r&&o===null&&g&4&&qp(f),Go(f,f.return);break;case 12:Hi(c,f,r);break;case 31:Hi(c,f,r),r&&g&4&&Xp(c,f);break;case 13:Hi(c,f,r),r&&g&4&&Zp(c,f);break;case 22:f.memoizedState===null&&Hi(c,f,r),Go(f,f.return);break;case 30:break;default:Hi(c,f,r)}n=n.sibling}}function Df(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Oo(r))}function Of(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oo(e))}function Gn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wp(e,n,r,o),n=n.sibling}function Wp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n,r,o),c&2048&&Ho(9,n);break;case 1:Gn(e,n,r,o);break;case 3:Gn(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Oo(e)));break;case 12:if(c&2048){Gn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else Gn(e,n,r,o);break;case 31:Gn(e,n,r,o);break;case 13:Gn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Gn(e,n,r,o):Fo(e,n):f._visibility&2?Gn(e,n,r,o):(f._visibility|=2,va(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Df(g,n);break;case 24:Gn(e,n,r,o),c&2048&&Of(n.alternate,n);break;default:Gn(e,n,r,o)}}function va(e,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:va(f,g,E,C,c),Ho(8,g);break;case 23:break;case 22:var H=g.stateNode;g.memoizedState!==null?H._visibility&2?va(f,g,E,C,c):Fo(f,g):(H._visibility|=2,va(f,g,E,C,c)),c&&P&2048&&Df(g.alternate,g);break;case 24:va(f,g,E,C,c),c&&P&2048&&Of(g.alternate,g);break;default:va(f,g,E,C,c)}n=n.sibling}}function Fo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Fo(r,o),c&2048&&Df(o.alternate,o);break;case 24:Fo(r,o),c&2048&&Of(o.alternate,o);break;default:Fo(r,o)}n=n.sibling}}var Qo=8192;function Ea(e,n,r){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)ty(e,n,r),e=e.sibling}function ty(e,n,r){switch(e.tag){case 26:Ea(e,n,r),e.flags&Qo&&e.memoizedState!==null&&US(r,Hn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e,n,r);break;case 3:case 4:var o=Hn;Hn=nc(e.stateNode.containerInfo),Ea(e,n,r),Hn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,Ea(e,n,r),Qo=o):Ea(e,n,r));break;default:Ea(e,n,r)}}function ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,iy(o,e)}ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ny(e),e=e.sibling}function ny(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hu(e)):Yo(e);break;default:Yo(e)}}function Hu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ue=o,iy(o,e)}ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Sr(8,n,n.return),Hu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Hu(n));break;default:Hu(n)}e=e.sibling}}function iy(e,n){for(;Ue!==null;){var r=Ue;switch(r.tag){case 0:case 11:case 15:Sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Oo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ue=o;else t:for(r=e;Ue!==null;){o=Ue;var c=o.sibling,f=o.return;if(Yp(o),o===r){Ue=null;break t}if(c!==null){c.return=f,Ue=c;break t}Ue=f}}}var X0={getCacheForType:function(e){var n=Be(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Te).controller.signal}},Z0=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,Dt=0,Yt=0,gn=null,Ar=!1,Ta=!1,Nf=!1,Gi=0,ce=0,br=0,Cs=0,Vf=0,pn=0,Sa=0,Ko=null,an=null,Mf=!1,Gu=0,ry=0,Fu=1/0,Qu=null,wr=null,De=0,Rr=null,Aa=null,Fi=0,Uf=0,xf=null,sy=null,Xo=0,Lf=null;function yn(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:q.T!==null?qf():Yl()}function ay(){if(pn===0)if((Dt&536870912)===0||Ut){var e=ts;ts<<=1,(ts&3932160)===0&&(ts=262144),pn=e}else pn=536870912;return e=dn.current,e!==null&&(e.flags|=32),pn}function on(e,n,r){(e===Wt&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(ba(e,0),Cr(e,Dt,pn,!1)),es(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Cs|=r),ce===4&&Cr(e,Dt,pn,!1)),pi(e))}function oy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Un(e,n),c=o?W0(e,n):Pf(e,n,!0),f=o;do{if(c===0){Ta&&!o&&Cr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!J0(r)){c=Pf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;c=Ko;var C=E.current.memoizedState.isDehydrated;if(C&&(ba(E,g).flags|=256),g=Pf(E,g,!1),g!==2){if(Nf&&!C){E.errorRecoveryDisabledLanes|=f,Cs|=f,c=4;break t}f=an,an=c,f!==null&&(an===null?an=f:an.push.apply(an,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){ba(e,0),Cr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Cr(o,n,pn,!Ar);break t;case 2:an=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Gu+300-Je(),10<c)){if(Cr(o,n,pn,!Ar),$n(o,0,!0)!==0)break t;Fi=n,o.timeoutHandle=Py(ly.bind(null,o,r,an,Qu,Mf,n,pn,Cs,Sa,Ar,f,"Throttled",-0,0),c);break t}ly(o,r,an,Qu,Mf,n,pn,Cs,Sa,Ar,f,null,-0,0)}}break}while(!0);pi(e)}function ly(e,n,r,o,c,f,g,E,C,P,H,Q,z,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},ty(n,f,Q);var rt=(f&62914560)===f?Gu-Je():(f&4194048)===f?ry-Je():0;if(rt=xS(Q,rt),rt!==null){Fi=f,e.cancelPendingCommit=rt(py.bind(null,e,n,f,r,o,c,g,E,C,H,Q,null,z,j)),Cr(e,f,g,!P);return}}py(e,n,f,r,o,c,g,E,C)}function J0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!hn(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Cr(e,n,r,o){n&=~Vf,n&=~Cs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-he(c),g=1<<f;o[f]=-1,c&=~g}r!==0&&ns(e,r,n)}function Yu(){return(qt&6)===0?(Zo(0),!1):!0}function kf(){if(Rt!==null){if(Yt===0)var e=Rt.return;else e=Rt,Ui=_s=null,$h(e),ma=null,Vo=0,e=Rt;for(;e!==null;)zp(e.alternate,e),e=e.return;Rt=null}}function ba(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,yS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Fi=0,kf(),Wt=e,Rt=r=Vi(e.current,null),Dt=n,Yt=0,gn=null,Ar=!1,Ta=Un(e,n),Nf=!1,Sa=pn=Vf=Cs=br=ce=0,an=Ko=null,Mf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-he(o),f=1<<c;n|=e[c],o&=~f}return Gi=n,mu(),r}function uy(e,n){St=null,q.H=Bo,n===da||n===Su?(n=wg(),Yt=3):n===Bh?(n=wg(),Yt=4):Yt=n===gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,gn=n,Rt===null&&(ce=1,Lu(e,bn(n,e.current)))}function cy(){var e=dn.current;return e===null?!0:(Dt&4194048)===Dt?In===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===In:!1}function hy(){var e=q.H;return q.H=Bo,e===null?Bo:e}function fy(){var e=q.A;return q.A=X0,e}function Ku(){ce=4,Ar||(Dt&4194048)!==Dt&&dn.current!==null||(Ta=!0),(br&134217727)===0&&(Cs&134217727)===0||Wt===null||Cr(Wt,Dt,pn,!1)}function Pf(e,n,r){var o=qt;qt|=2;var c=hy(),f=fy();(Wt!==e||Dt!==n)&&(Qu=null,ba(e,n)),n=!1;var g=ce;t:do try{if(Yt!==0&&Rt!==null){var E=Rt,C=gn;switch(Yt){case 8:kf(),g=6;break t;case 3:case 2:case 9:case 6:dn.current===null&&(n=!0);var P=Yt;if(Yt=0,gn=null,wa(e,E,C,P),r&&Ta){g=0;break t}break;default:P=Yt,Yt=0,gn=null,wa(e,E,C,P)}}$0(),g=ce;break}catch(H){uy(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ui=_s=null,qt=o,q.H=c,q.A=f,Rt===null&&(Wt=null,Dt=0,mu()),g}function $0(){for(;Rt!==null;)dy(Rt)}function W0(e,n){var r=qt;qt|=2;var o=hy(),c=fy();Wt!==e||Dt!==n?(Qu=null,Fu=Je()+500,ba(e,n)):Ta=Un(e,n);t:do try{if(Yt!==0&&Rt!==null){n=Rt;var f=gn;e:switch(Yt){case 1:Yt=0,gn=null,wa(e,n,f,1);break;case 2:case 9:if(Ag(f)){Yt=0,gn=null,my(n);break}n=function(){Yt!==2&&Yt!==9||Wt!==e||(Yt=7),pi(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Ag(f)?(Yt=0,gn=null,my(n)):(Yt=0,gn=null,wa(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?Wy(g):E.stateNode.complete){Yt=0,gn=null;var C=E.sibling;if(C!==null)Rt=C;else{var P=E.return;P!==null?(Rt=P,Xu(P)):Rt=null}break e}}Yt=0,gn=null,wa(e,n,f,5);break;case 6:Yt=0,gn=null,wa(e,n,f,6);break;case 8:kf(),ce=6;break t;default:throw Error(a(462))}}tS();break}catch(H){uy(e,H)}while(!0);return Ui=_s=null,q.H=o,q.A=c,qt=r,Rt!==null?0:(Wt=null,Dt=0,mu(),ce)}function tS(){for(;Rt!==null&&!dh();)dy(Rt)}function dy(e){var n=kp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?Xu(e):Rt=n}function my(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Np(r,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Np(r,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:$h(n);default:zp(r,n),n=Rt=fg(n,Gi),n=kp(r,n,Gi)}e.memoizedProps=e.pendingProps,n===null?Xu(e):Rt=n}function wa(e,n,r,o){Ui=_s=null,$h(n),ma=null,Vo=0;var c=n.return;try{if(q0(e,c,n,r,Dt)){ce=1,Lu(e,bn(r,e.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ce=1,Lu(e,bn(r,e.current)),Rt=null;return}n.flags&32768?(Ut||o===1?e=!0:Ta||(Dt&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),gy(n,e)):Xu(n)}function Xu(e){var n=e;do{if((n.flags&32768)!==0){gy(n,Ar);return}e=n.return;var r=F0(n.alternate,n,Gi);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function gy(e,n){do{var r=Q0(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ce=6,Rt=null}function py(e,n,r,o,c,f,g,E,C){e.cancelPendingCommit=null;do Zu();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=wh,ph(e,r,f,g,E,C),e===Wt&&(Rt=Wt=null,Dt=0),Aa=n,Rr=e,Fi=r,Uf=f,xf=c,sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rS(ir,function(){return Ty(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,c=$.p,$.p=2,g=qt,qt|=4;try{Y0(e,n,r)}finally{qt=g,$.p=c,q.T=o}}De=1,yy(),_y(),vy()}}function yy(){if(De===1){De=0;var e=Rr,n=Aa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=$.p;$.p=2;var c=qt;qt|=4;try{Jp(n,e);var f=Zf,g=ig(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&ng(E.ownerDocument.documentElement,E)){if(C!==null&&Eh(E)){var P=C.start,H=C.end;if(H===void 0&&(H=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var j=z.getSelection(),rt=E.textContent.length,ht=Math.min(C.start,rt),$t=C.end===void 0?ht:Math.min(C.end,rt);!j.extend&&ht>$t&&(g=$t,$t=ht,ht=g);var U=eg(E,ht),N=eg(E,$t);if(U&&N&&(j.rangeCount!==1||j.anchorNode!==U.node||j.anchorOffset!==U.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var k=Q.createRange();k.setStart(U.node,U.offset),j.removeAllRanges(),ht>$t?(j.addRange(k),j.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),j.addRange(k))}}}}for(Q=[],j=E;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}lc=!!Xf,Zf=Xf=null}finally{qt=c,$.p=o,q.T=r}}e.current=n,De=2}}function _y(){if(De===2){De=0;var e=Rr,n=Aa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=$.p;$.p=2;var c=qt;qt|=4;try{Qp(e,n.alternate,n)}finally{qt=c,$.p=o,q.T=r}}De=3}}function vy(){if(De===4||De===3){De=0,Bl();var e=Rr,n=Aa,r=Fi,o=sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Aa=Rr=null,Ey(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(wr=null),Ii(r),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,c=$.p,$.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{q.T=n,$.p=c}}(Fi&3)!==0&&Zu(),pi(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Lf?Xo++:(Xo=0,Lf=e):Xo=0,Zo(0)}}function Ey(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Oo(n)))}function Zu(){return yy(),_y(),vy(),Ty()}function Ty(){if(De!==5)return!1;var e=Rr,n=Uf;Uf=0;var r=Ii(Fi),o=q.T,c=$.p;try{$.p=32>r?32:r,q.T=null,r=xf,xf=null;var f=Rr,g=Fi;if(De=0,Aa=Rr=null,Fi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,ny(f.current),Wp(f,f.current,g,r),qt=E,Zo(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Mn,f)}catch{}return!0}finally{$.p=c,q.T=o,Ey(e,n)}}function Sy(e,n,r){n=bn(r,n),n=mf(e.stateNode,n,2),e=vr(e,n,2),e!==null&&(es(e,2),pi(e))}function Kt(e,n,r){if(e.tag===3)Sy(e,e,r);else for(;n!==null;){if(n.tag===3){Sy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=bn(r,e),r=Ap(2),o=vr(n,r,2),o!==null&&(bp(r,o,n,e),es(o,2),pi(o));break}}n=n.return}}function zf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new Z0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Nf=!0,c.add(r),e=eS.bind(null,e,n,r),n.then(e,e))}function eS(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Dt&r)===r&&(ce===4||ce===3&&(Dt&62914560)===Dt&&300>Je()-Gu?(qt&2)===0&&ba(e,0):Vf|=r,Sa===Dt&&(Sa=0)),pi(e)}function Ay(e,n){n===0&&(n=Ql()),e=gs(e,n),e!==null&&(es(e,n),pi(e))}function nS(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ay(e,r)}function iS(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ay(e,r)}function rS(e,n){return Ie(e,n)}var Ju=null,Ra=null,Bf=!1,$u=!1,jf=!1,Ir=0;function pi(e){e!==Ra&&e.next===null&&(Ra===null?Ju=Ra=e:Ra=Ra.next=e),$u=!0,Bf||(Bf=!0,aS())}function Zo(e,n){if(!jf&&$u){jf=!0;do for(var r=!1,o=Ju;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=c&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Cy(o,f))}else f=Dt,f=$n(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Un(o,f)||(r=!0,Cy(o,f));o=o.next}while(r);jf=!1}}function sS(){by()}function by(){$u=Bf=!1;var e=0;Ir!==0&&pS()&&(e=Ir);for(var n=Je(),r=null,o=Ju;o!==null;){var c=o.next,f=wy(o,n);f===0?(o.next=null,r===null?Ju=c:r.next=c,c===null&&(Ra=r)):(r=o,(e!==0||(f&3)!==0)&&($u=!0)),o=c}De!==0&&De!==5||Zo(e),Ir!==0&&(Ir=0)}function wy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,C=c[g];C===-1?((E&r)===0||(E&o)!==0)&&(c[g]=gh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Dt,r=$n(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&nr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Un(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&nr(o),Ii(r)){case 2:case 8:r=so;break;case 32:r=ir;break;case 268435456:r=jl;break;default:r=ir}return o=Ry.bind(null,e),r=Ie(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&nr(o),e.callbackPriority=2,e.callbackNode=null,2}function Ry(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Zu()&&e.callbackNode!==r)return null;var o=Dt;return o=$n(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(oy(e,o,n),wy(e,Je()),e.callbackNode!=null&&e.callbackNode===r?Ry.bind(null,e):null)}function Cy(e,n){if(Zu())return null;oy(e,n,!0)}function aS(){_S(function(){(qt&6)!==0?Ie(ro,sS):by()})}function qf(){if(Ir===0){var e=ha;e===0&&(e=Zn,Zn<<=1,(Zn&261888)===0&&(Zn=256)),Ir=e}return Ir}function Iy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zs(""+e)}function Dy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function oS(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Iy((c[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Iy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new ui("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ir!==0){var C=g?Dy(c,g):new FormData(c);lf(r,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Dy(c,g):new FormData(c),lf(r,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var Hf=0;Hf<bh.length;Hf++){var Gf=bh[Hf],lS=Gf.toLowerCase(),uS=Gf[0].toUpperCase()+Gf.slice(1);qn(lS,"on"+uS)}qn(ag,"onAnimationEnd"),qn(og,"onAnimationIteration"),qn(lg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(w0,"onTransitionRun"),qn(R0,"onTransitionStart"),qn(C0,"onTransitionCancel"),qn(ug,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Oy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){du(H)}c.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(H){du(H)}c.currentTarget=null,f=C}}}}function Ct(e,n){var r=n[Fs];r===void 0&&(r=n[Fs]=new Set);var o=e+"__bubble";r.has(o)||(Ny(n,e,2,!1),r.add(o))}function Ff(e,n,r){var o=0;n&&(o|=4),Ny(r,e,o,n)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function Qf(e){if(!e[Wu]){e[Wu]=!0,lo.forEach(function(r){r!=="selectionchange"&&(cS.has(r)||Ff(r,!1,e),Ff(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wu]||(n[Wu]=!0,Ff("selectionchange",!1,n))}}function Ny(e,n,r,o){switch(a_(n)){case 2:var c=PS;break;case 8:c=zS;break;default:c=od}r=c.bind(null,n,r,e),c=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Yf(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=ni(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}ur(function(){var P=f,H=En(r),Q=[];t:{var z=cg.get(e);if(z!==void 0){var j=ui,rt=e;switch(e){case"keypress":if(us(r)===0)break t;case"keydown":case"keyup":j=cu;break;case"focusin":rt="focus",j=hs;break;case"focusout":rt="blur",j=hs;break;case"beforeblur":case"afterblur":j=hs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=So;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=m;break;case ag:case og:case lg:j=iu;break;case ug:j=T;break;case"scroll":case"scrollend":j=To;break;case"wheel":j=B;break;case"copy":case"cut":case"paste":j=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ni;break;case"toggle":case"beforetoggle":j=Tt}var ht=(n&4)!==0,$t=!ht&&(e==="scroll"||e==="scrollend"),U=ht?z!==null?z+"Capture":null:z;ht=[];for(var N=P,k;N!==null;){var F=N;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||U===null||(F=Pn(N,U),F!=null&&ht.push($o(N,F,k))),$t)break;N=N.return}0<ht.length&&(z=new j(z,rt,null,r,H),Q.push({event:z,listeners:ht}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&r!==_o&&(rt=r.relatedTarget||r.fromElement)&&(ni(rt)||rt[ti]))break t;if((j||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,j?(rt=r.relatedTarget||r.toElement,j=P,rt=rt?ni(rt):null,rt!==null&&($t=h(rt),ht=rt.tag,rt!==$t||ht!==5&&ht!==27&&ht!==6)&&(rt=null)):(j=null,rt=P),j!==rt)){if(ht=So,F="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ht=Ni,F="onPointerLeave",U="onPointerEnter",N="pointer"),$t=j==null?z:un(j),k=rt==null?z:un(rt),z=new ht(F,N+"leave",j,r,H),z.target=$t,z.relatedTarget=k,F=null,ni(H)===P&&(ht=new ht(U,N+"enter",rt,r,H),ht.target=k,ht.relatedTarget=$t,F=ht),$t=F,j&&rt)e:{for(ht=hS,U=j,N=rt,k=0,F=U;F;F=ht(F))k++;F=0;for(var ot=N;ot;ot=ht(ot))F++;for(;0<k-F;)U=ht(U),k--;for(;0<F-k;)N=ht(N),F--;for(;k--;){if(U===N||N!==null&&U===N.alternate){ht=U;break e}U=ht(U),N=ht(N)}ht=null}else ht=null;j!==null&&Vy(Q,z,j,ht,!1),rt!==null&&$t!==null&&Vy(Q,$t,rt,ht,!0)}}t:{if(z=P?un(P):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var zt=Xm;else if(Ym(z))if(Zm)zt=S0;else{zt=E0;var st=v0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Xs(P.elementType)&&(zt=Xm):zt=T0;if(zt&&(zt=zt(e,P))){Km(Q,zt,r,H);break t}st&&st(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&go(z,"number",z.value)}switch(st=P?un(P):window,e){case"focusin":(Ym(st)||st.contentEditable==="true")&&(ia=st,Th=P,Co=null);break;case"focusout":Co=Th=ia=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,rg(Q,r,H);break;case"selectionchange":if(b0)break;case"keydown":case"keyup":rg(Q,r,H)}var wt;if(jt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else na?fs(e,r)&&(Ot="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ot="onCompositionStart");Ot&&(fi&&r.locale!=="ko"&&(na||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&na&&(wt=Eo()):(li=H,vo="value"in li?li.value:li.textContent,na=!0)),st=tc(P,Ot),0<st.length&&(Ot=new hi(Ot,e,null,r,H),Q.push({event:Ot,listeners:st}),wt?Ot.data=wt:(wt=ea(r),wt!==null&&(Ot.data=wt)))),(wt=Sn?g0(e,r):p0(e,r))&&(Ot=tc(P,"onBeforeInput"),0<Ot.length&&(st=new hi("onBeforeInput","beforeinput",null,r,H),Q.push({event:st,listeners:Ot}),st.data=wt)),oS(Q,e,P,r,H)}Oy(Q,n)})}function $o(e,n,r){return{instance:e,listener:n,currentTarget:r}}function tc(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Pn(e,r),c!=null&&o.unshift($o(e,c,f)),c=Pn(e,n),c!=null&&o.push($o(e,c,f))),e.tag===3)return o;e=e.return}return[]}function hS(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vy(e,n,r,o,c){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,c?(P=Pn(r,f),P!=null&&g.unshift($o(r,P,C))):c||(P=Pn(r,f),P!=null&&g.push($o(r,P,C)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var fS=/\r\n?/g,dS=/\u0000|\uFFFD/g;function My(e){return(typeof e=="string"?e:""+e).replace(fS,`
`).replace(dS,"")}function Uy(e,n){return n=My(n),My(e)===n}function Jt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||en(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&en(e,""+o);break;case"className":cn(e,"class",o);break;case"tabIndex":cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":cn(e,r,o);break;case"style":yo(e,o,f);break;case"data":if(n!=="object"){cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zs(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",c.name,c,null),Jt(e,n,"formEncType",c.formEncType,c,null),Jt(e,n,"formMethod",c.formMethod,c,null),Jt(e,n,"formTarget",c.formTarget,c,null)):(Jt(e,n,"encType",c.encType,c,null),Jt(e,n,"method",c.method,c,null),Jt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Zs(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=kn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Zs(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),Ys(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ys(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=tu.get(r)||r,Ys(e,r,o))}}function Kf(e,n,r,o,c,f){switch(r){case"style":yo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?en(e,o):(typeof o=="number"||typeof o=="bigint")&&en(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ys(e,r,o)}}}function qe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,r,null)}}c&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":Ct("invalid",e);var E=f=g=c=null,C=null,P=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":g=H;break;case"checked":C=H;break;case"defaultChecked":P=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Jt(e,n,o,H,r,null)}}Jl(e,f,E,C,P,g,c,!1);return;case"select":Ct("invalid",e),o=g=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Jt(e,n,c,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?sr(e,!!o,n,!1):r!=null&&sr(e,!!o,r,!0);return;case"textarea":Ct("invalid",e),f=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,r,null)}ar(e,o,c,f);return;case"option":for(C in r)if(r.hasOwnProperty(C)&&(o=r[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Jt(e,n,C,o,r,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Ct(Jo[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(o=r[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,P,o,r,null)}return;default:if(Xs(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Kf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function mS(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,E=null,C=null,P=null,H=null;for(j in r){var Q=r[j];if(r.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(j)||Jt(e,n,j,null,o,Q)}}for(var z in o){var j=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(j!=null||Q!=null))switch(z){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":H=j;break;case"value":g=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:j!==Q&&Jt(e,n,z,j,o,Q)}}Ks(e,g,E,C,P,H,f,c);return;case"select":j=g=E=z=null;for(f in r)if(C=r[f],r.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":j=C;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,C)}for(c in o)if(f=o[c],C=r[c],o.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Jt(e,n,c,f,o,C)}n=E,r=g,o=j,z!=null?sr(e,!!r,z,!1):!!o!=!!r&&(n!=null?sr(e,!!r,n,!0):sr(e,!!r,r?[]:"",!1));return;case"textarea":j=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,c)}for(g in o)if(c=o[g],f=r[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":z=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Jt(e,n,g,c,o,f)}$l(e,z,j);return;case"option":for(var rt in r)if(z=r[rt],r.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt))switch(rt){case"selected":e.selected=!1;break;default:Jt(e,n,rt,null,o,z)}for(C in o)if(z=o[C],j=r[C],o.hasOwnProperty(C)&&z!==j&&(z!=null||j!=null))switch(C){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Jt(e,n,C,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in r)z=r[ht],r.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&Jt(e,n,ht,null,o,z);for(P in o)if(z=o[P],j=r[P],o.hasOwnProperty(P)&&z!==j&&(z!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,P,z,o,j)}return;default:if(Xs(n)){for(var $t in r)z=r[$t],r.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&Kf(e,n,$t,void 0,o,z);for(H in o)z=o[H],j=r[H],!o.hasOwnProperty(H)||z===j||z===void 0&&j===void 0||Kf(e,n,H,z,o,j);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Jt(e,n,U,null,o,z);for(Q in o)z=o[Q],j=r[Q],!o.hasOwnProperty(Q)||z===j||z==null&&j==null||Jt(e,n,Q,z,o,j)}function xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gS(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],f=c.transferSize,g=c.initiatorType,E=c.duration;if(f&&E&&xy(g)){for(g=0,E=c.responseEnd,o+=1;o<r.length;o++){var C=r[o],P=C.startTime;if(P>E)break;var H=C.transferSize,Q=C.initiatorType;H&&xy(Q)&&(C=C.responseEnd,g+=H*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xf=null,Zf=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function Ly(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Jf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $f=null;function pS(){var e=window.event;return e&&e.type==="popstate"?e===$f?!1:($f=e,!0):($f=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,yS=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,_S=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(e){return zy.resolve(null).then(e).catch(vS)}:Py;function vS(e){setTimeout(function(){throw e})}function Dr(e){return e==="head"}function By(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(c),Oa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Wo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Wo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&Wo(e.ownerDocument.body);r=c}while(r);Oa(n)}function jy(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function Wf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Wf(r),Qs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ES(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ei])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Dn(e.nextSibling),e===null)break}return null}function TS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Dn(e.nextSibling),e===null))return null;return e}function qy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Dn(e.nextSibling),e===null))return null;return e}function td(e){return e.data==="$?"||e.data==="$~"}function ed(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function SS(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Dn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var nd=null;function Hy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Dn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function Gy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function Fy(e,n,r){switch(n=ec(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Qs(e)}var On=new Map,Qy=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qi=$.d;$.d={f:AS,r:bS,D:wS,C:RS,L:CS,m:IS,X:OS,S:DS,M:NS};function AS(){var e=Qi.f(),n=Yu();return e||n}function bS(e){var n=vn(e);n!==null&&n.tag===5&&n.type==="form"?up(n):Qi.r(e)}var Ca=typeof document>"u"?null:document;function Yy(e,n,r){var o=Ca;if(o&&typeof n=="string"&&n){var c=tn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Qy.has(c)||(Qy.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function wS(e){Qi.D(e),Yy("dns-prefetch",e,null)}function RS(e,n){Qi.C(e,n),Yy("preconnect",e,n)}function CS(e,n,r){Qi.L(e,n,r);var o=Ca;if(o&&e&&n){var c='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+tn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+tn(r.imageSizes)+'"]')):c+='[href="'+tn(e)+'"]';var f=c;switch(n){case"style":f=Ia(e);break;case"script":f=Da(e)}On.has(f)||(e=R({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),On.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(tl(f))||n==="script"&&o.querySelector(el(f))||(n=o.createElement("link"),qe(n,"link",e),ve(n),o.head.appendChild(n)))}}function IS(e,n){Qi.m(e,n);var r=Ca;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+tn(o)+'"][href="'+tn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Da(e)}if(!On.has(f)&&(e=R({rel:"modulepreload",href:e},n),On.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(el(f)))return}o=r.createElement("link"),qe(o,"link",e),ve(o),r.head.appendChild(o)}}}function DS(e,n,r){Qi.S(e,n,r);var o=Ca;if(o&&e){var c=ii(o).hoistableStyles,f=Ia(e);n=n||"default";var g=c.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(tl(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},r),(r=On.get(f))&&id(e,r);var C=g=o.createElement("link");ve(C),qe(C,"link",e),C._p=new Promise(function(P,H){C.onload=P,C.onerror=H}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ic(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(f,g)}}}function OS(e,n){Qi.X(e,n);var r=Ca;if(r&&e){var o=ii(r).hoistableScripts,c=Da(e),f=o.get(c);f||(f=r.querySelector(el(c)),f||(e=R({src:e,async:!0},n),(n=On.get(c))&&rd(e,n),f=r.createElement("script"),ve(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function NS(e,n){Qi.M(e,n);var r=Ca;if(r&&e){var o=ii(r).hoistableScripts,c=Da(e),f=o.get(c);f||(f=r.querySelector(el(c)),f||(e=R({src:e,async:!0,type:"module"},n),(n=On.get(c))&&rd(e,n),f=r.createElement("script"),ve(f),qe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Ky(e,n,r,o){var c=(c=bt.current)?nc(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ia(r.href),r=ii(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ia(r.href);var f=ii(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(tl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),On.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},On.set(e,r),f||VS(c,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Da(r),r=ii(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ia(e){return'href="'+tn(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function Xy(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function VS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),qe(n,"link",r),ve(n),e.head.appendChild(n))}function Da(e){return'[src="'+tn(e)+'"]'}function el(e){return"script[async]"+e}function Zy(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+tn(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var c=R({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),qe(o,"style",c),ic(o,r.precedence,e),n.instance=o;case"stylesheet":c=Ia(r.href);var f=e.querySelector(tl(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=Xy(r),(c=On.get(c))&&id(o,c),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",o),n.state.loading|=4,ic(f,r.precedence,e),n.instance=f;case"script":return f=Da(r.src),(c=e.querySelector(el(f)))?(n.instance=c,ve(c),c):(o=r,(c=On.get(f))&&(o=R({},r),rd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ve(c),qe(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,ic(o,r.precedence,e));return n.instance}function ic(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function Jy(e,n,r){if(rc===null){var o=new Map,c=rc=new Map;c.set(r,o)}else c=rc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[ei]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function $y(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function MS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Wy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function US(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Ia(o.href),f=n.querySelector(tl(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=sc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=Xy(o),(c=On.get(c))&&id(o,c),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),qe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=sc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var sd=0;function xS(e,n){return e.stylesheets&&e.count===0&&oc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&sd===0&&(sd=62500*gS());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&oc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>sd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)oc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ac=null;function oc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ac=new Map,n.forEach(LS,e),ac=null,sc.call(e))}function LS(e,n){if(!(n.state.loading&4)){var r=ac.get(e);if(r)var o=r.get(null);else{r=new Map,ac.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,c),r.set(g,c),this.count++,o=sc.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var nl={$$typeof:mt,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function kS(e,n,r,o,c,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wn(0),this.hiddenUpdates=Wn(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function t_(e,n,r,o,c,f,g,E,C,P,H,Q){return e=new kS(e,n,r,g,C,P,H,Q,E),n=1,f===!0&&(n|=24),f=fn(3,null,null,n),e.current=f,f.stateNode=e,n=kh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},jh(f),e}function e_(e){return e?(e=aa,e):aa}function n_(e,n,r,o,c,f){c=e_(c),o.context===null?o.context=c:o.pendingContext=c,o=_r(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=vr(e,o,n),r!==null&&(on(r,e,n),Uo(r,e,n))}function i_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function ad(e,n){i_(e,n),(e=e.alternate)&&i_(e,n)}function r_(e){if(e.tag===13||e.tag===31){var n=gs(e,67108864);n!==null&&on(n,e,67108864),ad(e,67108864)}}function s_(e){if(e.tag===13||e.tag===31){var n=yn();n=is(n);var r=gs(e,n);r!==null&&on(r,e,n),ad(e,n)}}var lc=!0;function PS(e,n,r,o){var c=q.T;q.T=null;var f=$.p;try{$.p=2,od(e,n,r,o)}finally{$.p=f,q.T=c}}function zS(e,n,r,o){var c=q.T;q.T=null;var f=$.p;try{$.p=8,od(e,n,r,o)}finally{$.p=f,q.T=c}}function od(e,n,r,o){if(lc){var c=ld(o);if(c===null)Yf(e,n,o,uc,r),o_(e,o);else if(jS(c,e,n,r,o))o.stopPropagation();else if(o_(e,o),n&4&&-1<BS.indexOf(e)){for(;c!==null;){var f=vn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Jn(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-he(g);E.entanglements[1]|=C,g&=~C}pi(f),(qt&6)===0&&(Fu=Je()+500,Zo(0))}}break;case 31:case 13:E=gs(f,2),E!==null&&on(E,f,2),Yu(),ad(f,2)}if(f=ld(o),f===null&&Yf(e,n,o,uc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Yf(e,n,o,null,r)}}function ld(e){return e=En(e),ud(e)}var uc=null;function ud(e){if(uc=null,e=ni(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return uc=e,null}function a_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case ro:return 2;case so:return 8;case ir:case mh:return 32;case jl:return 268435456;default:return 32}default:return 32}}var cd=!1,Or=null,Nr=null,Vr=null,il=new Map,rl=new Map,Mr=[],BS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(e,n){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":il.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(n.pointerId)}}function sl(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=vn(n),n!==null&&r_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function jS(e,n,r,o,c){switch(n){case"focusin":return Or=sl(Or,e,n,r,o,c),!0;case"dragenter":return Nr=sl(Nr,e,n,r,o,c),!0;case"mouseover":return Vr=sl(Vr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return il.set(f,sl(il.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,rl.set(f,sl(rl.get(f)||null,e,n,r,o,c)),!0}return!1}function l_(e){var n=ni(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,xn(e.priority,function(){s_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,xn(e.priority,function(){s_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=ld(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);_o=o,r.target.dispatchEvent(o),_o=null}else return n=vn(r),n!==null&&r_(n),e.blockedOn=r,!1;n.shift()}return!0}function u_(e,n,r){cc(e)&&r.delete(n)}function qS(){cd=!1,Or!==null&&cc(Or)&&(Or=null),Nr!==null&&cc(Nr)&&(Nr=null),Vr!==null&&cc(Vr)&&(Vr=null),il.forEach(u_),rl.forEach(u_)}function hc(e,n){e.blockedOn===n&&(e.blockedOn=null,cd||(cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,qS)))}var fc=null;function c_(e){fc!==e&&(fc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(ud(o||r)===null)continue;break}var f=vn(r);f!==null&&(e.splice(n,3),n-=3,lf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Oa(e){function n(C){return hc(C,e)}Or!==null&&hc(Or,e),Nr!==null&&hc(Nr,e),Vr!==null&&hc(Vr,e),il.forEach(n),rl.forEach(n);for(var r=0;r<Mr.length;r++){var o=Mr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Mr.length&&(r=Mr[0],r.blockedOn===null);)l_(r),r.blockedOn===null&&Mr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],g=c[Ve]||null;if(typeof f=="function")g||c_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[Ve]||null)E=g.formAction;else if(ud(c)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),c_(r)}}}function h_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function hd(e){this._internalRoot=e}dc.prototype.render=hd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=yn();n_(r,o,e,n,null,null)},dc.prototype.unmount=hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;n_(e.current,2,null,e,null,null),Yu(),n[ti]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Mr.length&&n!==0&&n<Mr[r].priority;r++);Mr.splice(r,0,e),r===0&&l_(e)}};var f_=t.version;if(f_!=="19.2.0")throw Error(a(527,f_,"19.2.0"));$.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var HS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{Mn=mc.inject(HS),ke=mc}catch{}}return ol.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=vp,f=Ep,g=Tp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=t_(e,1,!1,null,null,r,o,null,c,f,g,h_),e[ti]=n.current,Qf(e),new hd(n)},ol.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=vp,g=Ep,E=Tp,C=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),n=t_(e,1,!0,n,r??null,o,c,C,f,g,E,h_),n.context=e_(null),r=n.current,o=yn(),o=is(o),c=_r(o),c.callback=null,vr(r,c,o),r=o,n.current.lanes=r,es(n,r),pi(n),e[ti]=n.current,Qf(e),new dc(n)},ol.version="19.2.0",ol}var S_;function WS(){if(S_)return md.exports;S_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),md.exports=$S(),md.exports}var tA=WS();/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nA=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),A_=s=>{const t=nA(s);return t.charAt(0).toUpperCase()+t.slice(1)},Kv=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),iA=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Fn.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:h,iconNode:d,...p},v)=>Fn.createElement("svg",{ref:v,...rA,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:Kv("lucide",l),...!h&&!iA(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,S])=>Fn.createElement(_,S)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=(s,t)=>{const i=Fn.forwardRef(({className:a,...l},h)=>Fn.createElement(sA,{ref:h,iconNode:t,className:Kv(`lucide-${eA(A_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=A_(s),i};/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],oA=Xv("loader-circle",aA);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uA=Xv("x",lA),cA=()=>{};var b_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},hA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],p=s[i++],v=((l&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,p=d?s[l+1]:0,v=l+2<s.length,_=v?s[l+2]:0,S=h>>2,R=(h&3)<<4|p>>4;let x=(p&15)<<2|_>>6,G=_&63;v||(G=64,d||(x=64)),a.push(i[S],i[R],i[x],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Zv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):hA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const R=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||p==null||_==null||R==null)throw new fA;const x=h<<2|p>>4;if(a.push(x),_!==64){const G=p<<4&240|_>>2;if(a.push(G),R!==64){const W=_<<6&192|R;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class fA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dA=function(s){const t=Zv(s);return Jv.encodeByteArray(t,!0)},Nc=function(s){return dA(s).replace(/\./g,"")},$v=function(s){try{return Jv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=()=>mA().__FIREBASE_DEFAULTS__,pA=()=>{if(typeof process>"u"||typeof b_>"u")return;const s=b_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},yA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&$v(s[1]);return t&&JSON.parse(t)},Zc=()=>{try{return cA()||gA()||pA()||yA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Wv=s=>Zc()?.emulatorHosts?.[s],_A=s=>{const t=Wv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},tE=()=>Zc()?.config,eE=s=>Zc()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Nc(JSON.stringify(i)),Nc(JSON.stringify(d)),""].join(".")}const fl={};function TA(){const s={prod:[],emulator:[]};for(const t of Object.keys(fl))fl[t]?s.emulator.push(t):s.prod.push(t);return s}function SA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let w_=!1;function iE(s,t){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||fl[s]===t||fl[s]||w_)return;fl[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",h=TA().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function v(x,G){x.setAttribute("width","24"),x.setAttribute("id",G),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function _(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{w_=!0,d()},x}function S(x,G){x.setAttribute("id",G),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function R(){const x=SA(a),G=i("text"),W=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),Z=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),yt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const mt=x.element;p(mt),S(Z,et);const Ht=_();v(yt,ct),mt.append(yt,W,Z,Ht),document.body.appendChild(mt)}h?(W.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function bA(){const s=Zc()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function RA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function CA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IA(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function DA(){return!bA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function NA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="FirebaseError";class er extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=VA,Object.setPrototypeOf(this,er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?MA(h,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new er(l,p,a)}}function MA(s,t){return s.replace(UA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const UA=/\{\$([^}]+)}/g;function xA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Vs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(R_(h)&&R_(d)){if(!Vs(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function R_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function LA(s,t){const i=new kA(s,t);return i.subscribe.bind(i)}class kA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");PA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=_d),l.error===void 0&&(l.error=_d),l.complete===void 0&&(l.complete=_d);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function _d(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(s){return s&&s._delegate?s._delegate:s}class Ms{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new vA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(jA(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:BA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BA(s){return s===Is?void 0:s}function jA(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new zA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const HA={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},GA=Nt.INFO,FA={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},QA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=FA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class rm{constructor(t){this.name=t,this._logLevel=GA,this._logHandler=QA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?HA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const YA=(s,t)=>t.some(i=>s instanceof i);let C_,I_;function KA(){return C_||(C_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XA(){return I_||(I_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rE=new WeakMap,Md=new WeakMap,sE=new WeakMap,vd=new WeakMap,sm=new WeakMap;function ZA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Br(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rE.set(i,s)}).catch(()=>{}),sm.set(t,s),t}function JA(s){if(Md.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Md.set(s,t)}let Ud={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Md.get(s);if(t==="objectStoreNames")return s.objectStoreNames||sE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Br(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function $A(s){Ud=s(Ud)}function WA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ed(this),t,...i);return sE.set(a,t.sort?t.sort():[t]),Br(a)}:XA().includes(s)?function(...t){return s.apply(Ed(this),t),Br(rE.get(this))}:function(...t){return Br(s.apply(Ed(this),t))}}function t1(s){return typeof s=="function"?WA(s):(s instanceof IDBTransaction&&JA(s),YA(s,KA())?new Proxy(s,Ud):s)}function Br(s){if(s instanceof IDBRequest)return ZA(s);if(vd.has(s))return vd.get(s);const t=t1(s);return t!==s&&(vd.set(s,t),sm.set(t,s)),t}const Ed=s=>sm.get(s);function e1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),p=Br(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Br(d.result),v.oldVersion,v.newVersion,Br(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const n1=["get","getKey","getAll","getAllKeys","count"],i1=["put","add","delete","clear"],Td=new Map;function D_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Td.get(t))return Td.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=i1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||n1.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,l?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&v.done]))[0]};return Td.set(t,h),h}$A(s=>({...s,get:(t,i,a)=>D_(t,i)||s.get(t,i,a),has:(t,i)=>!!D_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(s1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function s1(s){return s.getComponent()?.type==="VERSION"}const xd="@firebase/app",O_="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new rm("@firebase/app"),a1="@firebase/app-compat",o1="@firebase/analytics-compat",l1="@firebase/analytics",u1="@firebase/app-check-compat",c1="@firebase/app-check",h1="@firebase/auth",f1="@firebase/auth-compat",d1="@firebase/database",m1="@firebase/data-connect",g1="@firebase/database-compat",p1="@firebase/functions",y1="@firebase/functions-compat",_1="@firebase/installations",v1="@firebase/installations-compat",E1="@firebase/messaging",T1="@firebase/messaging-compat",S1="@firebase/performance",A1="@firebase/performance-compat",b1="@firebase/remote-config",w1="@firebase/remote-config-compat",R1="@firebase/storage",C1="@firebase/storage-compat",I1="@firebase/firestore",D1="@firebase/ai",O1="@firebase/firestore-compat",N1="firebase",V1="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",M1={[xd]:"fire-core",[a1]:"fire-core-compat",[l1]:"fire-analytics",[o1]:"fire-analytics-compat",[c1]:"fire-app-check",[u1]:"fire-app-check-compat",[h1]:"fire-auth",[f1]:"fire-auth-compat",[d1]:"fire-rtdb",[m1]:"fire-data-connect",[g1]:"fire-rtdb-compat",[p1]:"fire-fn",[y1]:"fire-fn-compat",[_1]:"fire-iid",[v1]:"fire-iid-compat",[E1]:"fire-fcm",[T1]:"fire-fcm-compat",[S1]:"fire-perf",[A1]:"fire-perf-compat",[b1]:"fire-rc",[w1]:"fire-rc-compat",[R1]:"fire-gcs",[C1]:"fire-gcs-compat",[I1]:"fire-fst",[O1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[N1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vl=new Map,U1=new Map,kd=new Map;function N_(s,t){try{s.container.addComponent(t)}catch(i){Zi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ba(s){const t=s.name;if(kd.has(t))return Zi.debug(`There were multiple attempts to register component ${t}.`),!1;kd.set(t,s);for(const i of vl.values())N_(i,s);for(const i of U1.values())N_(i,s);return!0}function am(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function _i(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new Ol("app","Firebase",x1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=V1;function aE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Ld,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw jr.create("bad-app-name",{appName:String(l)});if(i||(i=tE()),!i)throw jr.create("no-options");const h=vl.get(l);if(h){if(Vs(i,h.options)&&Vs(a,h.config))return h;throw jr.create("duplicate-app",{appName:l})}const d=new qA(l);for(const v of kd.values())d.addComponent(v);const p=new L1(i,a,d);return vl.set(l,p),p}function om(s=Ld){const t=vl.get(s);if(!t&&s===Ld&&tE())return aE();if(!t)throw jr.create("no-app",{appName:s});return t}function k1(){return Array.from(vl.values())}function qr(s,t,i){let a=M1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Zi.warn(d.join(" "));return}Ba(new Ms(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="firebase-heartbeat-database",z1=1,El="firebase-heartbeat-store";let Sd=null;function oE(){return Sd||(Sd=e1(P1,z1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(El)}catch(i){console.warn(i)}}}}).catch(s=>{throw jr.create("idb-open",{originalErrorMessage:s.message})})),Sd}async function B1(s){try{const i=(await oE()).transaction(El),a=await i.objectStore(El).get(lE(s));return await i.done,a}catch(t){if(t instanceof er)Zi.warn(t.message);else{const i=jr.create("idb-get",{originalErrorMessage:t?.message});Zi.warn(i.message)}}}async function V_(s,t){try{const a=(await oE()).transaction(El,"readwrite");await a.objectStore(El).put(t,lE(s)),await a.done}catch(i){if(i instanceof er)Zi.warn(i.message);else{const a=jr.create("idb-set",{originalErrorMessage:i?.message});Zi.warn(a.message)}}}function lE(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=1024,q1=30;class H1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new F1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=M_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>q1){const l=Q1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Zi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=M_(),{heartbeatsToSend:i,unsentEntries:a}=G1(this._heartbeatsCache.heartbeats),l=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Zi.warn(t),""}}}function M_(){return new Date().toISOString().substring(0,10)}function G1(s,t=j1){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),U_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),U_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class F1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?NA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await B1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return V_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function U_(s){return Nc(JSON.stringify({version:2,heartbeats:s})).length}function Q1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(s){Ba(new Ms("platform-logger",t=>new r1(t),"PRIVATE")),Ba(new Ms("heartbeat",t=>new H1(t),"PRIVATE")),qr(xd,O_,s),qr(xd,O_,"esm2020"),qr("fire-js","")}Y1("");var K1="firebase",X1="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(K1,X1,"app");function uE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z1=uE,cE=new Ol("auth","Firebase",uE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vc=new rm("@firebase/auth");function J1(s,...t){Vc.logLevel<=Nt.WARN&&Vc.warn(`Auth (${Xa}): ${s}`,...t)}function Tc(s,...t){Vc.logLevel<=Nt.ERROR&&Vc.error(`Auth (${Xa}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(s,...t){throw lm(s,...t)}function Ei(s,...t){return lm(s,...t)}function hE(s,t,i){const a={...Z1(),[t]:i};return new Ol("auth","Firebase",a).create(t,{appName:s.name})}function Os(s){return hE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return cE.create(s,...t)}function gt(s,t,...i){if(!s)throw lm(t,...i)}function Yi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Tc(t),new Error(t)}function $i(s,t){s||Yi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(){return typeof self<"u"&&self.location?.href||""}function $1(){return x_()==="http:"||x_()==="https:"}function x_(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($1()||RA()||"connection"in navigator)?navigator.onLine:!0}function tb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t,i){this.shortDelay=t,this.longDelay=i,$i(i>t,"Short delay should be less than long delay!"),this.isMobile=AA()||CA()}get(){return W1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(s,t){$i(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ib=new Vl(3e4,6e4);function cm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Za(s,t,i,a,l={}){return dE(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const p=Nl({key:s.config.apiKey,...d}).slice(1),v=await s._getAdditionalHeaders();v["Content-Type"]="application/json",s.languageCode&&(v["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:v,...h};return wA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Ka(s.emulatorConfig.host)&&(_.credentials="include"),fE.fetch()(await mE(s,s.config.apiHost,i,p),_)})}async function dE(s,t,i){s._canInitEmulator=!1;const a={...eb,...t};try{const l=new sb(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw gc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const p=h.ok?d.errorMessage:d.error.message,[v,_]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(s,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw gc(s,"email-already-in-use",d);if(v==="USER_DISABLED")throw gc(s,"user-disabled",d);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw hE(s,S,_);Ji(s,S)}}catch(l){if(l instanceof er)throw l;Ji(s,"network-request-failed",{message:String(l)})}}async function rb(s,t,i,a,l={}){const h=await Za(s,t,i,a,l);return"mfaPendingCredential"in h&&Ji(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function mE(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?um(s.config,l):`${s.config.apiScheme}://${l}`;return nb.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class sb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ei(this.auth,"network-request-failed")),ib.get())})}}function gc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ei(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ab(s,t){return Za(s,"POST","/v1/accounts:delete",t)}async function Mc(s,t){return Za(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ob(s,t=!1){const i=Kn(s),a=await i.getIdToken(t),l=hm(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:dl(Ad(l.auth_time)),issuedAtTime:dl(Ad(l.iat)),expirationTime:dl(Ad(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Ad(s){return Number(s)*1e3}function hm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const l=$v(i);return l?JSON.parse(l):(Tc("Failed to decode base64 JWT payload"),null)}catch(l){return Tc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function L_(s){const t=hm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof er&&lb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function lb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=dl(this.lastLoginAt),this.creationTime=dl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uc(s){const t=s.auth,i=await s.getIdToken(),a=await Tl(s,Mc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?gE(l.providerUserInfo):[],d=hb(s.providerData,h),p=s.isAnonymous,v=!(s.email&&l.passwordHash)&&!d?.length,_=p?v:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,S)}async function cb(s){const t=Kn(s);await Uc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hb(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function gE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(s,t){const i=await dE(s,{},async()=>{const a=Nl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await mE(s,l,"/v1/token",`key=${h}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return s.emulatorConfig&&Ka(s.emulatorConfig.host)&&(v.credentials="include"),fE.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function db(s,t){return Za(s,"POST","/v2/accounts:revokeToken",cm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):L_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=L_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await fb(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new La;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(gt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Qn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ub(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Tl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ob(this,t)}reload(){return cb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Qn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Uc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(Os(this.auth));const t=await this.getIdToken();return await Tl(this,ab(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:R,emailVerified:x,isAnonymous:G,providerData:W,stsTokenManager:et}=i;gt(R&&et,t,"internal-error");const Z=La.fromJSON(this.name,et);gt(typeof R=="string",t,"internal-error"),xr(a,t.name),xr(l,t.name),gt(typeof x=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),xr(h,t.name),xr(d,t.name),xr(p,t.name),xr(v,t.name),xr(_,t.name),xr(S,t.name);const ct=new Qn({uid:R,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:S});return W&&Array.isArray(W)&&(ct.providerData=W.map(yt=>({...yt}))),v&&(ct._redirectEventId=v),ct}static async _fromIdTokenResponse(t,i,a=!1){const l=new La;l.updateFromServerResponse(i);const h=new Qn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Uc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?gE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,p=new La;p.updateFromIdToken(a);const v=new Qn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(v,_),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function Ki(s){$i(s instanceof Function,"Expected a class definition");let t=k_.get(s);return t?($i(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,k_.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}pE.type="NONE";const P_=pE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(s,t,i){return`firebase:${s}:${t}:${i}`}class ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Sc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Mc(this.auth,{idToken:t}).catch(()=>{});return i?Qn._fromGetAccountInfoResponse(this.auth,i,t):null}return Qn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ka(Ki(P_),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=l[0]||Ki(P_);const d=Sc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const S=await _._get(d);if(S){let R;if(typeof S=="string"){const x=await Mc(t,{idToken:S}).catch(()=>{});if(!x)break;R=await Qn._fromGetAccountInfoResponse(t,x,S)}else R=Qn._fromJSON(t,S);_!==h&&(p=R),h=_;break}}catch{}const v=l.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new ka(h,t,a):(h=v[0],p&&await h._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(d)}catch{}})),new ka(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(EE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SE(t))return"Blackberry";if(AE(t))return"Webos";if(_E(t))return"Safari";if((t.includes("chrome/")||vE(t))&&!t.includes("edge/"))return"Chrome";if(TE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function yE(s=Ze()){return/firefox\//i.test(s)}function _E(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vE(s=Ze()){return/crios\//i.test(s)}function EE(s=Ze()){return/iemobile/i.test(s)}function TE(s=Ze()){return/android/i.test(s)}function SE(s=Ze()){return/blackberry/i.test(s)}function AE(s=Ze()){return/webos/i.test(s)}function fm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function mb(s=Ze()){return fm(s)&&!!window.navigator?.standalone}function gb(){return IA()&&document.documentMode===10}function bE(s=Ze()){return fm(s)||TE(s)||AE(s)||SE(s)||/windows phone/i.test(s)||EE(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(s,t=[]){let i;switch(s){case"Browser":i=z_(Ze());break;case"Worker":i=`${z_(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xa}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,p)=>{try{const v=t(h);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yb(s,t={}){return Za(s,"GET","/v2/passwordPolicy",cm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=6;class vb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_b,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B_(this),this.idTokenSubscription=new B_(this),this.beforeStateQueue=new pb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ki(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Mc(this,{idToken:t}),a=await Qn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(_i(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!h||h===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Uc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(Os(this));const i=t?Kn(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(Os(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(Os(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yb(this),i=new vb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ol("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await db(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ki(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await ka.create(this,[Ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&J1(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Jc(s){return Kn(s)}class B_{constructor(t){this.auth=t,this.observer=null,this.addObserver=LA(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tb(s){dm=s}function Sb(s){return dm.loadJS(s)}function Ab(){return dm.gapiScript}function bb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(s,t){const i=am(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Vs(h,t??{}))return l;Ji(l,"already-initialized")}return i.initialize({options:t})}function Rb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ki);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Cb(s,t,i){const a=Jc(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=RE(t),{host:d,port:p}=Ib(t),v=p===null?"":`:${p}`,_={url:`${h}//${d}${v}/`},S=Object.freeze({host:d,port:p,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Vs(_,a.config.emulator)&&Vs(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,Ka(d)?(nE(`${h}//${d}${v}`),iE("Auth",!0)):Db()}function RE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Ib(s){const t=RE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:j_(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:j_(d)}}}function j_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Db(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(s,t){return rb(s,"POST","/v1/accounts:signInWithIdp",cm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="http://localhost";class Us extends CE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Us(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ji("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Us(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Pa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Pa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Pa(t,i)}buildRequest(){const t={requestUri:Ob,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Nl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends IE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Ml{constructor(){super("facebook.com")}static credential(t){return Us._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lr.credentialFromTaggedObject(t)}static credentialFromError(t){return Lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lr.credential(t.oauthAccessToken)}catch{return null}}}Lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ml{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Us._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return vi.credential(i,a)}catch{return null}}}vi.GOOGLE_SIGN_IN_METHOD="google.com";vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ml{constructor(){super("github.com")}static credential(t){return Us._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return kr.credentialFromTaggedObject(t)}static credentialFromError(t){return kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return kr.credential(t.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Ml{constructor(){super("twitter.com")}static credential(t,i){return Us._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Pr.credential(i,a)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Qn._fromIdTokenResponse(t,a,l),d=q_(a);return new ja({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=q_(a);return new ja({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function q_(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends er{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,xc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new xc(t,i,a,l)}}function DE(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?xc._fromErrorAndOperation(s,h,t,a):h})}async function Nb(s,t,i=!1){const a=await Tl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ja._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(s,t,i=!1){const{auth:a}=s;if(_i(a.app))return Promise.reject(Os(a));const l="reauthenticate";try{const h=await Tl(s,DE(a,l,t,s),i);gt(h.idToken,a,"internal-error");const d=hm(h.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),ja._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Ji(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OE(s,t,i=!1){if(_i(s.app))return Promise.reject(Os(s));const a="signIn",l=await DE(s,a,t),h=await ja._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}async function Mb(s,t){return OE(Jc(s),t)}function Ub(s,t,i,a){return Kn(s).onIdTokenChanged(t,i,a)}function xb(s,t,i){return Kn(s).beforeAuthStateChanged(t,i)}function Lb(s){return Kn(s).signOut()}const Lc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=1e3,Pb=10;class VE extends NE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);gb()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Pb):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},kb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}VE.type="LOCAL";const zb=VE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME extends NE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}ME.type="SESSION";const UE=ME;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new $c(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,h)),v=await Bb(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$c.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((p,v)=>{const _=mm("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const x=R;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),p(x.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function qb(s){Ti().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function Hb(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gb(){return navigator?.serviceWorker?.controller||null}function Fb(){return xE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="firebaseLocalStorageDb",Qb=1,kc="firebaseLocalStorage",kE="fbase_key";class Ul{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Wc(s,t){return s.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function Yb(){const s=indexedDB.deleteDatabase(LE);return new Ul(s).toPromise()}function Bd(){const s=indexedDB.open(LE,Qb);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(kc,{keyPath:kE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(kc)?t(a):(a.close(),await Yb(),t(await Bd()))})})}async function H_(s,t,i){const a=Wc(s,!0).put({[kE]:t,value:i});return new Ul(a).toPromise()}async function Kb(s,t){const i=Wc(s,!1).get(t),a=await new Ul(i).toPromise();return a===void 0?null:a.value}function G_(s,t){const i=Wc(s,!0).delete(t);return new Ul(i).toPromise()}const Xb=800,Zb=3;class PE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Zb)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$c._getInstance(Fb()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Hb(),!this.activeServiceWorker)return;this.sender=new jb(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Gb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Bd();return await H_(t,Lc,"1"),await G_(t,Lc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>H_(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Kb(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>G_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Wc(l,!1).getAll();return new Ul(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Xb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PE.type="LOCAL";const Jb=PE;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(s,t){return t?Ki(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends CE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Pa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Pa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Pa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Wb(s){return OE(s.auth,new gm(s),s.bypassAuthState)}function tw(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),Vb(i,new gm(s),s.bypassAuthState)}async function ew(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),Nb(i,new gm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Wb;case"linkViaPopup":case"linkViaRedirect":return ew;case"reauthViaPopup":case"reauthViaRedirect":return tw;default:Ji(this.auth,"internal-error")}}resolve(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Vl(2e3,1e4);class xa extends zE{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const t=mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nw.get())};t()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="pendingRedirect",Ac=new Map;class rw extends zE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Ac.get(this.auth._key());if(!t){try{const a=await sw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Ac.set(this.auth._key(),t)}return this.bypassAuthState||Ac.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sw(s,t){const i=lw(t),a=ow(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function aw(s,t){Ac.set(s._key(),t)}function ow(s){return Ki(s._redirectPersistence)}function lw(s){return Sc(iw,s.config.apiKey,s.name)}async function uw(s,t,i=!1){if(_i(s.app))return Promise.reject(Os(s));const a=Jc(s),l=$b(a,t),d=await new rw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=600*1e3;class hw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!BE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ei(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cw&&this.cachedEventUids.clear(),this.cachedEventUids.has(F_(t))}saveEventToCache(t){this.cachedEventUids.add(F_(t)),this.lastProcessedEventTime=Date.now()}}function F_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function BE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function fw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BE(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(s,t={}){return Za(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gw=/^https?/;async function pw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await dw(s);for(const i of t)try{if(yw(i))return}catch{}Ji(s,"unauthorized-domain")}function yw(s){const t=Pd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!gw.test(i))return!1;if(mw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Vl(3e4,6e4);function Q_(){const s=Ti().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function vw(s){return new Promise((t,i)=>{function a(){Q_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Q_(),i(Ei(s,"network-request-failed"))},timeout:_w.get()})}if(Ti().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ti().gapi?.load)a();else{const l=bb("iframefcb");return Ti()[l]=()=>{gapi.load?a():i(Ei(s,"network-request-failed"))},Sb(`${Ab()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw bc=null,t})}let bc=null;function Ew(s){return bc=bc||vw(s),bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Vl(5e3,15e3),Sw="__/auth/iframe",Aw="emulator/auth/iframe",bw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ww=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rw(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?um(t,Aw):`https://${s.config.authDomain}/${Sw}`,a={apiKey:t.apiKey,appName:s.name,v:Xa},l=ww.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Nl(a).slice(1)}`}async function Cw(s){const t=await Ew(s),i=Ti().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:Rw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bw,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Ei(s,"network-request-failed"),p=Ti().setTimeout(()=>{h(d)},Tw.get());function v(){Ti().clearTimeout(p),l(a)}a.ping(v).then(v,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dw=500,Ow=600,Nw="_blank",Vw="http://localhost";class Y_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Mw(s,t,i,a=Dw,l=Ow){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...Iw,width:a.toString(),height:l.toString(),top:h,left:d},_=Ze().toLowerCase();i&&(p=vE(_)?Nw:i),yE(_)&&(t=t||Vw,v.scrollbars="yes");const S=Object.entries(v).reduce((x,[G,W])=>`${x}${G}=${W},`,"");if(mb(_)&&p!=="_self")return Uw(t||"",p),new Y_(null);const R=window.open(t||"",p,S);gt(R,s,"popup-blocked");try{R.focus()}catch{}return new Y_(R)}function Uw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="__/auth/handler",Lw="emulator/auth/handler",kw=encodeURIComponent("fac");async function K_(s,t,i,a,l,h){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Xa,eventId:l};if(t instanceof IE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",xA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,R]of Object.entries({}))d[S]=R}if(t instanceof Ml){const S=t.getScopes().filter(R=>R!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const S of Object.keys(p))p[S]===void 0&&delete p[S];const v=await s._getAppCheckToken(),_=v?`#${kw}=${encodeURIComponent(v)}`:"";return`${Pw(s)}?${Nl(p).slice(1)}${_}`}function Pw({config:s}){return s.emulator?um(s,Lw):`https://${s.authDomain}/${xw}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="webStorageSupport";class zw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=uw,this._overrideRedirectResult=aw}async _openPopup(t,i,a,l){$i(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await K_(t,i,a,Pd(),l);return Mw(t,h,mm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await K_(t,i,a,Pd(),l);return qb(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):($i(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Cw(t),a=new hw(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(bd,{type:bd},l=>{const h=l?.[0]?.[bd];h!==void 0&&i(!!h),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return bE()||_E()||fm()}}const Bw=zw;var X_="@firebase/auth",Z_="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Hw(s){Ba(new Ms("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wE(s)},_=new Eb(a,l,h,v);return Rb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ba(new Ms("auth-internal",t=>{const i=Jc(t.getProvider("auth").getImmediate());return(a=>new jw(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(X_,Z_,qw(s)),qr(X_,Z_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=300,Fw=eE("authIdTokenMaxAge")||Gw;let J_=null;const Qw=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Fw)return;const l=i?.token;J_!==l&&(J_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Yw(s=om()){const t=am(s,"auth");if(t.isInitialized())return t.getImmediate();const i=wb(s,{popupRedirectResolver:Bw,persistence:[Jb,zb,UE]}),a=eE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Qw(h.toString());xb(i,d,()=>d(i.currentUser)),Ub(i,p=>d(p))}}const l=Wv("auth");return l&&Cb(i,`http://${l}`),i}function Kw(){return document.getElementsByTagName("head")?.[0]??document}Tb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=Ei("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",Kw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Hw("Browser");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hr,jE;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,b){function A(){}A.prototype=b.prototype,I.F=b.prototype,I.prototype=new A,I.prototype.constructor=I,I.D=function(O,D,M){for(var w=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)w[ft-2]=arguments[ft];return b.prototype[D].apply(O,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,A){A||(A=0);const O=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)O[D]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(D=0;D<16;++D)O[D]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=I.g[0],A=I.g[1],D=I.g[2];let M=I.g[3],w;w=b+(M^A&(D^M))+O[0]+3614090360&4294967295,b=A+(w<<7&4294967295|w>>>25),w=M+(D^b&(A^D))+O[1]+3905402710&4294967295,M=b+(w<<12&4294967295|w>>>20),w=D+(A^M&(b^A))+O[2]+606105819&4294967295,D=M+(w<<17&4294967295|w>>>15),w=A+(b^D&(M^b))+O[3]+3250441966&4294967295,A=D+(w<<22&4294967295|w>>>10),w=b+(M^A&(D^M))+O[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=M+(D^b&(A^D))+O[5]+1200080426&4294967295,M=b+(w<<12&4294967295|w>>>20),w=D+(A^M&(b^A))+O[6]+2821735955&4294967295,D=M+(w<<17&4294967295|w>>>15),w=A+(b^D&(M^b))+O[7]+4249261313&4294967295,A=D+(w<<22&4294967295|w>>>10),w=b+(M^A&(D^M))+O[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=M+(D^b&(A^D))+O[9]+2336552879&4294967295,M=b+(w<<12&4294967295|w>>>20),w=D+(A^M&(b^A))+O[10]+4294925233&4294967295,D=M+(w<<17&4294967295|w>>>15),w=A+(b^D&(M^b))+O[11]+2304563134&4294967295,A=D+(w<<22&4294967295|w>>>10),w=b+(M^A&(D^M))+O[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=M+(D^b&(A^D))+O[13]+4254626195&4294967295,M=b+(w<<12&4294967295|w>>>20),w=D+(A^M&(b^A))+O[14]+2792965006&4294967295,D=M+(w<<17&4294967295|w>>>15),w=A+(b^D&(M^b))+O[15]+1236535329&4294967295,A=D+(w<<22&4294967295|w>>>10),w=b+(D^M&(A^D))+O[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=M+(A^D&(b^A))+O[6]+3225465664&4294967295,M=b+(w<<9&4294967295|w>>>23),w=D+(b^A&(M^b))+O[11]+643717713&4294967295,D=M+(w<<14&4294967295|w>>>18),w=A+(M^b&(D^M))+O[0]+3921069994&4294967295,A=D+(w<<20&4294967295|w>>>12),w=b+(D^M&(A^D))+O[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=M+(A^D&(b^A))+O[10]+38016083&4294967295,M=b+(w<<9&4294967295|w>>>23),w=D+(b^A&(M^b))+O[15]+3634488961&4294967295,D=M+(w<<14&4294967295|w>>>18),w=A+(M^b&(D^M))+O[4]+3889429448&4294967295,A=D+(w<<20&4294967295|w>>>12),w=b+(D^M&(A^D))+O[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=M+(A^D&(b^A))+O[14]+3275163606&4294967295,M=b+(w<<9&4294967295|w>>>23),w=D+(b^A&(M^b))+O[3]+4107603335&4294967295,D=M+(w<<14&4294967295|w>>>18),w=A+(M^b&(D^M))+O[8]+1163531501&4294967295,A=D+(w<<20&4294967295|w>>>12),w=b+(D^M&(A^D))+O[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=M+(A^D&(b^A))+O[2]+4243563512&4294967295,M=b+(w<<9&4294967295|w>>>23),w=D+(b^A&(M^b))+O[7]+1735328473&4294967295,D=M+(w<<14&4294967295|w>>>18),w=A+(M^b&(D^M))+O[12]+2368359562&4294967295,A=D+(w<<20&4294967295|w>>>12),w=b+(A^D^M)+O[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=M+(b^A^D)+O[8]+2272392833&4294967295,M=b+(w<<11&4294967295|w>>>21),w=D+(M^b^A)+O[11]+1839030562&4294967295,D=M+(w<<16&4294967295|w>>>16),w=A+(D^M^b)+O[14]+4259657740&4294967295,A=D+(w<<23&4294967295|w>>>9),w=b+(A^D^M)+O[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=M+(b^A^D)+O[4]+1272893353&4294967295,M=b+(w<<11&4294967295|w>>>21),w=D+(M^b^A)+O[7]+4139469664&4294967295,D=M+(w<<16&4294967295|w>>>16),w=A+(D^M^b)+O[10]+3200236656&4294967295,A=D+(w<<23&4294967295|w>>>9),w=b+(A^D^M)+O[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=M+(b^A^D)+O[0]+3936430074&4294967295,M=b+(w<<11&4294967295|w>>>21),w=D+(M^b^A)+O[3]+3572445317&4294967295,D=M+(w<<16&4294967295|w>>>16),w=A+(D^M^b)+O[6]+76029189&4294967295,A=D+(w<<23&4294967295|w>>>9),w=b+(A^D^M)+O[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=M+(b^A^D)+O[12]+3873151461&4294967295,M=b+(w<<11&4294967295|w>>>21),w=D+(M^b^A)+O[15]+530742520&4294967295,D=M+(w<<16&4294967295|w>>>16),w=A+(D^M^b)+O[2]+3299628645&4294967295,A=D+(w<<23&4294967295|w>>>9),w=b+(D^(A|~M))+O[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=M+(A^(b|~D))+O[7]+1126891415&4294967295,M=b+(w<<10&4294967295|w>>>22),w=D+(b^(M|~A))+O[14]+2878612391&4294967295,D=M+(w<<15&4294967295|w>>>17),w=A+(M^(D|~b))+O[5]+4237533241&4294967295,A=D+(w<<21&4294967295|w>>>11),w=b+(D^(A|~M))+O[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=M+(A^(b|~D))+O[3]+2399980690&4294967295,M=b+(w<<10&4294967295|w>>>22),w=D+(b^(M|~A))+O[10]+4293915773&4294967295,D=M+(w<<15&4294967295|w>>>17),w=A+(M^(D|~b))+O[1]+2240044497&4294967295,A=D+(w<<21&4294967295|w>>>11),w=b+(D^(A|~M))+O[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=M+(A^(b|~D))+O[15]+4264355552&4294967295,M=b+(w<<10&4294967295|w>>>22),w=D+(b^(M|~A))+O[6]+2734768916&4294967295,D=M+(w<<15&4294967295|w>>>17),w=A+(M^(D|~b))+O[13]+1309151649&4294967295,A=D+(w<<21&4294967295|w>>>11),w=b+(D^(A|~M))+O[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=M+(A^(b|~D))+O[11]+3174756917&4294967295,M=b+(w<<10&4294967295|w>>>22),w=D+(b^(M|~A))+O[2]+718787259&4294967295,D=M+(w<<15&4294967295|w>>>17),w=A+(M^(D|~b))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+M&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const A=b-this.blockSize,O=this.C;let D=this.h,M=0;for(;M<b;){if(D==0)for(;M<=A;)l(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<b;)if(O[D++]=I.charCodeAt(M++),D==this.blockSize){l(this,O),D=0;break}}else for(;M<b;)if(O[D++]=I[M++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var A=I.length-8;A<I.length;++A)I[A]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,A=0;A<4;++A)for(let O=0;O<32;O+=8)I[b++]=this.g[A]>>>O&255;return I};function h(I,b){var A=p;return Object.prototype.hasOwnProperty.call(A,I)?A[I]:A[I]=b(I)}function d(I,b){this.h=b;const A=[];let O=!0;for(let D=I.length-1;D>=0;D--){const M=I[D]|0;O&&M==b||(A[D]=M,O=!1)}this.g=A}var p={};function v(I){return-128<=I&&I<128?h(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return R;if(I<0)return Z(_(-I));const b=[];let A=1;for(let O=0;I>=A;O++)b[O]=I/A|0,A*=4294967296;return new d(b,0)}function S(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return Z(S(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=_(Math.pow(b,8));let O=R;for(let M=0;M<I.length;M+=8){var D=Math.min(8,I.length-M);const w=parseInt(I.substring(M,M+D),b);D<8?(D=_(Math.pow(b,D)),O=O.j(D).add(_(w))):(O=O.j(A),O=O.add(_(w)))}return O}var R=v(0),x=v(1),G=v(16777216);s=d.prototype,s.m=function(){if(et(this))return-Z(this).m();let I=0,b=1;for(let A=0;A<this.g.length;A++){const O=this.i(A);I+=(O>=0?O:4294967296+O)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(et(this))return"-"+Z(this).toString(I);const b=_(Math.pow(I,6));var A=this;let O="";for(;;){const D=Ht(A,b).g;A=ct(A,D.j(b));let M=((A.g.length>0?A.g[0]:A.h)>>>0).toString(I);if(A=D,W(A))return M+O;for(;M.length<6;)M="0"+M;O=M+O}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function et(I){return I.h==-1}s.l=function(I){return I=ct(this,I),et(I)?-1:W(I)?0:1};function Z(I){const b=I.g.length,A=[];for(let O=0;O<b;O++)A[O]=~I.g[O];return new d(A,~I.h).add(x)}s.abs=function(){return et(this)?Z(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),A=[];let O=0;for(let D=0;D<=b;D++){let M=O+(this.i(D)&65535)+(I.i(D)&65535),w=(M>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);O=w>>>16,M&=65535,w&=65535,A[D]=w<<16|M}return new d(A,A[A.length-1]&-2147483648?-1:0)};function ct(I,b){return I.add(Z(b))}s.j=function(I){if(W(this)||W(I))return R;if(et(this))return et(I)?Z(this).j(Z(I)):Z(Z(this).j(I));if(et(I))return Z(this.j(Z(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const b=this.g.length+I.g.length,A=[];for(var O=0;O<2*b;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<I.g.length;D++){const M=this.i(O)>>>16,w=this.i(O)&65535,ft=I.i(D)>>>16,kt=I.i(D)&65535;A[2*O+2*D]+=w*kt,yt(A,2*O+2*D),A[2*O+2*D+1]+=M*kt,yt(A,2*O+2*D+1),A[2*O+2*D+1]+=w*ft,yt(A,2*O+2*D+1),A[2*O+2*D+2]+=M*ft,yt(A,2*O+2*D+2)}for(I=0;I<b;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=b;I<2*b;I++)A[I]=0;return new d(A,0)};function yt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function mt(I,b){this.g=I,this.h=b}function Ht(I,b){if(W(b))throw Error("division by zero");if(W(I))return new mt(R,R);if(et(I))return b=Ht(Z(I),b),new mt(Z(b.g),Z(b.h));if(et(b))return b=Ht(I,Z(b)),new mt(Z(b.g),b.h);if(I.g.length>30){if(et(I)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var A=x,O=b;O.l(I)<=0;)A=te(A),O=te(O);var D=It(A,1),M=It(O,1);for(O=It(O,2),A=It(A,2);!W(O);){var w=M.add(O);w.l(I)<=0&&(D=D.add(A),M=w),O=It(O,1),A=It(A,1)}return b=ct(I,D.j(b)),new mt(D,b)}for(D=R;I.l(b)>=0;){for(A=Math.max(1,Math.floor(I.m()/b.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),M=_(A),w=M.j(b);et(w)||w.l(I)>0;)A-=O,M=_(A),w=M.j(b);W(M)&&(M=x),D=D.add(M),I=ct(I,w)}return new mt(D,I)}s.B=function(I){return Ht(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<b;O++)A[O]=this.i(O)&I.i(O);return new d(A,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<b;O++)A[O]=this.i(O)|I.i(O);return new d(A,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),A=[];for(let O=0;O<b;O++)A[O]=this.i(O)^I.i(O);return new d(A,this.h^I.h)};function te(I){const b=I.g.length+1,A=[];for(let O=0;O<b;O++)A[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(A,I.h)}function It(I,b){const A=b>>5;b%=32;const O=I.g.length-A,D=[];for(let M=0;M<O;M++)D[M]=b>0?I.i(M+A)>>>b|I.i(M+A+1)<<32-b:I.i(M+A);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,jE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Hr=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,ll,HE,wc,jd,GE,FE,QE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var y=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in y))break t;y=y[L]}u=u[u.length-1],T=y[u],m=m(T),m!=T&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var y=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&y.push([T,m[T]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=v,_.apply(null,arguments)}function S(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var T=y.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var J=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)J[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,J)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let T=0;T<m;T++)y[T]=u[T];return y}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var y=typeof L;if(y=y!="object"?y:L?Array.isArray(L)?"array":y:"null",y=="array"||y=="object"&&typeof L.length=="number"){y=u.length||0;const B=L.length||0;u.length=y+B;for(let J=0;J<B;J++)u[y+J]=L[J]}else u.push(L)}}class et{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,y){const T=mt.get();T.set(m,y),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new Ht,u=>u.reset());class Ht{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let te,It=!1,I=new yt,b=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(A)}};function A(){for(var u;u=ct();){try{u.h.call(u.g)}catch(y){Z(y)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ft(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(ft,D),ft.prototype.init=function(u,m){const y=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ft.Z.h.call(this)},ft.prototype.h=function(){ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),q=0;function $(u,m,y,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!T,this.ha=L,this.key=++q,this.da=this.fa=!1}function lt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,y){for(const T in u)m.call(y,u[T],T,u)}function Ft(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function V(u){const m={};for(const y in u)m[y]=u[y];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let y,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(y in T)u[y]=T[y];for(let B=0;B<Y.length;B++)y=Y[B],Object.prototype.hasOwnProperty.call(T,y)&&(u[y]=T[y])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,y,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const J=bt(u,m,T,L);return J>-1?(m=u[J],y||(m.fa=!1)):(m=new $(m,this.src,B,!!T,L),m.fa=y,u.push(m)),m};function pt(u,m){const y=m.type;if(y in u.g){var T=u.g[y],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(lt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function bt(u,m,y,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!y&&B.ha==T)return L}return-1}var xt="closure_lm_"+(Math.random()*1e6|0),Ce={};function re(u,m,y,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],y,T,L);return null}return y=io(y),u&&u[kt]?u.J(m,y,p(T)?!!T.capture:!1,L):Jr(u,m,y,!1,T,L)}function Jr(u,m,y,T,L,B){if(!m)throw Error("Invalid event type");const J=p(L)?!!L.capture:!!L;let Tt=$r(u);if(Tt||(u[xt]=Tt=new it(u)),y=Tt.add(m,y,T,J,B),y.proxy)return y;if(T=js(),y.proxy=T,T.src=u,T.listener=y,u.addEventListener)M||(L=J),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Xn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return y}function js(){function u(y){return m.call(u.src,u.listener,y)}const m=eo;return u}function qs(u,m,y,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)qs(u,m[B],y,T,L);else T=p(T)?!!T.capture:!!T,y=io(y),u&&u[kt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],y=bt(m,y,T,L),y>-1&&(lt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=$r(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,y,T,L)),(y=u>-1?m[u]:null)&&Hs(y))}function Hs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[kt])pt(m.i,u);else{var y=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(y,T,u.capture):m.detachEvent?m.detachEvent(Xn(y),T):m.addListener&&m.removeListener&&m.removeListener(T),(y=$r(m))?(pt(y,u),y.h==0&&(y.src=null,m[xt]=null)):lt(u)}}}function Xn(u){return u in Ce?Ce[u]:Ce[u]="on"+u}function eo(u,m){if(u.da)u=!0;else{m=new ft(m,this);const y=u.listener,T=u.ha||u.src;u.fa&&Hs(u),u=y.call(T,m)}return u}function $r(u){return u=u[xt],u instanceof it?u:null}var no="__closure_events_fn_"+(Math.random()*1e9>>>0);function io(u){return typeof u=="function"?u:(u[no]||(u[no]=function(m){return u.handleEvent(m)}),u[no])}function pe(){O.call(this),this.i=new it(this),this.M=this,this.G=null}R(pe,O),pe.prototype[kt]=!0,pe.prototype.removeEventListener=function(u,m,y,T){qs(this,u,m,y,T)};function Ie(u,m){var y,T=u.G;if(T)for(y=[];T;T=T.G)y.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),tt(m,L)}L=!0;let B,J;if(y)for(J=y.length-1;J>=0;J--)B=m.g=y[J],L=nr(B,T,!0,m)&&L;if(B=m.g=u,L=nr(B,T,!0,m)&&L,L=nr(B,T,!1,m)&&L,y)for(J=0;J<y.length;J++)B=m.g=y[J],L=nr(B,T,!1,m)&&L}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let T=0;T<y.length;T++)lt(y[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,y,T){return this.i.add(String(u),m,!1,y,T)},pe.prototype.K=function(u,m,y,T){return this.i.add(String(u),m,!0,y,T)};function nr(u,m,y,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const J=m[B];if(J&&!J.da&&J.capture==y){const Tt=J.listener,fe=J.ha||J.src;J.fa&&pt(u.i,J),L=Tt.call(fe,T)!==!1&&L}}return L&&!T.defaultPrevented}function dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Bl(u){u.g=dh(()=>{u.g=null,u.i&&(u.i=!1,Bl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Je extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Bl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){O.call(this),this.h=u,this.g={}}R(Wr,O);var ro=[];function so(u){Pt(u.g,function(m,y){this.g.hasOwnProperty(y)&&Hs(m)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),so(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ir=d.JSON.stringify,mh=d.JSON.parse,jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function ql(){}function Hl(){}var Mn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ke(){D.call(this,"d")}R(ke,D);function _n(){D.call(this,"c")}R(_n,D);var he={},Gl=null;function Gs(){return Gl=Gl||new pe}he.Ia="serverreachability";function Fl(u){D.call(this,he.Ia,u)}R(Fl,D);function Zn(u){const m=Gs();Ie(m,new Fl(m))}he.STAT_EVENT="statevent";function ts(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}R(ts,D);function ye(u){const m=Gs();Ie(m,new ts(m,u))}he.Ja="timingevent";function Jn(u,m){D.call(this,he.Ja,u),this.size=m}R(Jn,D);function $n(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Un(){this.g=!0}Un.prototype.ua=function(){this.g=!1};function gh(u,m,y,T,L,B){u.info(function(){if(u.g)if(B){var J="",Tt=B.split("&");for(let jt=0;jt<Tt.length;jt++){var fe=Tt[jt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Sn=se.split("_");J=Sn.length>=2&&Sn[1]=="type"?J+(se+"="+fe+"&"):J+(se+"=redacted&")}}}else J=null;else J=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+y+`
`+J})}function Ql(u,m,y,T,L,B,J){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+y+`
`+B+" "+J})}function Wn(u,m,y,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ph(u,y)+(T?" "+T:"")})}function es(u,m){u.info(function(){return"TIMEOUT: "+m})}Un.prototype.info=function(){};function ph(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var y=B[u];if(!(y.length<2)){var T=y[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let J=1;J<T.length;J++)T[J]=""}}}}return ir(B)}catch{return m}}var ns={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},oo;function is(){}R(is,ql),is.prototype.g=function(){return new XMLHttpRequest},oo=new is;function Ii(u){return encodeURIComponent(String(u))}function Yl(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function xn(u,m,y,T){this.j=u,this.i=m,this.l=y,this.S=T||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ln}function Ln(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function ti(u,m,y){u.M=1,u.A=rs(Ee(m)),u.u=y,u.R=!0,Fs(u,null)}function Fs(u,m){u.F=Date.now(),ei(u),u.B=Ee(u.A);var y=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),Xs(y.i,"t",T),u.C=0,y=u.j.L,u.h=new Ln,u.g=lu(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Je(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ro[0]=L.toString()),L=ro);for(let B=0;B<L.length;B++){const J=re(y,L[B],T||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Zn(),gh(u.i,u.v,u.B,u.l,u.S,u.u)}xn.prototype.ba=function(u){u=u.target;const m=this.O;m&&zn(u)==3?m.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=zn(this.g),fe=this.g.ya(),jt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||Pe(this.g)))){this.K||Tt!=4||fe==7||(fe==8||jt<=0?Zn(3):Zn(2)),ni(this);var m=this.g.ca();this.X=m;var y=yh(this);if(this.o=m==200,Ql(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)Wn(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ii(this,u);else{this.o=!1,this.m=3,ye(12),un(this),vn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<y.length;)if(se=Xl(this,y),se==Ve){Tt==4&&(this.m=4,ye(14),u=!1),Wn(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),Wn(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else Wn(this.i,this.l,se,null),ii(this,se);if(Kl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||y.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)Wn(this.i,this.l,y,"[Invalid Chunked Response]"),un(this),vn(this);else if(y.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Ao(J),J.P=!0,ye(11))}}else Wn(this.i,this.l,y,null),ii(this,y);Tt==4&&un(this),this.o&&!this.K&&(Tt==4?ru(this.j,this):(this.o=!1,ei(this)))}else Oi(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),un(this),vn(this)}}}catch{}finally{}};function yh(u){if(!Kl(u))return u.g.la();const m=Pe(u.g);if(m==="")return"";let y="";const T=m.length,L=zn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return un(u),vn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,y+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function Kl(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Xl(u,m){var y=u.C,T=m.indexOf(`
`,y);return T==-1?Ve:(y=Number(m.substring(y,T)),isNaN(y)?_e:(T+=1,T+y>m.length?Ve:(m=m.slice(T,T+y),u.C=T+y,m)))}xn.prototype.cancel=function(){this.K=!0,un(this)};function ei(u){u.T=Date.now()+u.H,Qs(u,u.H)}function Qs(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=$n(_(u.aa,u),m)}function ni(u){u.D&&(d.clearTimeout(u.D),u.D=null)}xn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(es(this.i,this.B),this.M!=2&&(Zn(),ye(17)),un(this),this.m=2,vn(this)):Qs(this,this.T-u)};function vn(u){u.j.I==0||u.K||ru(u.j,u)}function un(u){ni(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,so(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ii(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||si(y.h,u))){if(!u.L&&si(y.h,u)&&y.I==3){try{var T=y.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ta(y),hr(y);else break t;hs(y),ye(18)}}else y.xa=L[1],0<y.xa-y.K&&L[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=$n(_(y.Va,y),6e3));ri(y.h)<=1&&y.ta&&(y.ta=void 0)}else hi(y,11)}else if((u.L||y.g==u)&&ta(y),!w(m))for(L=y.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const se=jt[0];if(!(se<=y.K))if(y.K=se,jt=jt[1],y.I==2)if(jt[0]=="c"){y.M=jt[1],y.ba=jt[2];const Sn=jt[3];Sn!=null&&(y.ka=Sn,y.j.info("VER="+y.ka));const fi=jt[4];fi!=null&&(y.za=fi,y.j.info("SVER="+y.za));const Bn=jt[5];Bn!=null&&typeof Bn=="number"&&Bn>0&&(T=1.5*Bn,y.O=T,y.j.info("backChannelRequestTimeoutMs_="+T)),T=y;const jn=u.g;if(jn){const fs=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var B=T.h;B.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(co(B,B.h),B.h=null))}if(T.G){const ea=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ea&&(T.wa=ea,Qt(T.J,T.G,ea))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),T=y;var J=u;if(T.na=ou(T,T.L?T.ba:null,T.W),J.L){ho(T.h,J);var Tt=J,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(ni(Tt),ei(Tt)),T.g=J}else nu(T);y.i.length>0&&ci(y)}else jt[0]!="stop"&&jt[0]!="close"||hi(y,7);else y.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?hi(y,7):To(y):jt[0]!="noop"&&y.l&&y.l.qa(jt),y.A=0)}}Zn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function lo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function uo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ri(u){return u.h?1:u.g?u.g.size:0}function si(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function co(u,m){u.g?u.g.add(m):u.h=m}function ho(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}lo.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function fo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var Zl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ys(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const T=u[y].indexOf("=");let L,B=null;T>=0?(L=u[y].substring(0,T),B=u[y].substring(T+1)):L=u[y],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof cn?(this.l=u.l,Me(this,u.j),this.o=u.o,this.g=u.g,rr(this,u.u),this.h=u.h,mo(this,tu(u.i)),this.m=u.m):u&&(m=String(u).match(Zl))?(this.l=!1,Me(this,m[1]||"",!0),this.o=ai(m[2]||""),this.g=ai(m[3]||"",!0),rr(this,m[4]),this.h=ai(m[5]||"",!0),mo(this,m[6]||"",!0),this.m=ai(m[7]||"")):(this.l=!1,this.i=new ar(null,this.l))}cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(ss(m,Ks,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,Ks,!0),"@"),u.push(Ii(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ss(y,y.charAt(0)=="/"?go:Jl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ss(y,$l)),u.join("")},cn.prototype.resolve=function(u){const m=Ee(this);let y=!!u.j;y?Me(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var T=u.h;if(y)rr(m,u.u);else if(y=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let J=0;J<L.length;){const Tt=L[J++];Tt=="."?T&&J==L.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&J==L.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=L}return y?m.h=T:y=u.i.toString()!=="",y?mo(m,tu(u.i)):y=!!u.m,y&&(m.m=u.m),m};function Ee(u){return new cn(u)}function Me(u,m,y){u.j=y?ai(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function mo(u,m,y){m instanceof ar?(u.i=m,Zs(u.i,u.l)):(y||(m=ss(m,sr)),u.i=new ar(m,u.l))}function Qt(u,m,y){u.i.set(m,y)}function rs(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ai(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,tn),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ks=/[#\/\?@]/g,Jl=/[#\?:]/g,go=/[#\?]/g,sr=/[#\?@]/g,$l=/#/g;function ar(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function en(u){u.g||(u.g=new Map,u.h=0,u.i&&Ys(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=ar.prototype,s.add=function(u,m){en(this),this.i=null,u=or(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Wl(u,m){en(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function po(u,m){return en(u),m=or(u,m),u.g.has(m)}s.forEach=function(u,m){en(this),this.g.forEach(function(y,T){y.forEach(function(L){u.call(m,L,T,this)},this)},this)};function yo(u,m){en(u);let y=[];if(typeof m=="string")po(u,m)&&(y=y.concat(u.g.get(or(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return en(this),this.i=null,u=or(this,u),po(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=yo(this,u),u.length>0?String(u[0]):m):m};function Xs(u,m,y){Wl(u,m),y.length>0&&(u.i=null,u.g.set(or(u,m),G(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var y=m[T];const L=Ii(y);y=yo(this,y);for(let B=0;B<y.length;B++){let J=L;y[B]!==""&&(J+="="+Ii(y[B])),u.push(J)}}return this.i=u.join("&")};function tu(u){const m=new ar;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zs(u,m){m&&!u.j&&(en(u),u.i=null,u.g.forEach(function(y,T){const L=T.toLowerCase();T!=L&&(Wl(this,T),Xs(this,L,y))},u)),u.j=m}function kn(u,m){const y=new Un;if(d.Image){const T=new Image;T.onload=S(En,y,"TestLoadImage: loaded",!0,m,T),T.onerror=S(En,y,"TestLoadImage: error",!1,m,T),T.onabort=S(En,y,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(En,y,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function _o(u,m){const y=new Un,T=new AbortController,L=setTimeout(()=>{T.abort(),En(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?En(y,"TestPingServer: ok",!0,m):En(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),En(y,"TestPingServer: error",!1,m)})}function En(u,m,y,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(y)}catch{}}function lr(){this.g=new jl}function oi(u){this.i=u.Sb||null,this.h=u.ab||!1}R(oi,ql),oi.prototype.g=function(){return new as(this.i,this.h)};function as(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(as,pe),s=as.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Pn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ur(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Js(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Js(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ur(this):Pn(this),this.readyState==3&&Js(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,ur(this))},s.Na=function(u){this.g&&(this.response=u,ur(this))},s.ga=function(){this.g&&ur(this)};function ur(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Pn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Pn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tn(u){let m="";return Pt(u,function(y,T){m+=T,m+=":",m+=y,m+=`\r
`}),m}function os(u,m,y){t:{for(T in y){var T=!1;break t}T=!0}T||(y=Tn(y),typeof u=="string"?y!=null&&Ii(y):Qt(u,m,y))}function Xt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Xt,pe);var li=/^https?$/i,vo=["POST","PUT"];s=Xt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():oo.g(),this.g.onreadystatechange=x(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){ls(this,B);return}if(u=y||"",y=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)y.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())y.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(vo,m,void 0)>=0)||T||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,J]of y)this.g.setRequestHeader(B,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){ls(this,B)}};function ls(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Eo(u),Di(u)}function Eo(u){u.A||(u.A=!0,Ie(u,"complete"),Ie(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ie(this,"complete"),Ie(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Xt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?us(this):this.Xa())},s.Xa=function(){us(this)};function us(u){if(u.h&&typeof h<"u"){if(u.v&&zn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ie(u,"readystatechange"),zn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var T;if(T=B===0){let J=String(u.D).match(Zl)[1]||null;!J&&d.self&&d.self.location&&(J=d.self.location.protocol.slice(0,-1)),T=!li.test(J?J.toLowerCase():"")}y=T}if(y)Ie(u,"complete"),Ie(u,"success");else{u.o=6;try{var L=zn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Eo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ie(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return zn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),mh(m)}};function Pe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&zn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var y=Yl(u[T]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=m[L]||[];m[L]=B,B.push(y)}Ft(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ui(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function cr(u){this.za=0,this.i=[],this.j=new Un,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ui("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ui("baseRetryDelayMs",5e3,u),this.Za=ui("retryDelaySeedMs",1e4,u),this.Ta=ui("forwardChannelMaxRetries",2,u),this.va=ui("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new lo(u&&u.concurrentRequestLimit),this.Ba=new lr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=cr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,T){ye(0),this.W=u,this.H=m||{},y&&T!==void 0&&(this.H.OSID=y,this.H.OAID=T),this.F=this.X,this.J=ou(this,null,this.W),ci(this)};function To(u){if($s(u),u.I==3){var m=u.V++,y=Ee(u.J);if(Qt(y,"SID",u.M),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),cs(u,y),m=new xn(u,u.j,m),m.M=2,m.A=rs(Ee(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=lu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ei(m)}au(u)}function hr(u){u.g&&(Ao(u),u.g.cancel(),u.g=null)}function $s(u){hr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ci(u){if(!uo(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||b(),It||(te(),It=!0),I.add(m,u),u.D=0}}function Ws(u,m){return ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=$n(_(u.Ea,u,m),su(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new xn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var T=this.i[y];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=eu(this,L,m),y=Ee(this.J),Qt(y,"RID",u),Qt(y,"CVER",22),this.G&&Qt(y,"X-HTTP-Session-Id",this.G),cs(this,y),B&&(this.R?m="headers="+Ii(Tn(B))+"&"+m:this.u&&os(y,this.u,B)),co(this.h,L),this.Ra&&Qt(y,"TYPE","init"),this.S?(Qt(y,"$req",m),Qt(y,"SID","null"),L.U=!0,ti(L,y,null)):ti(L,y,m),this.I=2}}else this.I==3&&(u?So(this,u):this.i.length==0||uo(this.h)||So(this))};function So(u,m){var y;m?y=m.l:y=u.V++;const T=Ee(u.J);Qt(T,"SID",u.M),Qt(T,"RID",y),Qt(T,"AID",u.K),cs(u,T),u.u&&u.o&&os(T,u.u,u.o),y=new xn(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=eu(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),co(u.h,y),ti(y,T,m)}function cs(u,m){u.H&&Pt(u.H,function(y,T){Qt(m,T,y)}),u.l&&Pt({},function(y,T){Qt(m,T,y)})}function eu(u,m,y){y=Math.min(u.i.length,y);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const fe=["count="+y];Tt==-1?y>0?(Tt=L[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let jt=!0;for(let se=0;se<y;se++){var B=L[se].g;const Sn=L[se].map;if(B-=Tt,B<0)Tt=Math.max(0,L[se].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var J=Sn instanceof Map?Sn:Object.entries(Sn);for(const[fi,Bn]of J){let jn=Bn;p(Bn)&&(jn=ir(Bn)),fe.push(B+fi+"="+encodeURIComponent(jn))}}catch(fi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),fi}}catch{T&&T(Sn)}}if(jt){J=fe.join("&");break t}}J=void 0}return u=u.i.splice(0,y),m.G=u,J}function nu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||b(),It||(te(),It=!0),I.add(m,u),u.A=0}}function hs(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=$n(_(u.Da,u),su(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=$n(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),hr(this),iu(this))};function Ao(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function iu(u){u.g=new xn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),cs(u,m),u.u&&u.o&&os(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=rs(Ee(m)),y.u=null,y.R=!0,Fs(y,u)}s.Va=function(){this.C!=null&&(this.C=null,hr(this),hs(this),ye(19))};function ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function ru(u,m){var y=null;if(u.g==m){ta(u),Ao(u),u.g=null;var T=2}else if(si(u.h,m))y=m.G,ho(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Gs(),Ie(T,new Jn(T,y)),ci(u)}else nu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&Ws(u,m)||T==2&&hs(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),L){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function su(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function hi(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),T=u.Ua;const L=!T;T=new cn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Me(T,"https"),rs(T),L?kn(T.toString(),y):_o(T.toString(),y)}else ye(2);u.I=0,u.l&&u.l.pa(m),au(u),$s(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function au(u){if(u.I=0,u.ja=[],u.l){const m=fo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function ou(u,m,y){var T=y instanceof cn?Ee(y):new cn(y);if(T.g!="")m&&(T.g=m+"."+T.g),rr(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new cn(null);T&&Me(B,T),m&&(B.g=m),L&&rr(B,L),y&&(B.h=y),T=B}return y=u.G,m=u.wa,y&&m&&Qt(T,y,m),Qt(T,"VER",u.ka),cs(u,T),T}function lu(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new oi({ab:y})):new Xt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function uu(){}s=uu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function fr(){}fr.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){pe.call(this),this.g=new cr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ni(this)}R($e,pe),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){To(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=ir(u),u=y);m.i.push(new ve(m.Ya++,u)),m.I==3&&ci(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,$e.Z.N.call(this)};function cu(u){ke.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(cu,ke);function hu(){_n.call(this),this.status=1}R(hu,_n);function Ni(u){this.g=u}R(Ni,uu),Ni.prototype.ra=function(){Ie(this.g,"a")},Ni.prototype.qa=function(u){Ie(this.g,new cu(u))},Ni.prototype.pa=function(u){Ie(this.g,new hu)},Ni.prototype.oa=function(){Ie(this.g,"b")},fr.prototype.createWebChannel=fr.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,QE=function(){return new fr},FE=function(){return Gs()},GE=he,jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ns.NO_ERROR=0,ns.TIMEOUT=8,ns.HTTP_ERROR=6,wc=ns,ao.COMPLETE="complete",HE=ao,Hl.EventType=Mn,Mn.OPEN="a",Mn.CLOSE="b",Mn.ERROR="c",Mn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,ll=Hl,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,qE=Xt}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",tv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new rm("@firebase/firestore");function Na(){return xs.logLevel}function nt(s,...t){if(xs.logLevel<=Nt.DEBUG){const i=t.map(pm);xs.debug(`Firestore (${Ja}): ${s}`,...i)}}function Wi(s,...t){if(xs.logLevel<=Nt.ERROR){const i=t.map(pm);xs.error(`Firestore (${Ja}): ${s}`,...i)}}function qa(s,...t){if(xs.logLevel<=Nt.WARN){const i=t.map(pm);xs.warn(`Firestore (${Ja}): ${s}`,...i)}}function pm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,YE(s,a,i)}function YE(s,t,i){let a=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Wi(a),new Error(a)}function Gt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||YE(t,l,a)}function Et(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends er{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Xw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class Zw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Jw{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Gr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},p=v=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new KE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class $w{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ww{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new $w(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=h=>{h.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=eR(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Vt(s,t){return s<t?-1:s>t?1:0}function qd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return wd(l)===wd(h)?Vt(l,h):wd(l)?1:-1}return Vt(s.length,t.length)}const nR=55296,iR=57343;function wd(s){const t=s.charCodeAt(0);return t>=nR&&t<=iR}function Ha(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="__name__";class yi{constructor(t,i,a){i===void 0?i=0:i>t.length&&dt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&dt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return yi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof yi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=yi.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Vt(t.length,i.length)}static compareSegments(t,i){const a=yi.isNumericId(t),l=yi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?yi.extractNumericId(t).compare(yi.extractNumericId(i)):qd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hr.fromString(t.substring(4,t.length-2))}}class oe extends yi{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends yi{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return rR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Ge([nv])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(h(),l++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.path=t}static fromPath(t){return new ut(oe.fromString(t))}static fromName(t){return new ut(oe.fromString(t).popFirst(5))}static empty(){return new ut(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ut(new oe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(s,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function aR(s,t,i,a){if(t===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function iv(s){if(!ut.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function XE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function _m(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":dt(12329,{type:typeof s})}function Sl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_m(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function xl(s,t){if(!XE(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=-62135596800,sv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*sv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<rv)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ie(0,0))}static max(){return new _t(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function oR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Fr(l,ut.empty(),t)}function lR(s){return new Fr(s.readTime,s.key,Al)}class Fr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Fr(_t.min(),ut.empty(),Al)}static max(){return new Fr(_t.max(),ut.empty(),Al)}}function uR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,t.documentKey),i!==0?i:Vt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==cR)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K(((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):K.reject(i)}static resolve(t){return new K(((i,a)=>{i(t)}))}static reject(t){return new K(((i,a)=>{a(t)}))}static waitFor(t){return new K(((i,a)=>{let l=0,h=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++h,d&&h===l&&i()}),(v=>a(v)))})),d=!0,h===l&&i()}))}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next((l=>l?K.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,h)=>{a.push(i.call(this,l,h))})),this.waitFor(a)}static mapArray(t,i){return new K(((a,l)=>{const h=t.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((S=>{d[_]=S,++p,p===h&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new K(((a,l)=>{const h=()=>{t()===!0?i().next((()=>{h()}),l):a()};h()}))}}function fR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Wa(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}th.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm=-1;function eh(s){return s==null}function Pc(s){return s===0&&1/s==-1/0}function dR(s){return typeof s=="number"&&Number.isInteger(s)&&!Pc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="";function mR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=av(t)),t=gR(s.get(i),t);return av(t)}function gR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case ZE:i+="";break;default:i+=h}}return i}function av(s){return s+ZE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ks(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function JE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new yc(this.root,t,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new yc(this.root,t,this.comparator,!0)}}class yc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=h??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new He(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new lv(this.data.getIterator())}getIteratorFrom(t){return new lv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ne(this.comparator);return i.data=t,i}}class lv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Yn([])}unionWith(t){let i=new Ne(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ha(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new $E("Invalid base64 string: "+h):h}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const pR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=pR.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Yr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",tT="__type__",eT="__previous_value__",nT="__local_write_time__";function Em(s){return(s?.mapValue?.fields||{})[tT]?.stringValue===WE}function nh(s){const t=s.mapValue.fields[eT];return Em(t)?nh(t):t}function bl(s){const t=Qr(s.mapValue.fields[nT].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,i,a,l,h,d,p,v,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const zc="(default)";class wl{constructor(t,i){this.projectId=t,this.database=i||zc}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===zc}isEqual(t){return t instanceof wl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",_R="__max__",_c={mapValue:{}},rT="__vector__",Bc="value";function Kr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Em(s)?4:ER(s)?9007199254740991:vR(s)?10:11:dt(28295,{value:s})}function Ri(s,t){if(s===t)return!0;const i=Kr(s);if(i!==Kr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return bl(s).isEqual(bl(t));case 3:return(function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Qr(l.timestampValue),p=Qr(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,h){return Yr(l.bytesValue).isEqual(Yr(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,h){return ge(l.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,t);case 2:return(function(l,h){if("integerValue"in l&&"integerValue"in h)return ge(l.integerValue)===ge(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=ge(l.doubleValue),p=ge(h.doubleValue);return d===p?Pc(d)===Pc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Ha(s.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return(function(l,h){const d=l.mapValue.fields||{},p=h.mapValue.fields||{};if(ov(d)!==ov(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ri(d[v],p[v])))return!1;return!0})(s,t);default:return dt(52216,{left:s})}}function Rl(s,t){return(s.values||[]).find((i=>Ri(i,t)))!==void 0}function Ga(s,t){if(s===t)return 0;const i=Kr(s),a=Kr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const p=ge(h.integerValue||h.doubleValue),v=ge(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,t);case 3:return uv(s.timestampValue,t.timestampValue);case 4:return uv(bl(s),bl(t));case 5:return qd(s.stringValue,t.stringValue);case 6:return(function(h,d){const p=Yr(h),v=Yr(d);return p.compareTo(v)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const S=Vt(p[_],v[_]);if(S!==0)return S}return Vt(p.length,v.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const p=Vt(ge(h.latitude),ge(d.latitude));return p!==0?p:Vt(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return cv(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Bc]?.arrayValue,S=v[Bc]?.arrayValue,R=Vt(_?.values?.length||0,S?.values?.length||0);return R!==0?R:cv(_,S)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===_c.mapValue&&d===_c.mapValue)return 0;if(h===_c.mapValue)return 1;if(d===_c.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let R=0;R<v.length&&R<S.length;++R){const x=qd(v[R],S[R]);if(x!==0)return x;const G=Ga(p[v[R]],_[S[R]]);if(G!==0)return G}return Vt(v.length,S.length)})(s.mapValue,t.mapValue);default:throw dt(23264,{he:i})}}function uv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Vt(s,t);const i=Qr(s),a=Qr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function cv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ga(i[l],a[l]);if(h)return h}return Vt(i.length,a.length)}function Fa(s){return Hd(s)}function Hd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Qr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Yr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return ut.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Hd(h);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Hd(i.fields[d])}`;return l+"}"})(s.mapValue):dt(61005,{value:s})}function Rc(s){switch(Kr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=nh(s);return t?16+Rc(t):16;case 5:return 2*s.stringValue.length;case 6:return Yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,h)=>l+Rc(h)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ks(a.fields,((h,d)=>{l+=h.length+Rc(d)})),l})(s.mapValue);default:throw dt(13486,{value:s})}}function Gd(s){return!!s&&"integerValue"in s}function Tm(s){return!!s&&"arrayValue"in s}function hv(s){return!!s&&"nullValue"in s}function fv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Cc(s){return!!s&&"mapValue"in s}function vR(s){return(s?.mapValue?.fields||{})[iT]?.stringValue===rT}function ml(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ks(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=ml(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ml(s.arrayValue.values[i]);return t}return{...s}}function ER(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===_R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.value=t}static empty(){return new Nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Cc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ml(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=ml(d):l.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());Cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Cc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ks(i,((l,h)=>t[l]=h));for(const l of a)delete t[l]}clone(){return new Nn(ml(this.value))}}function sT(s){const t=[];return ks(s.fields,((i,a)=>{const l=new Ge([i]);if(Cc(a)){const h=sT(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)})),new Yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,a,l,h,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,_t.min(),_t.min(),_t.min(),Nn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,_t.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,_t.min(),_t.min(),Nn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,_t.min(),_t.min(),Nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i){this.position=t,this.inclusive=i}}function dv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=Ga(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function mv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ri(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function TR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Oe extends aT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new AR(t,i,a):i==="array-contains"?new RR(t,a):i==="in"?new CR(t,a):i==="not-in"?new IR(t,a):i==="array-contains-any"?new DR(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new bR(t,a):new wR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ga(i,this.value)):i!==null&&Kr(this.value)===Kr(i)&&this.matchesComparison(Ga(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends aT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ci(t,i)}matches(t){return oT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oT(s){return s.op==="and"}function lT(s){return SR(s)&&oT(s)}function SR(s){for(const t of s.filters)if(t instanceof Ci)return!1;return!0}function Fd(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Fa(s.value);if(lT(s))return s.filters.map((t=>Fd(t))).join(",");{const t=s.filters.map((i=>Fd(i))).join(",");return`${s.op}(${t})`}}function uT(s,t){return s instanceof Oe?(function(a,l){return l instanceof Oe&&a.op===l.op&&a.field.isEqual(l.field)&&Ri(a.value,l.value)})(s,t):s instanceof Ci?(function(a,l){return l instanceof Ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((h,d,p)=>h&&uT(d,l.filters[p])),!0):!1})(s,t):void dt(19439)}function cT(s){return s instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Fa(i.value)}`})(s):s instanceof Ci?(function(i){return i.op.toString()+" {"+i.getFilters().map(cT).join(" ,")+"}"})(s):"Filter"}class AR extends Oe{constructor(t,i,a){super(t,i,a),this.key=ut.fromName(a.referenceValue)}matches(t){const i=ut.comparator(t.key,this.key);return this.matchesComparison(i)}}class bR extends Oe{constructor(t,i){super(t,"in",i),this.keys=hT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class wR extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=hT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hT(s,t){return(t.arrayValue?.values||[]).map((i=>ut.fromName(i.referenceValue)))}class RR extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Tm(i)&&Rl(i.arrayValue,this.value)}}class CR extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Rl(this.value.arrayValue,i)}}class IR extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Rl(this.value.arrayValue,i)}}class DR extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Rl(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,i=null,a=[],l=[],h=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function gv(s,t=null,i=[],a=[],l=null,h=null,d=null){return new OR(s,t,i,a,l,h,d)}function Sm(s){const t=Et(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Fd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Fa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Fa(a))).join(",")),t.Te=i}return t.Te}function Am(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!TR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!uT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!mv(s.startAt,t.startAt)&&mv(s.endAt,t.endAt)}function Qd(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,i=null,a=[],l=[],h=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NR(s,t,i,a,l,h,d,p){return new ih(s,t,i,a,l,h,d,p)}function bm(s){return new ih(s)}function pv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function VR(s){return s.collectionGroup!==null}function gl(s){const t=Et(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ne(Ge.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new qc(h,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new qc(Ge.keyField(),a))}return t.Ie}function Si(s){const t=Et(s);return t.Ee||(t.Ee=MR(t,gl(s))),t.Ee}function MR(s,t){if(s.limitType==="F")return gv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const h=l.dir==="desc"?"asc":"desc";return new qc(l.field,h)}));const i=s.endAt?new jc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new jc(s.startAt.position,s.startAt.inclusive):null;return gv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Yd(s,t,i){return new ih(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function rh(s,t){return Am(Si(s),Si(t))&&s.limitType===t.limitType}function fT(s){return`${Sm(Si(s))}|lt:${s.limitType}`}function Va(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>cT(l))).join(", ")}]`),eh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Fa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Fa(l))).join(",")),`Target(${a})`})(Si(s))}; limitType=${s.limitType})`}function sh(s,t){return t.isFoundDocument()&&(function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(s,t)&&(function(a,l){for(const h of gl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,v){const _=dv(d,p,v);return d.inclusive?_<=0:_<0})(a.startAt,gl(a),l)||a.endAt&&!(function(d,p,v){const _=dv(d,p,v);return d.inclusive?_>=0:_>0})(a.endAt,gl(a),l))})(s,t)}function UR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function dT(s){return(t,i)=>{let a=!1;for(const l of gl(s)){const h=xR(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function xR(s,t,i){const a=s.field.isKeyField()?ut.comparator(t.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Ga(v,_):dt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ks(this.inner,((i,a)=>{for(const[l,h]of a)t(l,h)}))}isEmpty(){return JE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new le(ut.comparator);function tr(){return LR}const mT=new le(ut.comparator);function ul(...s){let t=mT;for(const i of s)t=t.insert(i.key,i);return t}function gT(s){let t=mT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ds(){return pl()}function pT(){return pl()}function pl(){return new Ps((s=>s.toString()),((s,t)=>s.isEqual(t)))}const kR=new le(ut.comparator),PR=new Ne(ut.comparator);function Mt(...s){let t=PR;for(const i of s)t=t.add(i);return t}const zR=new Ne(Vt);function BR(){return zR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function yT(s){return{integerValue:""+s}}function jR(s,t){return dR(t)?yT(t):wm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function qR(s,t,i){return s instanceof Hc?(function(l,h){const d={fields:{[tT]:{stringValue:WE},[nT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Em(h)&&(h=nh(h)),h&&(d.fields[eT]=h),{mapValue:d}})(i,t):s instanceof Cl?vT(s,t):s instanceof Il?ET(s,t):(function(l,h){const d=_T(l,h),p=yv(d)+yv(l.Ae);return Gd(d)&&Gd(l.Ae)?yT(p):wm(l.serializer,p)})(s,t)}function HR(s,t,i){return s instanceof Cl?vT(s,t):s instanceof Il?ET(s,t):i}function _T(s,t){return s instanceof Gc?(function(a){return Gd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(t)?t:{integerValue:0}:null}class Hc extends ah{}class Cl extends ah{constructor(t){super(),this.elements=t}}function vT(s,t){const i=TT(t);for(const a of s.elements)i.some((l=>Ri(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Il extends ah{constructor(t){super(),this.elements=t}}function ET(s,t){let i=TT(t);for(const a of s.elements)i=i.filter((l=>!Ri(l,a)));return{arrayValue:{values:i}}}class Gc extends ah{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function yv(s){return ge(s.integerValue||s.doubleValue)}function TT(s){return Tm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function GR(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Cl&&l instanceof Cl||a instanceof Il&&l instanceof Il?Ha(a.elements,l.elements,Ri):a instanceof Gc&&l instanceof Gc?Ri(a.Ae,l.Ae):a instanceof Hc&&l instanceof Hc})(s.transform,t.transform)}class FR{constructor(t,i){this.version=t,this.transformResults=i}}class Xi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Xi}static exists(t){return new Xi(void 0,t)}static updateTime(t){return new Xi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class oh{}function ST(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new bT(s.key,Xi.none()):new Ll(s.key,s.data,Xi.none());{const i=s.data,a=Nn.empty();let l=new Ne(Ge.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new zs(s.key,a,new Yn(l.toArray()),Xi.none())}}function QR(s,t,i){s instanceof Ll?(function(l,h,d){const p=l.value.clone(),v=vv(l.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof zs?(function(l,h,d){if(!Ic(l.precondition,h))return void h.convertToUnknownDocument(d.version);const p=vv(l.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(AT(l)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,t,i):(function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function yl(s,t,i,a){return s instanceof Ll?(function(h,d,p,v){if(!Ic(h.precondition,d))return p;const _=h.value.clone(),S=Ev(h.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof zs?(function(h,d,p,v){if(!Ic(h.precondition,d))return p;const _=Ev(h.fieldTransforms,v,d),S=d.data;return S.setAll(AT(h)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((R=>R.field)))})(s,t,i,a):(function(h,d,p){return Ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function YR(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=_T(a.transform,l||null);h!=null&&(i===null&&(i=Nn.empty()),i.set(a.field,h))}return i||null}function _v(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Ha(a,l,((h,d)=>GR(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ll extends oh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class zs extends oh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function AT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function vv(s,t,i){const a=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,p=t.data.field(h.field);a.set(h.field,HR(d,p,i[l]))}return a}function Ev(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,qR(h,d,t))}return a}class bT extends oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends oh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&QR(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=yl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=yl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=pT();return this.mutations.forEach((l=>{const h=t.get(l.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(l.key)?null:p;const v=ST(d,p);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&Ha(this.mutations,t.mutations,((i,a)=>_v(i,a)))&&Ha(this.baseMutations,t.baseMutations,((i,a)=>_v(i,a)))}}class Rm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return kR})();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new Rm(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Lt;function $R(s){switch(s){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:s})}}function wT(s){if(s===void 0)return Wi("GRPC error has no .code"),X.UNKNOWN;switch(s){case we.OK:return X.OK;case we.CANCELLED:return X.CANCELLED;case we.UNKNOWN:return X.UNKNOWN;case we.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case we.INTERNAL:return X.INTERNAL;case we.UNAVAILABLE:return X.UNAVAILABLE;case we.UNAUTHENTICATED:return X.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case we.NOT_FOUND:return X.NOT_FOUND;case we.ALREADY_EXISTS:return X.ALREADY_EXISTS;case we.PERMISSION_DENIED:return X.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case we.ABORTED:return X.ABORTED;case we.OUT_OF_RANGE:return X.OUT_OF_RANGE;case we.UNIMPLEMENTED:return X.UNIMPLEMENTED;case we.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:s})}}(Lt=we||(we={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=new Hr([4294967295,4294967295],0);function Tv(s){const t=WR().encode(s),i=new jE;return i.update(t),new Uint8Array(i.digest())}function Sv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Hr([i,a],0),new Hr([l,h],0)]}class Cm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new cl(`Invalid padding: ${i}`);if(a<0)throw new cl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new cl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Hr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Hr.fromNumber(a)));return l.compare(tC)===1&&(l=new Hr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Tv(t),[a,l]=Sv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new Cm(h,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Tv(t),[a,l]=Sv(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new lh(_t.min(),l,new le(Vt),tr(),Mt())}}class kl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new kl(a,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class RT{constructor(t,i){this.targetId=t,this.Ce=i}}class CT{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Av{constructor(){this.ve=0,this.Fe=bv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:dt(38017,{changeType:h})}})),new kl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=bv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class eC{constructor(t){this.Ge=t,this.ze=new Map,this.je=tr(),this.Je=vc(),this.He=vc(),this.Ye=new le(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Qd(h))if(a===0){const d=new ut(h.path);this.et(i,d,Xe.newNoDocument(d,_t.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,p;try{d=Yr(a).toUint8Array()}catch(v){if(v instanceof $E)return qa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Cm(d,l,h)}catch(v){return qa(v instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(p)||(this.et(i,h,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Qd(p.target)){const v=new ut(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Xe.newNoDocument(v,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=Mt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const l=new lh(t,i,this.Ye,this.je,a);return this.je=tr(),this.Je=vc(),this.He=vc(),this.Ye=new le(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Av,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ne(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ne(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function vc(){return new le(ut.comparator)}function bv(){return new le(ut.comparator)}const nC={asc:"ASCENDING",desc:"DESCENDING"},iC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rC={and:"AND",or:"OR"};class sC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Kd(s,t){return s.useProto3Json||eh(t)?t:{value:t}}function Fc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IT(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function aC(s,t){return Fc(s,t.toTimestamp())}function Ai(s){return Gt(!!s,49232),_t.fromTimestamp((function(i){const a=Qr(i);return new ie(a.seconds,a.nanos)})(s))}function Im(s,t){return Xd(s,t).canonicalString()}function Xd(s,t){const i=(function(l){return new oe(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function DT(s){const t=oe.fromString(s);return Gt(UT(t),10190,{key:t.toString()}),t}function Zd(s,t){return Im(s.databaseId,t.path)}function Rd(s,t){const i=DT(t);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(NT(i))}function OT(s,t){return Im(s.databaseId,t)}function oC(s){const t=DT(s);return t.length===4?oe.emptyPath():NT(t)}function Jd(s){return new oe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function NT(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function wv(s,t,i){return{name:Zd(s,t),fields:i.value.mapValue.fields}}function lC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Gt(S===void 0||typeof S=="string",58123),Fe.fromBase64String(S||"")):(Gt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Fe.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const S=_.code===void 0?X.UNKNOWN:wT(_.code);return new at(S,_.message||"")})(d);i=new CT(a,l,h,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Rd(s,a.document.name),h=Ai(a.document.updateTime),d=a.document.createTime?Ai(a.document.createTime):_t.min(),p=new Nn({mapValue:{fields:a.document.fields}}),v=Xe.newFoundDocument(l,h,d,p),_=a.targetIds||[],S=a.removedTargetIds||[];i=new Dc(_,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Rd(s,a.document),h=a.readTime?Ai(a.readTime):_t.min(),d=Xe.newNoDocument(l,h),p=a.removedTargetIds||[];i=new Dc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Rd(s,a.document),h=a.removedTargetIds||[];i=new Dc([],h,l,null)}else{if(!("filter"in t))return dt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new JR(l,h),p=a.targetId;i=new RT(p,d)}}return i}function uC(s,t){let i;if(t instanceof Ll)i={update:wv(s,t.key,t.value)};else if(t instanceof bT)i={delete:Zd(s,t.key)};else if(t instanceof zs)i={update:wv(s,t.key,t.data),updateMask:_C(t.fieldMask)};else{if(!(t instanceof KR))return dt(16599,{Vt:t.type});i={verify:Zd(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(h,d){const p=d.transform;if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Cl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw dt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,h){return h.updateTime!==void 0?{updateTime:aC(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt(27497)})(s,t.precondition)),i}function cC(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,h){let d=l.updateTime?Ai(l.updateTime):Ai(h);return d.isEqual(_t.min())&&(d=Ai(h)),new FR(d,l.transformResults||[])})(i,t)))):[]}function hC(s,t){return{documents:[OT(s,t.path)]}}function fC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=OT(s,l);const h=(function(_){if(_.length!==0)return MT(Ci.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((S=>(function(x){return{field:Ma(x.field),direction:gC(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Kd(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function dC(s){let t=oC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Gt(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(R){const x=VT(R);return x instanceof Ci&&lT(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((x=>(function(W){return new qc(Ua(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(R){let x;return x=typeof R=="object"?R.value:R,eh(x)?null:x})(i.limit));let v=null;i.startAt&&(v=(function(R){const x=!!R.before,G=R.values||[];return new jc(G,x)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const x=!R.before,G=R.values||[];return new jc(G,x)})(i.endAt)),NR(t,l,d,h,p,"F",v,_)}function mC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function VT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ua(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ua(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ua(i.unaryFilter.field);return Oe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ua(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Oe.create(Ua(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ci.create(i.compositeFilter.filters.map((a=>VT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(i.compositeFilter.op))})(s):dt(30097,{filter:s})}function gC(s){return nC[s]}function pC(s){return iC[s]}function yC(s){return rC[s]}function Ma(s){return{fieldPath:s.canonicalString()}}function Ua(s){return Ge.fromServerFormat(s.fieldPath)}function MT(s){return s instanceof Oe?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:Ma(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(i.field),op:pC(i.op),value:i.value}}})(s):s instanceof Ci?(function(i){const a=i.getFilters().map((l=>MT(l)));return a.length===1?a[0]:{compositeFilter:{op:yC(i.op),filters:a}}})(s):dt(54877,{filter:s})}function _C(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function UT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t,i,a,l,h=_t.min(),d=_t.min(),p=Fe.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new zr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.yt=t}}function EC(s){const t=dC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Yd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(){this.Cn=new SC}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(Fr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(Fr.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class SC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ne(oe.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ne(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xT=41943040;class ln{static withCacheSize(t){return new ln(t,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(xT,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Qa(0)}static cr(){return new Qa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="LruGarbageCollector",AC=1048576;function Iv([s,t],[i,a]){const l=Vt(s,i);return l===0?Vt(t,a):l}class bC{constructor(t){this.Ir=t,this.buffer=new Ne(Iv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Iv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){nt(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Wa(i)?nt(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await $a(i)}await this.Vr(3e5)}))}}class RC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return K.resolve(th.ce);const a=new bC(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,h,d,p,v,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(a=R,p=Date.now(),this.removeTargets(t,a,i)))).next((R=>(h=R,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((R=>(_=Date.now(),Na()<=Nt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:R}))))}}function CC(s,t){return new RC(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.changes=new Ps((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&yl(a.mutation,l,Yn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const l=Ds();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((h=>{let d=ul();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Ds();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const l=[];return a.forEach((h=>{i.has(h)||l.push(h)})),this.documentOverlayCache.getOverlays(t,l).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let h=tr();const d=pl(),p=(function(){return pl()})();return i.forEach(((v,_)=>{const S=a.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof zs)?h=h.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),yl(S.mutation,_,S.mutation.getFieldMask(),ie.now())):d.set(_.key,Yn.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>p.set(_,new DC(S,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=pl();let l=new le(((d,p)=>d-p)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=a.get(v)||Yn.empty();S=p.applyToLocalView(_,S),a.set(v,S);const R=(l.get(p.batchId)||Mt()).add(v);l=l.insert(p.batchId,R)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,S=v.value,R=pT();S.forEach((x=>{if(!h.has(x)){const G=ST(i.get(x),a.get(x));G!==null&&R.set(x,G),h=h.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,R))}return K.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):VR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):K.resolve(Ds());let p=Al,v=h;return d.next((_=>K.forEach(_,((S,R)=>(p<R.largestBatchId&&(p=R.largestBatchId),h.get(S)?K.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{v=v.insert(S,x)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Mt()))).next((S=>({batchId:p,changes:gT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ut(i)).next((a=>{let l=ul();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=ul();return this.indexManager.getCollectionParents(t,h).next((p=>K.forEach(p,(v=>{const _=(function(R,x){return new ih(x,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((S=>{S.forEach(((R,x)=>{d=d.insert(R,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l)))).next((d=>{h.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let p=ul();return d.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&yl(S.mutation,_,Yn.empty(),ie.now()),sh(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:EC(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.overlays=new le(ut.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ds();return K.forEach(i,(l=>this.getOverlay(t,l).next((h=>{h!==null&&a.set(l,h)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,h)=>{this.St(t,i,h)})),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=Ds(),h=i.length+1,d=new ut(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new le(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let S=h.get(_.largestBatchId);S===null&&(S=Ds(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const p=Ds(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>p.set(_,S))),!(p.size()>=l)););return K.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new ZR(i,a));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Qr=new Ne(xe.$r),this.Ur=new Ne(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ut(new oe([])),a=new xe(i,t),l=new xe(i,t+1),h=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ut(new oe([])),a=new xe(i,t),l=new xe(i,t+1);let h=Mt();return this.Ur.forEachInRange([a,l],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ut.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||ut.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(xe.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new XR(h,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new xe(p.key,h)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?vm:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);h.push(p)})),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ne(Vt);return i.forEach((l=>{const h=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{a=a.add(p.Yr)}))})),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new xe(new ut(h),0);let p=new Ne(Vt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(v.Yr)),!0)}),d),K.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,(l=>{const h=new xe(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new xe(i,0),l=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(t){this.ri=t,this.docs=(function(){return new le(ut.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=tr();return i.forEach((l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Xe.newInvalidDocument(l))})),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=tr();const d=i.path,p=new ut(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||uR(lR(S),a)<=0||(l.has(S.key)||sh(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,a,l){dt(9500)}ii(t,i){return K.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new LC(this)}getSize(t){return K.resolve(this.size)}}class LC extends IC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t){this.persistence=t,this.si=new Ps((i=>Sm(i)),Am),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Dm,this.targetCount=0,this.ai=Qa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Qa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),K.waitFor(h).next((()=>l))}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach((d=>{h.push(l.markPotentiallyOrphaned(t,d))})),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(t,i){this.ui={},this.overlays={},this.ci=new th(0),this.li=!1,this.li=!0,this.hi=new MC,this.referenceDelegate=t(this),this.Pi=new kC(this),this.indexManager=new TC,this.remoteDocumentCache=(function(l){return new xC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new vC(i),this.Ii=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new VC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new UC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){nt("MemoryPersistence","Starting transaction:",t);const l=new PC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((h=>this.referenceDelegate.di(l).next((()=>h)))).toPromise().then((h=>(l.raiseOnCommittedEvent(),h)))}Ai(t,i){return K.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class PC extends hR{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.Ri=new Dm,this.Vi=null}static mi(t){return new Om(t)}get fi(){if(this.Vi)return this.Vi;throw dt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,(a=>{const l=ut.fromPath(a);return this.gi(t,l).next((h=>{h||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Qc{constructor(t,i){this.persistence=t,this.pi=new Ps((a=>mR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=CC(this,i)}static mi(t,i){return new Qc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return K.forEach(this.pi,((a,l)=>this.br(t,a,l).next((h=>h?K.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,h.removeEntry(d,_t.min()))})))).next((()=>h.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}br(t,i,a){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Mt(),l=Mt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Nm(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return DA()?8:fR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,l,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new zC;return this.Ss(t,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>h.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Na()<=Nt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",Va(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Na()<=Nt.DEBUG&&nt("QueryEngine","Query:",Va(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Na()<=Nt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",Va(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):K.resolve())}ys(t,i){if(pv(i))return K.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Yd(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((h=>{const d=Mt(...h);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(t,Yd(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,a,l){return pv(i)||l.isEqual(_t.min())?K.resolve(null):this.ps.getDocuments(t,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?K.resolve(null):(Na()<=Nt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(i)),this.vs(t,d,i,oR(l,Al)).next((p=>p)))}))}Ds(t,i){let a=new Ne(dT(t));return i.forEach(((l,h)=>{sh(t,h)&&(a=a.add(h))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,a){return Na()<=Nt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",Va(i)),this.ps.getDocumentsMatchingQuery(t,i,Fr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="LocalStore",jC=3e8;class qC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new le(Vt),this.xs=new Ps((h=>Sm(h)),Am),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new OC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function HC(s,t,i,a){return new qC(s,t,i,a)}async function kT(s,t){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],p=[];let v=Mt();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){p.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(a,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function GC(s,t){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,S){const R=_.batch,x=R.keys();let G=K.resolve();return x.forEach((W=>{G=G.next((()=>S.getEntry(v,W))).next((et=>{const Z=_.docVersions.get(W);Gt(Z!==null,48541),et.version.compareTo(Z)<0&&(R.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),S.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(v,R)))})(i,a,t,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Mt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function PT(s){const t=Et(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function FC(s,t){const i=Et(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((S,R)=>{const x=l.get(R);if(!x)return;p.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,R))));let G=x.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(R)!==null?G=G.withResumeToken(Fe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,a)),l=l.insert(R,G),(function(et,Z,ct){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=jC?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(x,G,S)&&p.push(i.Pi.updateTargetData(h,G))}));let v=tr(),_=Mt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),p.push(QC(h,d,t.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!a.isEqual(_t.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((R=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));p.push(S)}return K.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=l,h)))}function QC(s,t,i){let a=Mt(),l=Mt();return i.forEach((h=>a=a.add(h))),t.getEntries(s,a).next((h=>{let d=tr();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):nt(Vm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function YC(s,t){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function KC(s,t){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((h=>h?(l=h,K.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new zr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function $d(s,t,i){const a=Et(s),l=a.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Wa(d))throw d;nt(Vm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Dv(s,t,i){const a=Et(s);let l=_t.min(),h=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const R=Et(v),x=R.xs.get(S);return x!==void 0?K.resolve(R.Ms.get(x)):R.Pi.getTargetData(_,S)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?h:Mt()))).next((p=>(XC(a,UR(t),p),{documents:p,Qs:h})))))}function XC(s,t,i){let a=s.Os.get(t)||_t.min();i.forEach(((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),s.Os.set(t,a)}class Ov{constructor(){this.activeTargetIds=BR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZC{constructor(){this.Mo=new Ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="ConnectivityMonitor";class Vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){nt(Nv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){nt(Nv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec=null;function Wd(){return Ec===null?Ec=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ec++,"0x"+Ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="RestConnection",$C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,h){const d=Wd(),p=this.zo(t,i.toUriEncodedString());nt(Cd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,h);const{host:_}=new URL(p),S=Ka(_);return this.Jo(t,p,v,a,S).then((R=>(nt(Cd,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw qa(Cd,`RPC '${t}' ${d} failed with error: `,R,"url: ",p,"request:",a),R}))}Ho(t,i,a,l,h,d){return this.Go(t,i,a,l,h)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ja})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,h)=>t[h]=l)),a&&a.headers.forEach(((l,h)=>t[h]=l))}zo(t,i){const a=$C[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class e2 extends WC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,h){const d=Wd();return new Promise(((p,v)=>{const _=new qE;_.setWithCredentials(!0),_.listenOnce(HE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case wc.NO_ERROR:const R=_.getResponseJson();nt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),p(R);break;case wc.TIMEOUT:nt(Ye,`RPC '${t}' ${d} timed out`),v(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const x=_.getStatus();if(nt(Ye,`RPC '${t}' ${d} failed with status:`,x,"response text:",_.getResponseText()),x>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const et=(function(ct){const yt=ct.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(yt)>=0?yt:X.UNKNOWN})(W.status);v(new at(et,W.message))}else v(new at(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new at(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{nt(Ye,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);nt(Ye,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=Wd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=QE(),p=FE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const S=h.join("");nt(Ye,`Creating RPC '${t}' stream ${l}: ${S}`,v);const R=d.createWebChannel(S,v);this.I_(R);let x=!1,G=!1;const W=new t2({Yo:Z=>{G?nt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(x||(nt(Ye,`Opening RPC '${t}' stream ${l} transport.`),R.open(),x=!0),nt(Ye,`RPC '${t}' stream ${l} sending:`,Z),R.send(Z))},Zo:()=>R.close()}),et=(Z,ct,yt)=>{Z.listen(ct,(mt=>{try{yt(mt)}catch(Ht){setTimeout((()=>{throw Ht}),0)}}))};return et(R,ll.EventType.OPEN,(()=>{G||(nt(Ye,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(R,ll.EventType.CLOSE,(()=>{G||(G=!0,nt(Ye,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(R))})),et(R,ll.EventType.ERROR,(Z=>{G||(G=!0,qa(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))})),et(R,ll.EventType.MESSAGE,(Z=>{if(!G){const ct=Z.data[0];Gt(!!ct,16349);const yt=ct,mt=yt?.error||yt[0]?.error;if(mt){nt(Ye,`RPC '${t}' stream ${l} received error:`,mt);const Ht=mt.status;let te=(function(b){const A=we[b];if(A!==void 0)return wT(A)})(Ht),It=mt.message;te===void 0&&(te=X.INTERNAL,It="Unknown error status: "+Ht+" with message "+mt.message),G=!0,W.a_(new at(te,It)),R.close()}else nt(Ye,`RPC '${t}' stream ${l} received:`,ct),W.u_(ct)}})),et(p,GE.STAT_EVENT,(Z=>{Z.stat===jd.PROXY?nt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===jd.NOPROXY&&nt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(s){return new sC(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="PersistentStream";class BT{constructor(t,i,a,l,h,d,p,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return nt(Mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(nt(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class n2 extends BT{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=lC(this.serializer,t),a=(function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ai(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Jd(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Qd(v)?{documents:hC(h,v)}:{query:fC(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=IT(h,d.resumeToken);const _=Kd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Fc(h,d.snapshotVersion.toTimestamp());const _=Kd(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=mC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Jd(this.serializer),i.removeTarget=t,this.q_(i)}}class i2 extends BT{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=cC(t.writeResults,t.commitTime),a=Ai(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Jd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>uC(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{}class s2 extends r2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,Xd(i,a),l,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())}))}Ho(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Xd(i,a),l,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class a2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):nt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class o2{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Bs(this)&&(nt(Ls,"Restarting streams for network reachability change."),await(async function(v){const _=Et(v);_.Ea.add(4),await Pl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await ch(_)})(this))}))})),this.Ra=new a2(a,l)}}async function ch(s){if(Bs(s))for(const t of s.da)await t(!0)}async function Pl(s){for(const t of s.da)await t(!1)}function jT(s,t){const i=Et(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Lm(i)?xm(i):to(i).O_()&&Um(i,t))}function Mm(s,t){const i=Et(s),a=to(i);i.Ia.delete(t),a.O_()&&qT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Bs(i)&&i.Ra.set("Unknown"))}function Um(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}to(s).Y_(t)}function qT(s,t){s.Va.Ue(t),to(s).Z_(t)}function xm(s){s.Va=new eC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),to(s).start(),s.Ra.ua()}function Lm(s){return Bs(s)&&!to(s).x_()&&s.Ia.size>0}function Bs(s){return Et(s).Ea.size===0}function HT(s){s.Va=void 0}async function l2(s){s.Ra.set("Online")}async function u2(s){s.Ia.forEach(((t,i)=>{Um(s,t)}))}async function c2(s,t){HT(s),Lm(s)?(s.Ra.ha(t),xm(s)):s.Ra.set("Unknown")}async function h2(s,t,i){if(s.Ra.set("Online"),t instanceof CT&&t.state===2&&t.cause)try{await(async function(l,h){const d=h.cause;for(const p of h.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){nt(Ls,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Yc(s,a)}else if(t instanceof Dc?s.Va.Ze(t):t instanceof RT?s.Va.st(t):s.Va.tt(t),!i.isEqual(_t.min()))try{const a=await PT(s.localStore);i.compareTo(a)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(Fe.EMPTY_BYTE_STRING,S.snapshotVersion)),qT(h,v);const R=new zr(S.target,v,_,S.sequenceNumber);Um(h,R)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){nt(Ls,"Failed to raise snapshot:",a),await Yc(s,a)}}async function Yc(s,t,i){if(!Wa(t))throw t;s.Ea.add(1),await Pl(s),s.Ra.set("Offline"),i||(i=()=>PT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{nt(Ls,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await ch(s)}))}function GT(s,t){return t().catch((i=>Yc(s,i,t)))}async function hh(s){const t=Et(s),i=Xr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:vm;for(;f2(t);)try{const l=await YC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,d2(t,l)}catch(l){await Yc(t,l)}FT(t)&&QT(t)}function f2(s){return Bs(s)&&s.Ta.length<10}function d2(s,t){s.Ta.push(t);const i=Xr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function FT(s){return Bs(s)&&!Xr(s).x_()&&s.Ta.length>0}function QT(s){Xr(s).start()}async function m2(s){Xr(s).ra()}async function g2(s){const t=Xr(s);for(const i of s.Ta)t.ea(i.mutations)}async function p2(s,t,i){const a=s.Ta.shift(),l=Rm.from(a,t,i);await GT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await hh(s)}async function y2(s,t){t&&Xr(s).X_&&await(async function(a,l){if((function(d){return $R(d)&&d!==X.ABORTED})(l.code)){const h=a.Ta.shift();Xr(a).B_(),await GT(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l))),await hh(a)}})(s,t),FT(s)&&QT(s)}async function Uv(s,t){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),nt(Ls,"RemoteStore received new credentials");const a=Bs(i);i.Ea.add(3),await Pl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ch(i)}async function _2(s,t){const i=Et(s);t?(i.Ea.delete(2),await ch(i)):t||(i.Ea.add(2),await Pl(i),i.Ra.set("Unknown"))}function to(s){return s.ma||(s.ma=(function(i,a,l){const h=Et(i);return h.sa(),new n2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:l2.bind(null,s),t_:u2.bind(null,s),r_:c2.bind(null,s),H_:h2.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Lm(s)?xm(s):s.Ra.set("Unknown")):(await s.ma.stop(),HT(s))}))),s.ma}function Xr(s){return s.fa||(s.fa=(function(i,a,l){const h=Et(i);return h.sa(),new i2(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:m2.bind(null,s),r_:y2.bind(null,s),ta:g2.bind(null,s),na:p2.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await hh(s)):(await s.fa.stop(),s.Ta.length>0&&(nt(Ls,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,p=new km(t,i,d,l,h);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(s,t){if(Wi("AsyncQueue",`${t}: ${s}`),Wa(s))return new at(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{static emptySet(t){return new za(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=ul(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof za)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new za;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(){this.ga=new le(ut.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):dt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Ya{constructor(t,i,a,l,h,d,p,v,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new Ya(t,i,za.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class E2{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Et(i),h=l.queries;l.queries=Lv(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new at(X.ABORTED,"Firestore shutting down"))}}function Lv(){return new Ps((s=>fT(s)),rh)}async function T2(s,t){const i=Et(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new v2,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Pm(d,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&zm(i)}async function S2(s,t){const i=Et(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function A2(s,t){const i=Et(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&zm(i)}function b2(s,t,i){const a=Et(s),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);a.queries.delete(t)}function zm(s){s.Ca.forEach((t=>{t.next()}))}var tm,kv;(kv=tm||(tm={})).Ma="default",kv.Cache="cache";class w2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Ya(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t){this.key=t}}class KT{constructor(t){this.key=t}}class R2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=dT(t),this.tu=new za(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new xv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,R)=>{const x=l.get(S),G=sh(this.query,R)?R:null,W=!!x&&this.mutatedKeys.has(x.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;x&&G?x.data.isEqual(G.data)?W!==et&&(a.track({type:3,doc:G}),Z=!0):this.su(x,G)||(a.track({type:2,doc:G}),Z=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(p=!0)):!x&&G?(a.track({type:0,doc:G}),Z=!0):x&&!G&&(a.track({type:1,doc:x}),Z=!0,(v||_)&&(p=!0)),Z&&(G?(d=d.add(G),h=et?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Cs:p,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,R)=>(function(G,W){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Rt:Z})}};return et(G)-et(W)})(S.type,R.type)||this.eu(S.doc,R.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ya(this.query,t.tu,h,d,t.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new KT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new YT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Bm="SyncEngine";class C2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class I2{constructor(t){this.key=t,this.hu=!1}}class D2{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ps((p=>fT(p)),rh),this.Iu=new Map,this.Eu=new Set,this.du=new le(ut.comparator),this.Au=new Map,this.Ru=new Dm,this.Vu={},this.mu=new Map,this.fu=Qa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function O2(s,t,i=!0){const a=t0(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await XT(a,t,i,!0),l}async function N2(s,t){const i=t0(s);await XT(i,t,!0,!1)}async function XT(s,t,i,a){const l=await KC(s.localStore,Si(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return a&&(p=await V2(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&jT(s.remoteStore,l),p}async function V2(s,t,i,a,l){s.pu=(R,x,G)=>(async function(et,Z,ct,yt){let mt=Z.view.ru(ct);mt.Cs&&(mt=await Dv(et.localStore,Z.query,!1).then((({documents:I})=>Z.view.ru(I,mt))));const Ht=yt&&yt.targetChanges.get(Z.targetId),te=yt&&yt.targetMismatches.get(Z.targetId)!=null,It=Z.view.applyChanges(mt,et.isPrimaryClient,Ht,te);return zv(et,Z.targetId,It.au),It.snapshot})(s,R,x,G);const h=await Dv(s.localStore,t,!0),d=new R2(t,h.Qs),p=d.ru(h.documents),v=kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,v);zv(s,i,_.au);const S=new C2(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function M2(s,t,i){const a=Et(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter((d=>!rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await $d(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Mm(a.remoteStore,l.targetId),em(a,l.targetId)})).catch($a)):(em(a,l.targetId),await $d(a.localStore,l.targetId,!0))}async function U2(s,t){const i=Et(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Mm(i.remoteStore,a.targetId))}async function x2(s,t,i){const a=q2(s);try{const l=await(function(d,p){const v=Et(d),_=ie.now(),S=p.reduce(((G,W)=>G.add(W.key)),Mt());let R,x;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=tr(),et=Mt();return v.Ns.getEntries(G,S).next((Z=>{W=Z,W.forEach(((ct,yt)=>{yt.isValidDocument()||(et=et.add(ct))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,W))).next((Z=>{R=Z;const ct=[];for(const yt of p){const mt=YR(yt,R.get(yt.key).overlayedDocument);mt!=null&&ct.push(new zs(yt.key,mt,sT(mt.value.mapValue),Xi.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,ct,p)})).next((Z=>{x=Z;const ct=Z.applyToLocalDocumentSet(R,et);return v.documentOverlayCache.saveOverlays(G,Z.batchId,ct)}))})).then((()=>({batchId:x.batchId,changes:gT(R)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new le(Vt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await zl(a,l.changes),await hh(a.remoteStore)}catch(l){const h=Pm(l,"Failed to persist write");i.reject(h)}}async function ZT(s,t){const i=Et(s);try{const a=await FC(i.localStore,t);t.targetChanges.forEach(((l,h)=>{const d=i.Au.get(h);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await zl(i,a,t)}catch(a){await $a(a)}}function Pv(s,t,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((h,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const v=Et(d);v.onlineState=p;let _=!1;v.queries.forEach(((S,R)=>{for(const x of R.Sa)x.va(p)&&(_=!0)})),_&&zm(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function L2(s,t,i){const a=Et(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new le(ut.comparator);d=d.insert(h,Xe.newNoDocument(h,_t.min()));const p=Mt().add(h),v=new lh(_t.min(),new Map,new le(Vt),d,p);await ZT(a,v),a.du=a.du.remove(h),a.Au.delete(t),jm(a)}else await $d(a.localStore,t,!1).then((()=>em(a,t,i))).catch($a)}async function k2(s,t){const i=Et(s),a=t.batch.batchId;try{const l=await GC(i.localStore,t);$T(i,a,null),JT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await zl(i,l)}catch(l){await $a(l)}}async function P2(s,t,i){const a=Et(s);try{const l=await(function(d,p){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,p).next((R=>(Gt(R!==null,37113),S=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(a.localStore,t);$T(a,t,i),JT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await zl(a,l)}catch(l){await $a(l)}}function JT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function $T(s,t,i){const a=Et(s);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function em(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||WT(s,a)}))}function WT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Mm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),jm(s))}function zv(s,t,i){for(const a of i)a instanceof YT?(s.Ru.addReference(a.key,t),z2(s,a)):a instanceof KT?(nt(Bm,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||WT(s,a.key)):dt(19791,{wu:a})}function z2(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(nt(Bm,"New document in limbo: "+i),s.Eu.add(a),jm(s))}function jm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ut(oe.fromString(t)),a=s.fu.next();s.Au.set(a,new I2(i)),s.du=s.du.insert(i,a),jT(s.remoteStore,new zr(Si(bm(i.path)),a,"TargetPurposeLimboResolution",th.ce))}}async function zl(s,t,i){const a=Et(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Nm.As(v.targetId,_);h.push(S)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,_){const S=Et(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>K.forEach(_,(x=>K.forEach(x.Es,(G=>S.persistence.referenceDelegate.addReference(R,x.targetId,G))).next((()=>K.forEach(x.ds,(G=>S.persistence.referenceDelegate.removeReference(R,x.targetId,G)))))))))}catch(R){if(!Wa(R))throw R;nt(Vm,"Failed to update sequence numbers: "+R)}for(const R of _){const x=R.targetId;if(!R.fromCache){const G=S.Ms.get(x),W=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(W);S.Ms=S.Ms.insert(x,et)}}})(a.localStore,h))}async function B2(s,t){const i=Et(s);if(!i.currentUser.isEqual(t)){nt(Bm,"User change. New user:",t.toKey());const a=await kT(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new at(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await zl(i,a.Ls)}}function j2(s,t){const i=Et(s),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let l=Mt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function t0(s){const t=Et(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ZT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=j2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=L2.bind(null,t),t.Pu.H_=A2.bind(null,t.eventManager),t.Pu.yu=b2.bind(null,t.eventManager),t}function q2(s){const t=Et(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=k2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=P2.bind(null,t),t}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return HC(this.persistence,new BC,t.initialUser,this.serializer)}Cu(t){return new LT(Om.mi,this.serializer)}Du(t){return new ZC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class H2 extends Kc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Qc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new wC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new LT((a=>Qc.mi(a,i)),this.serializer)}}class nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=B2.bind(null,this.syncEngine),await _2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new E2})()}createDatastore(t){const i=uh(t.databaseInfo.databaseId),a=(function(h){return new e2(h)})(t.databaseInfo);return(function(h,d,p,v){return new s2(h,d,p,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,h,d,p){return new o2(a,l,h,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new JC})())}createSyncEngine(t,i){return(function(l,h,d,p,v,_,S){const R=new D2(l,h,d,p,v,_);return S&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Et(i);nt(Ls,"RemoteStore shutting down."),a.Ea.add(5),await Pl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="FirestoreClient";class F2{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=ym.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{nt(Zr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(nt(Zr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Pm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Dd(s,t){s.asyncQueue.verifyOperationInProgress(),nt(Zr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Bv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Q2(s);nt(Zr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Uv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Uv(t.remoteStore,l))),s._onlineComponents=t}async function Q2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt(Zr,"Using user provided OfflineComponentProvider");try{await Dd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Dd(s,new Kc)}}else nt(Zr,"Using default OfflineComponentProvider"),await Dd(s,new H2(void 0));return s._offlineComponents}async function e0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt(Zr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(nt(Zr,"Using default OnlineComponentProvider"),await Bv(s,new nm))),s._onlineComponents}function Y2(s){return e0(s).then((t=>t.syncEngine))}async function K2(s){const t=await e0(s),i=t.eventManager;return i.onListen=O2.bind(null,t.syncEngine),i.onUnlisten=M2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=N2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=U2.bind(null,t.syncEngine),i}function X2(s,t,i={}){const a=new Gr;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const S=new G2({next:x=>{S.Nu(),d.enqueueAndForget((()=>S2(h,R)));const G=x.docs.has(p);!G&&x.fromCache?_.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&x.fromCache&&v&&v.source==="server"?_.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),R=new w2(bm(p.path),S,{includeMetadataChanges:!0,qa:!0});return T2(h,R)})(await K2(s),s.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="firestore.googleapis.com",qv=!0;class Hv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=i0,this.ssl=qv}else this.host=t.host,this.ssl=t.ssl??qv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AC)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=n0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class qm{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Xw;switch(a.type){case"firstParty":return new Ww(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=jv.get(i);a&&(nt("ComponentProvider","Removing Datastore"),jv.delete(i),a.terminate())})(this),Promise.resolve()}}function Z2(s,t,i,a={}){s=Sl(s,qm);const l=Ka(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(nE(`https://${p}`),iE("Firestore",!0)),h.host!==i0&&h.host!==p&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:l,emulatorOptions:a};if(!Vs(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,S;if(typeof a.mockUserToken=="string")_=a.mockUserToken,S=Ke.MOCK_USER;else{_=EA(a.mockUserToken,s._app?.options.projectId);const R=a.mockUserToken.sub||a.mockUserToken.user_id;if(!R)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ke(R)}s._authCredentials=new Zw(new KE(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Hm(this.firestore,t,this._query)}}class Le{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Le(this.firestore,t,this._key)}toJSON(){return{type:Le._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(xl(i,Le._jsonSchema))return new Le(t,a||null,new ut(oe.fromString(i.referencePath)))}}Le._jsonSchemaVersion="firestore/documentReference/1.0",Le._jsonSchema={type:Re("string",Le._jsonSchemaVersion),referencePath:Re("string")};class Dl extends Hm{constructor(t,i,a){super(t,i,bm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Le(this.firestore,null,new ut(t))}withConverter(t){return new Dl(this.firestore,t,this._path)}}function J2(s,t,...i){if(s=Kn(s),arguments.length===1&&(t=ym.newId()),sR("doc","path",t),s instanceof qm){const a=oe.fromString(t,...i);return iv(a),new Le(s,null,new ut(a))}{if(!(s instanceof Le||s instanceof Dl))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(oe.fromString(t,...i));return iv(a),new Le(s.firestore,s instanceof Dl?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="AsyncQueue";class Fv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zT(this,"async_queue_retry"),this._c=()=>{const a=Id();a&&nt(Gv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wa(t))throw t;nt(Gv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Qv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=km.createAndSchedule(this,t,i,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&dt(47125,{Pc:Qv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Qv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Gm extends qm{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Fv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Fv(t),this._firestoreClient=void 0,await t}}}function $2(s,t){const i=typeof s=="object"?s:om(),a=typeof s=="string"?s:zc,l=am(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=_A("firestore");h&&Z2(l,...h)}return l}function r0(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||W2(s),s._firestoreClient}function W2(s){const t=s._freezeSettings(),i=(function(l,h,d,p){return new yR(l,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,n0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new F2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vn(Fe.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Vn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xl(t,Vn._jsonSchema))return Vn.fromBase64String(t.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:Re("string",Vn._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(t){if(xl(t,bi._jsonSchema))return new bi(t.latitude,t.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:Re("string",bi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xl(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new wi(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Re("string",wi._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=/^__.*__$/;class eI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new zs(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ll(t,this.data,i,this.fieldTransforms)}}function a0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{Ac:s})}}class Qm{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a0(this.Ac)&&tI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||uh(t)}Cc(t,i,a,l=!1){return new Qm({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iI(s){const t=s._freezeSettings(),i=uh(s._databaseId);return new nI(s._databaseId,!!t.ignoreUndefinedProperties,i)}function rI(s,t,i,a,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,l);c0("Data must be an object, but it was:",d,a);const p=l0(a,d);let v,_;if(h.merge)v=new Yn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const R of h.mergeFields){const x=sI(t,R,i);if(!d.contains(x))throw new at(X.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);oI(S,x)||S.push(x)}v=new Yn(S),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new eI(new Nn(p),v,_)}function o0(s,t){if(u0(s=Kn(s)))return c0("Unsupported field value:",t,s),l0(s,t);if(s instanceof s0)return(function(a,l){if(!a0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const h=[];let d=0;for(const p of a){let v=o0(p,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,t)}return(function(a,l){if((a=Kn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ie.fromDate(a);return{timestampValue:Fc(l.serializer,h)}}if(a instanceof ie){const h=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fc(l.serializer,h)}}if(a instanceof bi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Vn)return{bytesValue:IT(l.serializer,a._byteString)};if(a instanceof Le){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Im(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof wi)return(function(d,p){return{mapValue:{fields:{[iT]:{stringValue:rT},[Bc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return wm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${_m(a)}`)})(s,t)}function l0(s,t){const i={};return JE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ks(s,((a,l)=>{const h=o0(l,t.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function u0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof bi||s instanceof Vn||s instanceof Le||s instanceof s0||s instanceof wi)}function c0(s,t,i){if(!u0(i)||!XE(i)){const a=_m(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function sI(s,t,i){if((t=Kn(t))instanceof Fm)return t._internalPath;if(typeof t=="string")return h0(s,t);throw Xc("Field path arguments must be of type string or ",s,!1,void 0,i)}const aI=new RegExp("[~\\*/\\[\\]]");function h0(s,t,i){if(t.search(aI)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Fm(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Xc(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new at(X.INVALID_ARGUMENT,p+s+v)}function oI(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Le(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(d0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lI extends f0{data(){return super.data()}}function d0(s,t){return typeof t=="string"?h0(s,t):t instanceof Fm?t._internalPath:t._delegate._internalPath}class uI{convertValue(t,i="none"){switch(Kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ks(t,((l,h)=>{a[l]=this.convertValue(h,i)})),a}convertVectorValue(t){const i=t.fields?.[Bc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new wi(i)}convertGeoPoint(t){return new bi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=nh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(bl(t));default:return null}}convertTimestamp(t){const i=Qr(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Gt(UT(a),9688,{name:t});const l=new wl(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return l.isEqual(i)||Wi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class hl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends f0{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(d0("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ns._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:Re("string",Ns._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Oc extends Ns{data(t={}){return super.data(t)}}class _l{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new hl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Oc(this._firestore,this._userDataWriter,a.key,a,new hl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const v=new Oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new hl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new hl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),S=d.indexOf(p.doc.key)),{type:hI(p.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=_l._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ym.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(s){s=Sl(s,Le);const t=Sl(s.firestore,Gm);return X2(r0(t),s._key).then((i=>pI(t,s,i)))}_l._jsonSchemaVersion="firestore/querySnapshot/1.0",_l._jsonSchema={type:Re("string",_l._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class dI extends uI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Le(this.firestore,null,i)}}function mI(s,t,i){s=Sl(s,Le);const a=Sl(s.firestore,Gm),l=cI(s.converter,t);return gI(a,[rI(iI(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Xi.none())])}function gI(s,t){return(function(a,l){const h=new Gr;return a.asyncQueue.enqueueAndForget((async()=>x2(await Y2(a),l,h))),h.promise})(r0(s),t)}function pI(s,t,i){const a=i.docs.get(t._key),l=new dI(s);return new Ns(s,l,t._key,a,new hl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Ja=l})(Xa),Ba(new Ms("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),p=new Gm(new Jw(a.getProvider("auth-internal")),new tR(d,a.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(_.options.projectId,S)})(d,l),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),qr(W_,tv,t),qr(W_,tv,"esm2020")})();const yI={apiKey:"AIzaSyBDDKEf908B2botxBpCAtJWtZJxq7ylaKY",authDomain:"aeryth01.firebaseapp.com",projectId:"aeryth01",storageBucket:"aeryth01.appspot.com",messagingSenderId:"789931924901",appId:"1:789931924901:web:e09c529c4c814133ca9c4c"},m0=k1().length?om():aE(yI),fh=Yw(m0),_I=$2(m0);new vi;async function vI(s){if(!s)throw new Error("Missing access token");const t=vi.credential(null,s),{user:i}=await Mb(fh,t);return i}async function EI(){try{await Lb(fh)}catch(s){console.warn("signOutUser failed",s)}}let Od=null,Nd=null;async function TI(){return Od||new Promise((s,t)=>{const i=fh.onAuthStateChanged(a=>{i(),a?(Od=a,s(a)):t(new Error("No signed-in user"))})})}async function SI(){const s=await TI();return J2(_I,"aeryth_data",s.uid)}async function AI(){try{const s=await SI(),t=await fI(s);if(t.exists())return t.data();const i={aeryth_settings:{aerythTone:"Friendly",userInfo:"",routineCriteria:""},aeryth_routines:[],aeryth_diary:{},aeryth_stickies:{},aeryth_event_statuses:{},aeryth_notif_chats:{},aeryth_profile:null};return await mI(s,i),i}catch(s){return console.error("loadMasterJSON error:",s),{}}}async function Yv(s,t){try{return Nd||(Nd=await AI()),Nd[s]??t}catch(i){return console.error("loadAsync error:",i),t}}function Vd(s){return new Date(s.getTime()-s.getTimezoneOffset()*6e4).toISOString().split("T")[0]}const bI=s=>{const t=new Date(s+"T12:00:00");return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][t.getDay()]},wI=()=>{const[s,t]=Fn.useState(null),[i,a]=Fn.useState(null),[l,h]=Fn.useState("settings"),[d,p]=Fn.useState(!0),[v,_]=Fn.useState(null);Fn.useEffect(()=>{const A=fh.onAuthStateChanged(async O=>{O?(t(O),await S()):(t(null),p(!1))});return()=>A()},[]);async function S(){p(!0);try{const A=await Yv("aeryth_routines",[]),O=await Yv("aeryth_settings",{});a({routines:A,settings:O})}catch(A){console.error("Failed to load data",A),_("Failed to load data from Firebase")}finally{p(!1)}}async function R(){p(!0),_(null);try{const A=await new Promise((D,M)=>{chrome.identity.getAuthToken({interactive:!0},w=>{chrome.runtime.lastError||!w?M(chrome.runtime.lastError||new Error("No token")):D(w)})}),O=await vI(A);if(!O)throw new Error("Sign-in failed");t(O),await S()}catch(A){console.error("Google sign-in failed",A),_("Sign-in failed. Please try again.")}finally{p(!1)}}async function x(){p(!0),await EI(),t(null),a(null),h("settings"),p(!1)}if(d)return At.jsx("div",{style:{width:320,height:420,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg,#8b5cf6,#7c3aed)",color:"white",fontFamily:"system-ui"},children:At.jsxs("div",{style:{textAlign:"center"},children:[At.jsx(oA,{className:"animate-spin",size:28}),At.jsx("div",{style:{marginTop:8},children:"Connecting to Firebase..."})]})});if(!s)return At.jsxs("div",{style:{width:320,height:420,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"linear-gradient(180deg,#8b5cf6,#7c3aed)",color:"white",fontFamily:"system-ui",textAlign:"center",padding:16},children:[At.jsx("h3",{children:"Welcome to Aeryth"}),At.jsx("p",{style:{opacity:.85},children:"Sign in with Google to continue"}),v&&At.jsx("div",{style:{color:"#ffd1d1"},children:v}),At.jsx("button",{onClick:R,style:{marginTop:12,background:"white",color:"#7c3aed",padding:"8px 12px",borderRadius:6,border:"none",fontWeight:600},children:"Sign in with Google"})]});const G=new Date,W=G.toISOString().slice(0,10),et=G.getHours()*60+G.getMinutes(),Z={Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6,Sun:0},ct=G.getDay(),yt=(i?.routines||[]).filter(A=>{if(!A.days||!A.days.some(w=>Z[w]===ct))return!1;const[O,D]=(A.startTime||"00:00").split(":").map(Number);return O*60+D>et}).sort((A,O)=>(A.startTime||"00:00")>(O.startTime||"00:00")?1:-1).slice(0,3),Ht=(()=>{const A={},O=G.getMonth(),D=G.getFullYear(),M=new Date(D,O,1),w=new Date(D,O+1,0);for(let ft=new Date(M);ft<=w;ft.setDate(ft.getDate()+1))A[Vd(ft)]=[];return(i?.routines||[]).forEach(ft=>{if(!ft.days||!ft.startTime)return;const kt=ft.createdAt?Vd(new Date(ft.createdAt)):null;Object.keys(A).forEach(q=>{if(kt&&q<kt)return;const $=bI(q);ft.days.includes($)&&A[q].push({routineId:ft.id,name:ft.name||"Routine",color:ft.color||"violet",startTime:ft.startTime,endTime:ft.endTime})})}),Object.keys(A).forEach(ft=>{A[ft].sort((kt,q)=>(kt.startTime||"")>(q.startTime||"")?1:-1)}),A})(),It=(()=>{const A=G.getMonth(),O=G.getFullYear(),D=new Date(O,A,1),M=new Date(O,A+1,0),w=D.getDay(),ft=[];for(let kt=0;kt<w;kt++)ft.push(null);for(let kt=1;kt<=M.getDate();kt++)ft.push(new Date(O,A,kt));return ft})(),I=G.toLocaleString("default",{month:"long",year:"numeric"}),b=A=>{const O={violet:{bg:"#8b5cf6",text:"white"},green:"#86efac",rose:"#fda4af",amber:"#fbbf24"};return O[A]||O.violet};return At.jsxs("div",{style:{width:320,height:420,background:"linear-gradient(180deg,#8b5cf6,#7c3aed)",color:"white",fontFamily:"system-ui",borderRadius:12,overflow:"hidden",position:"relative"},children:[At.jsx("div",{style:{position:"absolute",top:6,right:6,cursor:"pointer"},onClick:()=>window.close(),children:At.jsx(uA,{size:16})}),At.jsxs("div",{style:{display:"flex",height:"100%"},children:[At.jsx("div",{style:{width:50,background:"rgba(255,255,255,0.1)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",padding:"6px 0"},children:[["","events",()=>h("events")],["","calendar",()=>h("calendar")],["","settings",()=>h("settings")],["","web",()=>chrome.tabs.create({url:"https://aeryth01.web.app/"})]].map(([A,O,D])=>At.jsx("div",{onClick:D,title:O,style:{cursor:"pointer",fontSize:18,opacity:l===O?1:.6},children:A},O))}),At.jsxs("div",{style:{flex:1,padding:10,overflowY:"auto"},children:[l==="events"&&At.jsxs(At.Fragment,{children:[At.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:16},children:"Today's Upcoming Events"}),yt.length?yt.map(A=>At.jsxs("div",{style:{marginBottom:8,padding:8,background:"rgba(255,255,255,0.15)",borderRadius:6,borderLeft:"3px solid rgba(255,255,255,0.4)"},children:[At.jsx("div",{style:{fontWeight:600,marginBottom:2,fontSize:20},children:A.name}),At.jsxs("div",{style:{fontSize:14,opacity:.9},children:[A.startTime," - ",A.endTime]}),A.description&&At.jsx("div",{style:{fontSize:12,opacity:.8,marginTop:4},children:A.description})]},A.id)):At.jsx("div",{style:{fontSize:12,opacity:.7},children:"No more events today."})]}),l==="calendar"&&At.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[At.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:14,textAlign:"center",flexShrink:0},children:I}),At.jsxs("div",{style:{background:"white",borderRadius:6,padding:4,flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:[At.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:1,marginBottom:3,flexShrink:0},children:["S","M","T","W","T","F","S"].map((A,O)=>At.jsx("div",{style:{textAlign:"center",fontSize:9,fontWeight:600,color:"#6b7280"},children:A},O))}),At.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gridTemplateRows:`repeat(${Math.ceil(It.length/7)}, 1fr)`,gap:2,flex:1},children:It.map((A,O)=>{if(!A)return At.jsx("div",{style:{minHeight:0}},`empty-${O}`);const D=Vd(A),M=D===W,w=Ht[D]||[];return At.jsxs("div",{style:{minHeight:0,background:M?"#e9d5ff":"#f3f4f6",borderRadius:3,padding:"2px",border:M?"1.5px solid #a855f7":"1px solid #e5e7eb",display:"flex",flexDirection:"column",overflow:"hidden"},children:[At.jsx("div",{style:{fontSize:8,fontWeight:M?700:500,color:"#374151",textAlign:"center",marginBottom:2,flexShrink:0},children:A.getDate()}),At.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:1,minHeight:0,overflow:"hidden"},children:[w.slice(0,2).map((ft,kt)=>{const q=b(ft.color);return At.jsx("div",{style:{background:typeof q=="object"?q.bg:q,color:typeof q=="object"?q.text:"#000",fontSize:5.5,padding:"1px 2px",borderRadius:2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",lineHeight:1.3,flexShrink:0},title:ft.name,children:ft.name},kt)}),w.length>2&&At.jsxs("div",{style:{fontSize:5.5,color:"#6b7280",textAlign:"center",flexShrink:0,marginTop:"auto"},children:["+",w.length-2," more"]})]})]},D)})})]})]}),l==="settings"&&At.jsxs("div",{children:[At.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:16},children:"Settings"}),At.jsxs("p",{style:{fontSize:13,marginBottom:6},children:["Signed in as ",At.jsx("b",{children:s.displayName||s.email})]}),At.jsx("button",{onClick:x,style:{background:"white",color:"#7c3aed",fontWeight:600,padding:"6px 12px",border:"none",borderRadius:6,cursor:"pointer"},children:"Sign out"})]})]})]})]})};tA.createRoot(document.getElementById("root")).render(At.jsx(wI,{}));
